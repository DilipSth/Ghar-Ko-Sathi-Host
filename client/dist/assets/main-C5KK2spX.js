function hy(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ap={exports:{}},dl={},lp={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=Symbol.for("react.element"),my=Symbol.for("react.portal"),py=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),vy=Symbol.for("react.profiler"),xy=Symbol.for("react.provider"),yy=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),wy=Symbol.for("react.suspense"),by=Symbol.for("react.memo"),jy=Symbol.for("react.lazy"),bf=Symbol.iterator;function Ny(e){return e===null||typeof e!="object"?null:(e=bf&&e[bf]||e["@@iterator"],typeof e=="function"?e:null)}var cp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},up=Object.assign,dp={};function Gi(e,t,n){this.props=e,this.context=t,this.refs=dp,this.updater=n||cp}Gi.prototype.isReactComponent={};Gi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hp(){}hp.prototype=Gi.prototype;function gd(e,t,n){this.props=e,this.context=t,this.refs=dp,this.updater=n||cp}var vd=gd.prototype=new hp;vd.constructor=gd;up(vd,Gi.prototype);vd.isPureReactComponent=!0;var jf=Array.isArray,fp=Object.prototype.hasOwnProperty,xd={current:null},mp={key:!0,ref:!0,__self:!0,__source:!0};function pp(e,t,n){var i,o={},l=null,u=null;if(t!=null)for(i in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(l=""+t.key),t)fp.call(t,i)&&!mp.hasOwnProperty(i)&&(o[i]=t[i]);var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){for(var f=Array(d),m=0;m<d;m++)f[m]=arguments[m+2];o.children=f}if(e&&e.defaultProps)for(i in d=e.defaultProps,d)o[i]===void 0&&(o[i]=d[i]);return{$$typeof:mo,type:e,key:l,ref:u,props:o,_owner:xd.current}}function Sy(e,t){return{$$typeof:mo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yd(e){return typeof e=="object"&&e!==null&&e.$$typeof===mo}function ky(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nf=/\/+/g;function yc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ky(""+e.key):t.toString(36)}function ca(e,t,n,i,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(l){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case mo:case my:u=!0}}if(u)return u=e,o=o(u),e=i===""?"."+yc(u,0):i,jf(o)?(n="",e!=null&&(n=e.replace(Nf,"$&/")+"/"),ca(o,t,n,"",function(m){return m})):o!=null&&(yd(o)&&(o=Sy(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Nf,"$&/")+"/")+e)),t.push(o)),1;if(u=0,i=i===""?".":i+":",jf(e))for(var d=0;d<e.length;d++){l=e[d];var f=i+yc(l,d);u+=ca(l,t,n,f,o)}else if(f=Ny(e),typeof f=="function")for(e=f.call(e),d=0;!(l=e.next()).done;)l=l.value,f=i+yc(l,d++),u+=ca(l,t,n,f,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Ho(e,t,n){if(e==null)return e;var i=[],o=0;return ca(e,i,"","",function(l){return t.call(n,l,o++)}),i}function Cy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},ua={transition:null},Py={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:ua,ReactCurrentOwner:xd};function gp(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Ho,forEach:function(e,t,n){Ho(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ho(e,function(){t++}),t},toArray:function(e){return Ho(e,function(t){return t})||[]},only:function(e){if(!yd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Gi;Se.Fragment=py;Se.Profiler=vy;Se.PureComponent=gd;Se.StrictMode=gy;Se.Suspense=wy;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Py;Se.act=gp;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=up({},e.props),o=e.key,l=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,u=xd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(f in t)fp.call(t,f)&&!mp.hasOwnProperty(f)&&(i[f]=t[f]===void 0&&d!==void 0?d[f]:t[f])}var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){d=Array(f);for(var m=0;m<f;m++)d[m]=arguments[m+2];i.children=d}return{$$typeof:mo,type:e.type,key:o,ref:l,props:i,_owner:u}};Se.createContext=function(e){return e={$$typeof:yy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xy,_context:e},e.Consumer=e};Se.createElement=pp;Se.createFactory=function(e){var t=pp.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:_y,render:e}};Se.isValidElement=yd;Se.lazy=function(e){return{$$typeof:jy,_payload:{_status:-1,_result:e},_init:Cy}};Se.memo=function(e,t){return{$$typeof:by,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=ua.transition;ua.transition={};try{e()}finally{ua.transition=t}};Se.unstable_act=gp;Se.useCallback=function(e,t){return kt.current.useCallback(e,t)};Se.useContext=function(e){return kt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return kt.current.useEffect(e,t)};Se.useId=function(){return kt.current.useId()};Se.useImperativeHandle=function(e,t,n){return kt.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return kt.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return kt.current.useReducer(e,t,n)};Se.useRef=function(e){return kt.current.useRef(e)};Se.useState=function(e){return kt.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return kt.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return kt.current.useTransition()};Se.version="18.3.1";lp.exports=Se;var v=lp.exports;const Ne=pd(v),Ey=hy({__proto__:null,default:Ne},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=v,Ty=Symbol.for("react.element"),Ry=Symbol.for("react.fragment"),Iy=Object.prototype.hasOwnProperty,My=Ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oy={key:!0,ref:!0,__self:!0,__source:!0};function vp(e,t,n){var i,o={},l=null,u=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(u=t.ref);for(i in t)Iy.call(t,i)&&!Oy.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:Ty,type:e,key:l,ref:u,props:o,_owner:My.current}}dl.Fragment=Ry;dl.jsx=vp;dl.jsxs=vp;ap.exports=dl;var s=ap.exports,Xc={},xp={exports:{}},Vt={},yp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,G){var U=A.length;A.push(G);e:for(;0<U;){var ee=U-1>>>1,ge=A[ee];if(0<o(ge,G))A[ee]=G,A[U]=ge,U=ee;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var G=A[0],U=A.pop();if(U!==G){A[0]=U;e:for(var ee=0,ge=A.length,Me=ge>>>1;ee<Me;){var ke=2*(ee+1)-1,ve=A[ke],se=ke+1,ue=A[se];if(0>o(ve,U))se<ge&&0>o(ue,ve)?(A[ee]=ue,A[se]=U,ee=se):(A[ee]=ve,A[ke]=U,ee=ke);else if(se<ge&&0>o(ue,U))A[ee]=ue,A[se]=U,ee=se;else break e}}return G}function o(A,G){var U=A.sortIndex-G.sortIndex;return U!==0?U:A.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],m=[],x=1,g=null,b=3,k=!1,N=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(A){for(var G=n(m);G!==null;){if(G.callback===null)i(m);else if(G.startTime<=A)i(m),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(m)}}function S(A){if(C=!1,j(A),!N)if(n(f)!==null)N=!0,ae(O);else{var G=n(m);G!==null&&H(S,G.startTime-A)}}function O(A,G){N=!1,C&&(C=!1,_(T),T=-1),k=!0;var U=b;try{for(j(G),g=n(f);g!==null&&(!(g.expirationTime>G)||A&&!K());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,b=g.priorityLevel;var ge=ee(g.expirationTime<=G);G=e.unstable_now(),typeof ge=="function"?g.callback=ge:g===n(f)&&i(f),j(G)}else i(f);g=n(f)}if(g!==null)var Me=!0;else{var ke=n(m);ke!==null&&H(S,ke.startTime-G),Me=!1}return Me}finally{g=null,b=U,k=!1}}var $=!1,M=null,T=-1,q=5,F=-1;function K(){return!(e.unstable_now()-F<q)}function J(){if(M!==null){var A=e.unstable_now();F=A;var G=!0;try{G=M(!0,A)}finally{G?fe():($=!1,M=null)}}else $=!1}var fe;if(typeof w=="function")fe=function(){w(J)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,pe=Re.port2;Re.port1.onmessage=J,fe=function(){pe.postMessage(null)}}else fe=function(){P(J,0)};function ae(A){M=A,$||($=!0,fe())}function H(A,G){T=P(function(){A(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){N||k||(N=!0,ae(O))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(A){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var U=b;b=G;try{return A()}finally{b=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,G){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=b;b=A;try{return G()}finally{b=U}},e.unstable_scheduleCallback=function(A,G,U){var ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,A){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=U+ge,A={id:x++,callback:G,priorityLevel:A,startTime:U,expirationTime:ge,sortIndex:-1},U>ee?(A.sortIndex=U,t(m,A),n(f)===null&&A===n(m)&&(C?(_(T),T=-1):C=!0,H(S,U-ee))):(A.sortIndex=ge,t(f,A),N||k||(N=!0,ae(O))),A},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(A){var G=b;return function(){var U=b;b=G;try{return A.apply(this,arguments)}finally{b=U}}}})(_p);yp.exports=_p;var Ay=yp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=v,Zt=Ay;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wp=new Set,Vs={};function ai(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(Vs[e]=t,e=0;e<t.length;e++)wp.add(t[e])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eu=Object.prototype.hasOwnProperty,By=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sf={},kf={};function Dy(e){return eu.call(kf,e)?!0:eu.call(Sf,e)?!1:By.test(e)?kf[e]=!0:(Sf[e]=!0,!1)}function Fy(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Uy(e,t,n,i){if(t===null||typeof t>"u"||Fy(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,n,i,o,l,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=u}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var _d=/[\-:]([a-z])/g;function wd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_d,wd);ht[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_d,wd);ht[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_d,wd);ht[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function bd(e,t,n,i){var o=ht.hasOwnProperty(t)?ht[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Uy(t,n,o,i)&&(n=null),i||o===null?Dy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var nr=zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wo=Symbol.for("react.element"),wi=Symbol.for("react.portal"),bi=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),tu=Symbol.for("react.profiler"),bp=Symbol.for("react.provider"),jp=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),nu=Symbol.for("react.suspense"),ru=Symbol.for("react.suspense_list"),Sd=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),Np=Symbol.for("react.offscreen"),Cf=Symbol.iterator;function ys(e){return e===null||typeof e!="object"?null:(e=Cf&&e[Cf]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,_c;function Ts(e){if(_c===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_c=t&&t[1]||""}return`
`+_c+e}var wc=!1;function bc(e,t){if(!e||wc)return"";wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var i=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){i=m}e.call(t.prototype)}else{try{throw Error()}catch(m){i=m}e()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),l=i.stack.split(`
`),u=o.length-1,d=l.length-1;1<=u&&0<=d&&o[u]!==l[d];)d--;for(;1<=u&&0<=d;u--,d--)if(o[u]!==l[d]){if(u!==1||d!==1)do if(u--,d--,0>d||o[u]!==l[d]){var f=`
`+o[u].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=u&&0<=d);break}}}finally{wc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ts(e):""}function $y(e){switch(e.tag){case 5:return Ts(e.type);case 16:return Ts("Lazy");case 13:return Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 2:case 15:return e=bc(e.type,!1),e;case 11:return e=bc(e.type.render,!1),e;case 1:return e=bc(e.type,!0),e;default:return""}}function iu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bi:return"Fragment";case wi:return"Portal";case tu:return"Profiler";case jd:return"StrictMode";case nu:return"Suspense";case ru:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jp:return(e.displayName||"Context")+".Consumer";case bp:return(e._context.displayName||"Context")+".Provider";case Nd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sd:return t=e.displayName||null,t!==null?t:iu(e.type)||"Memo";case cr:t=e._payload,e=e._init;try{return iu(e(t))}catch{}}return null}function Hy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iu(t);case 8:return t===jd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wy(e){var t=Sp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){i=""+u,l.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zo(e){e._valueTracker||(e._valueTracker=Wy(e))}function kp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Sp(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function su(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pf(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Pr(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cp(e,t){t=t.checked,t!=null&&bd(e,"checked",t,!1)}function ou(e,t){Cp(e,t);var n=Pr(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?au(e,t.type,n):t.hasOwnProperty("defaultValue")&&au(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ef(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function au(e,t,n){(t!=="number"||Ra(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rs=Array.isArray;function Ii(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Pr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Rs(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pr(n)}}function Pp(e,t){var n=Pr(t.value),i=Pr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Tf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ep(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ep(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vo,Lp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var As={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zy=["Webkit","ms","Moz","O"];Object.keys(As).forEach(function(e){Zy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),As[t]=As[e]})});function Tp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||As.hasOwnProperty(e)&&As[e]?(""+t).trim():t+"px"}function Rp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=Tp(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var Vy=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uu(e,t){if(t){if(Vy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function du(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=null;function kd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fu=null,Mi=null,Oi=null;function Rf(e){if(e=vo(e)){if(typeof fu!="function")throw Error(V(280));var t=e.stateNode;t&&(t=gl(t),fu(e.stateNode,e.type,t))}}function Ip(e){Mi?Oi?Oi.push(e):Oi=[e]:Mi=e}function Mp(){if(Mi){var e=Mi,t=Oi;if(Oi=Mi=null,Rf(e),t)for(e=0;e<t.length;e++)Rf(t[e])}}function Op(e,t){return e(t)}function Ap(){}var jc=!1;function zp(e,t,n){if(jc)return e(t,n);jc=!0;try{return Op(e,t,n)}finally{jc=!1,(Mi!==null||Oi!==null)&&(Ap(),Mp())}}function Ks(e,t){var n=e.stateNode;if(n===null)return null;var i=gl(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var mu=!1;if(Gn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){mu=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{mu=!1}function qy(e,t,n,i,o,l,u,d,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(x){this.onError(x)}}var zs=!1,Ia=null,Ma=!1,pu=null,Ky={onError:function(e){zs=!0,Ia=e}};function Jy(e,t,n,i,o,l,u,d,f){zs=!1,Ia=null,qy.apply(Ky,arguments)}function Gy(e,t,n,i,o,l,u,d,f){if(Jy.apply(this,arguments),zs){if(zs){var m=Ia;zs=!1,Ia=null}else throw Error(V(198));Ma||(Ma=!0,pu=m)}}function li(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function If(e){if(li(e)!==e)throw Error(V(188))}function Yy(e){var t=e.alternate;if(!t){if(t=li(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return If(o),e;if(l===i)return If(o),t;l=l.sibling}throw Error(V(188))}if(n.return!==i.return)n=o,i=l;else{for(var u=!1,d=o.child;d;){if(d===n){u=!0,n=o,i=l;break}if(d===i){u=!0,i=o,n=l;break}d=d.sibling}if(!u){for(d=l.child;d;){if(d===n){u=!0,n=l,i=o;break}if(d===i){u=!0,i=l,n=o;break}d=d.sibling}if(!u)throw Error(V(189))}}if(n.alternate!==i)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Dp(e){return e=Yy(e),e!==null?Fp(e):null}function Fp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fp(e);if(t!==null)return t;e=e.sibling}return null}var Up=Zt.unstable_scheduleCallback,Mf=Zt.unstable_cancelCallback,Qy=Zt.unstable_shouldYield,Xy=Zt.unstable_requestPaint,Qe=Zt.unstable_now,e1=Zt.unstable_getCurrentPriorityLevel,Cd=Zt.unstable_ImmediatePriority,$p=Zt.unstable_UserBlockingPriority,Oa=Zt.unstable_NormalPriority,t1=Zt.unstable_LowPriority,Hp=Zt.unstable_IdlePriority,hl=null,Rn=null;function n1(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:s1,r1=Math.log,i1=Math.LN2;function s1(e){return e>>>=0,e===0?32:31-(r1(e)/i1|0)|0}var qo=64,Ko=4194304;function Is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Aa(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,l=e.pingedLanes,u=n&268435455;if(u!==0){var d=u&~o;d!==0?i=Is(d):(l&=u,l!==0&&(i=Is(l)))}else u=n&~o,u!==0?i=Is(u):l!==0&&(i=Is(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-gn(t),o=1<<n,i|=e[n],t&=~o;return i}function o1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a1(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var u=31-gn(l),d=1<<u,f=o[u];f===-1?(!(d&n)||d&i)&&(o[u]=o1(d,t)):f<=t&&(e.expiredLanes|=d),l&=~d}}function gu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wp(){var e=qo;return qo<<=1,!(qo&4194240)&&(qo=64),e}function Nc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function po(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gn(t),e[t]=n}function l1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-gn(n),l=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~l}}function Pd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-gn(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var Ie=0;function Zp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vp,Ed,qp,Kp,Jp,vu=!1,Jo=[],vr=null,xr=null,yr=null,Js=new Map,Gs=new Map,dr=[],c1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Of(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function ws(e,t,n,i,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},t!==null&&(t=vo(t),t!==null&&Ed(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function u1(e,t,n,i,o){switch(t){case"focusin":return vr=ws(vr,e,t,n,i,o),!0;case"dragenter":return xr=ws(xr,e,t,n,i,o),!0;case"mouseover":return yr=ws(yr,e,t,n,i,o),!0;case"pointerover":var l=o.pointerId;return Js.set(l,ws(Js.get(l)||null,e,t,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,Gs.set(l,ws(Gs.get(l)||null,e,t,n,i,o)),!0}return!1}function Gp(e){var t=Hr(e.target);if(t!==null){var n=li(t);if(n!==null){if(t=n.tag,t===13){if(t=Bp(n),t!==null){e.blockedOn=t,Jp(e.priority,function(){qp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function da(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);hu=i,n.target.dispatchEvent(i),hu=null}else return t=vo(n),t!==null&&Ed(t),e.blockedOn=n,!1;t.shift()}return!0}function Af(e,t,n){da(e)&&n.delete(t)}function d1(){vu=!1,vr!==null&&da(vr)&&(vr=null),xr!==null&&da(xr)&&(xr=null),yr!==null&&da(yr)&&(yr=null),Js.forEach(Af),Gs.forEach(Af)}function bs(e,t){e.blockedOn===t&&(e.blockedOn=null,vu||(vu=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,d1)))}function Ys(e){function t(o){return bs(o,e)}if(0<Jo.length){bs(Jo[0],e);for(var n=1;n<Jo.length;n++){var i=Jo[n];i.blockedOn===e&&(i.blockedOn=null)}}for(vr!==null&&bs(vr,e),xr!==null&&bs(xr,e),yr!==null&&bs(yr,e),Js.forEach(t),Gs.forEach(t),n=0;n<dr.length;n++)i=dr[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)Gp(n),n.blockedOn===null&&dr.shift()}var Ai=nr.ReactCurrentBatchConfig,za=!0;function h1(e,t,n,i){var o=Ie,l=Ai.transition;Ai.transition=null;try{Ie=1,Ld(e,t,n,i)}finally{Ie=o,Ai.transition=l}}function f1(e,t,n,i){var o=Ie,l=Ai.transition;Ai.transition=null;try{Ie=4,Ld(e,t,n,i)}finally{Ie=o,Ai.transition=l}}function Ld(e,t,n,i){if(za){var o=xu(e,t,n,i);if(o===null)Mc(e,t,i,Ba,n),Of(e,i);else if(u1(o,e,t,n,i))i.stopPropagation();else if(Of(e,i),t&4&&-1<c1.indexOf(e)){for(;o!==null;){var l=vo(o);if(l!==null&&Vp(l),l=xu(e,t,n,i),l===null&&Mc(e,t,i,Ba,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else Mc(e,t,i,null,n)}}var Ba=null;function xu(e,t,n,i){if(Ba=null,e=kd(i),e=Hr(e),e!==null)if(t=li(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ba=e,null}function Yp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e1()){case Cd:return 1;case $p:return 4;case Oa:case t1:return 16;case Hp:return 536870912;default:return 16}default:return 16}}var mr=null,Td=null,ha=null;function Qp(){if(ha)return ha;var e,t=Td,n=t.length,i,o="value"in mr?mr.value:mr.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(i=1;i<=u&&t[n-i]===o[l-i];i++);return ha=o.slice(e,1<i?1-i:void 0)}function fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Go(){return!0}function zf(){return!1}function qt(e){function t(n,i,o,l,u){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=u,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(l):l[d]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Go:zf,this.isPropagationStopped=zf,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),t}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=qt(Yi),go=Ve({},Yi,{view:0,detail:0}),m1=qt(go),Sc,kc,js,fl=Ve({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Id,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==js&&(js&&e.type==="mousemove"?(Sc=e.screenX-js.screenX,kc=e.screenY-js.screenY):kc=Sc=0,js=e),Sc)},movementY:function(e){return"movementY"in e?e.movementY:kc}}),Bf=qt(fl),p1=Ve({},fl,{dataTransfer:0}),g1=qt(p1),v1=Ve({},go,{relatedTarget:0}),Cc=qt(v1),x1=Ve({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),y1=qt(x1),_1=Ve({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w1=qt(_1),b1=Ve({},Yi,{data:0}),Df=qt(b1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S1[e])?!!t[e]:!1}function Id(){return k1}var C1=Ve({},go,{key:function(e){if(e.key){var t=j1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Id,charCode:function(e){return e.type==="keypress"?fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P1=qt(C1),E1=Ve({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ff=qt(E1),L1=Ve({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Id}),T1=qt(L1),R1=Ve({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I1=qt(R1),M1=Ve({},fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O1=qt(M1),A1=[9,13,27,32],Md=Gn&&"CompositionEvent"in window,Bs=null;Gn&&"documentMode"in document&&(Bs=document.documentMode);var z1=Gn&&"TextEvent"in window&&!Bs,Xp=Gn&&(!Md||Bs&&8<Bs&&11>=Bs),Uf=" ",$f=!1;function eg(e,t){switch(e){case"keyup":return A1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function B1(e,t){switch(e){case"compositionend":return tg(t);case"keypress":return t.which!==32?null:($f=!0,Uf);case"textInput":return e=t.data,e===Uf&&$f?null:e;default:return null}}function D1(e,t){if(ji)return e==="compositionend"||!Md&&eg(e,t)?(e=Qp(),ha=Td=mr=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xp&&t.locale!=="ko"?null:t.data;default:return null}}var F1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F1[e.type]:t==="textarea"}function ng(e,t,n,i){Ip(i),t=Da(t,"onChange"),0<t.length&&(n=new Rd("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ds=null,Qs=null;function U1(e){fg(e,0)}function ml(e){var t=ki(e);if(kp(t))return e}function $1(e,t){if(e==="change")return t}var rg=!1;if(Gn){var Pc;if(Gn){var Ec="oninput"in document;if(!Ec){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),Ec=typeof Wf.oninput=="function"}Pc=Ec}else Pc=!1;rg=Pc&&(!document.documentMode||9<document.documentMode)}function Zf(){Ds&&(Ds.detachEvent("onpropertychange",ig),Qs=Ds=null)}function ig(e){if(e.propertyName==="value"&&ml(Qs)){var t=[];ng(t,Qs,e,kd(e)),zp(U1,t)}}function H1(e,t,n){e==="focusin"?(Zf(),Ds=t,Qs=n,Ds.attachEvent("onpropertychange",ig)):e==="focusout"&&Zf()}function W1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(Qs)}function Z1(e,t){if(e==="click")return ml(t)}function V1(e,t){if(e==="input"||e==="change")return ml(t)}function q1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:q1;function Xs(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!eu.call(t,o)||!xn(e[o],t[o]))return!1}return!0}function Vf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qf(e,t){var n=Vf(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vf(n)}}function sg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function og(){for(var e=window,t=Ra();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ra(e.document)}return t}function Od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K1(e){var t=og(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sg(n.ownerDocument.documentElement,n)){if(i!==null&&Od(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(i.start,o);i=i.end===void 0?l:Math.min(i.end,o),!e.extend&&l>i&&(o=i,i=l,l=o),o=qf(n,l);var u=qf(n,i);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var J1=Gn&&"documentMode"in document&&11>=document.documentMode,Ni=null,yu=null,Fs=null,_u=!1;function Kf(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_u||Ni==null||Ni!==Ra(i)||(i=Ni,"selectionStart"in i&&Od(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fs&&Xs(Fs,i)||(Fs=i,i=Da(yu,"onSelect"),0<i.length&&(t=new Rd("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ni)))}function Yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionend:Yo("Transition","TransitionEnd")},Lc={},ag={};Gn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function pl(e){if(Lc[e])return Lc[e];if(!Si[e])return e;var t=Si[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ag)return Lc[e]=t[n];return e}var lg=pl("animationend"),cg=pl("animationiteration"),ug=pl("animationstart"),dg=pl("transitionend"),hg=new Map,Jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){hg.set(e,t),ai(t,[e])}for(var Tc=0;Tc<Jf.length;Tc++){var Rc=Jf[Tc],G1=Rc.toLowerCase(),Y1=Rc[0].toUpperCase()+Rc.slice(1);Tr(G1,"on"+Y1)}Tr(lg,"onAnimationEnd");Tr(cg,"onAnimationIteration");Tr(ug,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(dg,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function Gf(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Gy(i,t,void 0,e),e.currentTarget=null}function fg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var u=i.length-1;0<=u;u--){var d=i[u],f=d.instance,m=d.currentTarget;if(d=d.listener,f!==l&&o.isPropagationStopped())break e;Gf(o,d,m),l=f}else for(u=0;u<i.length;u++){if(d=i[u],f=d.instance,m=d.currentTarget,d=d.listener,f!==l&&o.isPropagationStopped())break e;Gf(o,d,m),l=f}}}if(Ma)throw e=pu,Ma=!1,pu=null,e}function Be(e,t){var n=t[Su];n===void 0&&(n=t[Su]=new Set);var i=e+"__bubble";n.has(i)||(mg(t,e,2,!1),n.add(i))}function Ic(e,t,n){var i=0;t&&(i|=4),mg(n,e,i,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[Qo]){e[Qo]=!0,wp.forEach(function(n){n!=="selectionchange"&&(Q1.has(n)||Ic(n,!1,e),Ic(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,Ic("selectionchange",!1,t))}}function mg(e,t,n,i){switch(Yp(t)){case 1:var o=h1;break;case 4:o=f1;break;default:o=Ld}n=o.bind(null,t,n,e),o=void 0,!mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Mc(e,t,n,i,o){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var d=i.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(u===4)for(u=i.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;u=u.return}for(;d!==null;){if(u=Hr(d),u===null)return;if(f=u.tag,f===5||f===6){i=l=u;continue e}d=d.parentNode}}i=i.return}zp(function(){var m=l,x=kd(n),g=[];e:{var b=hg.get(e);if(b!==void 0){var k=Rd,N=e;switch(e){case"keypress":if(fa(n)===0)break e;case"keydown":case"keyup":k=P1;break;case"focusin":N="focus",k=Cc;break;case"focusout":N="blur",k=Cc;break;case"beforeblur":case"afterblur":k=Cc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=g1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=T1;break;case lg:case cg:case ug:k=y1;break;case dg:k=I1;break;case"scroll":k=m1;break;case"wheel":k=O1;break;case"copy":case"cut":case"paste":k=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ff}var C=(t&4)!==0,P=!C&&e==="scroll",_=C?b!==null?b+"Capture":null:b;C=[];for(var w=m,j;w!==null;){j=w;var S=j.stateNode;if(j.tag===5&&S!==null&&(j=S,_!==null&&(S=Ks(w,_),S!=null&&C.push(to(w,S,j)))),P)break;w=w.return}0<C.length&&(b=new k(b,N,null,n,x),g.push({event:b,listeners:C}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",b&&n!==hu&&(N=n.relatedTarget||n.fromElement)&&(Hr(N)||N[Yn]))break e;if((k||b)&&(b=x.window===x?x:(b=x.ownerDocument)?b.defaultView||b.parentWindow:window,k?(N=n.relatedTarget||n.toElement,k=m,N=N?Hr(N):null,N!==null&&(P=li(N),N!==P||N.tag!==5&&N.tag!==6)&&(N=null)):(k=null,N=m),k!==N)){if(C=Bf,S="onMouseLeave",_="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(C=Ff,S="onPointerLeave",_="onPointerEnter",w="pointer"),P=k==null?b:ki(k),j=N==null?b:ki(N),b=new C(S,w+"leave",k,n,x),b.target=P,b.relatedTarget=j,S=null,Hr(x)===m&&(C=new C(_,w+"enter",N,n,x),C.target=j,C.relatedTarget=P,S=C),P=S,k&&N)t:{for(C=k,_=N,w=0,j=C;j;j=_i(j))w++;for(j=0,S=_;S;S=_i(S))j++;for(;0<w-j;)C=_i(C),w--;for(;0<j-w;)_=_i(_),j--;for(;w--;){if(C===_||_!==null&&C===_.alternate)break t;C=_i(C),_=_i(_)}C=null}else C=null;k!==null&&Yf(g,b,k,C,!1),N!==null&&P!==null&&Yf(g,P,N,C,!0)}}e:{if(b=m?ki(m):window,k=b.nodeName&&b.nodeName.toLowerCase(),k==="select"||k==="input"&&b.type==="file")var O=$1;else if(Hf(b))if(rg)O=V1;else{O=W1;var $=H1}else(k=b.nodeName)&&k.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(O=Z1);if(O&&(O=O(e,m))){ng(g,O,n,x);break e}$&&$(e,b,m),e==="focusout"&&($=b._wrapperState)&&$.controlled&&b.type==="number"&&au(b,"number",b.value)}switch($=m?ki(m):window,e){case"focusin":(Hf($)||$.contentEditable==="true")&&(Ni=$,yu=m,Fs=null);break;case"focusout":Fs=yu=Ni=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,Kf(g,n,x);break;case"selectionchange":if(J1)break;case"keydown":case"keyup":Kf(g,n,x)}var M;if(Md)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ji?eg(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Xp&&n.locale!=="ko"&&(ji||T!=="onCompositionStart"?T==="onCompositionEnd"&&ji&&(M=Qp()):(mr=x,Td="value"in mr?mr.value:mr.textContent,ji=!0)),$=Da(m,T),0<$.length&&(T=new Df(T,e,null,n,x),g.push({event:T,listeners:$}),M?T.data=M:(M=tg(n),M!==null&&(T.data=M)))),(M=z1?B1(e,n):D1(e,n))&&(m=Da(m,"onBeforeInput"),0<m.length&&(x=new Df("onBeforeInput","beforeinput",null,n,x),g.push({event:x,listeners:m}),x.data=M))}fg(g,t)})}function to(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Da(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Ks(e,n),l!=null&&i.unshift(to(e,l,o)),l=Ks(e,t),l!=null&&i.push(to(e,l,o))),e=e.return}return i}function _i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yf(e,t,n,i,o){for(var l=t._reactName,u=[];n!==null&&n!==i;){var d=n,f=d.alternate,m=d.stateNode;if(f!==null&&f===i)break;d.tag===5&&m!==null&&(d=m,o?(f=Ks(n,l),f!=null&&u.unshift(to(n,f,d))):o||(f=Ks(n,l),f!=null&&u.push(to(n,f,d)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var X1=/\r\n?/g,e_=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(X1,`
`).replace(e_,"")}function Xo(e,t,n){if(t=Qf(t),Qf(e)!==t&&n)throw Error(V(425))}function Fa(){}var wu=null,bu=null;function ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,t_=typeof clearTimeout=="function"?clearTimeout:void 0,Xf=typeof Promise=="function"?Promise:void 0,n_=typeof queueMicrotask=="function"?queueMicrotask:typeof Xf<"u"?function(e){return Xf.resolve(null).then(e).catch(r_)}:Nu;function r_(e){setTimeout(function(){throw e})}function Oc(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),Ys(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);Ys(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Qi,no="__reactProps$"+Qi,Yn="__reactContainer$"+Qi,Su="__reactEvents$"+Qi,i_="__reactListeners$"+Qi,s_="__reactHandles$"+Qi;function Hr(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yn]||n[Tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=em(e);e!==null;){if(n=e[Tn])return n;e=em(e)}return t}e=n,n=e.parentNode}return null}function vo(e){return e=e[Tn]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function gl(e){return e[no]||null}var ku=[],Ci=-1;function Rr(e){return{current:e}}function Fe(e){0>Ci||(e.current=ku[Ci],ku[Ci]=null,Ci--)}function ze(e,t){Ci++,ku[Ci]=e.current,e.current=t}var Er={},yt=Rr(Er),Mt=Rr(!1),Xr=Er;function Hi(e,t){var n=e.type.contextTypes;if(!n)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ot(e){return e=e.childContextTypes,e!=null}function Ua(){Fe(Mt),Fe(yt)}function tm(e,t,n){if(yt.current!==Er)throw Error(V(168));ze(yt,t),ze(Mt,n)}function pg(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(V(108,Hy(e)||"Unknown",o));return Ve({},n,i)}function $a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Xr=yt.current,ze(yt,e),ze(Mt,Mt.current),!0}function nm(e,t,n){var i=e.stateNode;if(!i)throw Error(V(169));n?(e=pg(e,t,Xr),i.__reactInternalMemoizedMergedChildContext=e,Fe(Mt),Fe(yt),ze(yt,e)):Fe(Mt),ze(Mt,n)}var Wn=null,vl=!1,Ac=!1;function gg(e){Wn===null?Wn=[e]:Wn.push(e)}function o_(e){vl=!0,gg(e)}function Ir(){if(!Ac&&Wn!==null){Ac=!0;var e=0,t=Ie;try{var n=Wn;for(Ie=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Wn=null,vl=!1}catch(o){throw Wn!==null&&(Wn=Wn.slice(e+1)),Up(Cd,Ir),o}finally{Ie=t,Ac=!1}}return null}var Pi=[],Ei=0,Ha=null,Wa=0,en=[],tn=0,ei=null,Vn=1,qn="";function Fr(e,t){Pi[Ei++]=Wa,Pi[Ei++]=Ha,Ha=e,Wa=t}function vg(e,t,n){en[tn++]=Vn,en[tn++]=qn,en[tn++]=ei,ei=e;var i=Vn;e=qn;var o=32-gn(i)-1;i&=~(1<<o),n+=1;var l=32-gn(t)+o;if(30<l){var u=o-o%5;l=(i&(1<<u)-1).toString(32),i>>=u,o-=u,Vn=1<<32-gn(t)+o|n<<o|i,qn=l+e}else Vn=1<<l|n<<o|i,qn=e}function Ad(e){e.return!==null&&(Fr(e,1),vg(e,1,0))}function zd(e){for(;e===Ha;)Ha=Pi[--Ei],Pi[Ei]=null,Wa=Pi[--Ei],Pi[Ei]=null;for(;e===ei;)ei=en[--tn],en[tn]=null,qn=en[--tn],en[tn]=null,Vn=en[--tn],en[tn]=null}var Ht=null,$t=null,Ue=!1,pn=null;function xg(e,t){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,$t=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ei!==null?{id:Vn,overflow:qn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ht=e,$t=null,!0):!1;default:return!1}}function Cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pu(e){if(Ue){var t=$t;if(t){var n=t;if(!rm(e,t)){if(Cu(e))throw Error(V(418));t=_r(n.nextSibling);var i=Ht;t&&rm(e,t)?xg(i,n):(e.flags=e.flags&-4097|2,Ue=!1,Ht=e)}}else{if(Cu(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ue=!1,Ht=e}}}function im(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function ea(e){if(e!==Ht)return!1;if(!Ue)return im(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ju(e.type,e.memoizedProps)),t&&(t=$t)){if(Cu(e))throw yg(),Error(V(418));for(;t;)xg(e,t),t=_r(t.nextSibling)}if(im(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$t=_r(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=Ht?_r(e.stateNode.nextSibling):null;return!0}function yg(){for(var e=$t;e;)e=_r(e.nextSibling)}function Wi(){$t=Ht=null,Ue=!1}function Bd(e){pn===null?pn=[e]:pn.push(e)}var a_=nr.ReactCurrentBatchConfig;function Ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var i=n.stateNode}if(!i)throw Error(V(147,e));var o=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(u){var d=o.refs;u===null?delete d[l]:d[l]=u},t._stringRef=l,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function ta(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sm(e){var t=e._init;return t(e._payload)}function _g(e){function t(_,w){if(e){var j=_.deletions;j===null?(_.deletions=[w],_.flags|=16):j.push(w)}}function n(_,w){if(!e)return null;for(;w!==null;)t(_,w),w=w.sibling;return null}function i(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function o(_,w){return _=Nr(_,w),_.index=0,_.sibling=null,_}function l(_,w,j){return _.index=j,e?(j=_.alternate,j!==null?(j=j.index,j<w?(_.flags|=2,w):j):(_.flags|=2,w)):(_.flags|=1048576,w)}function u(_){return e&&_.alternate===null&&(_.flags|=2),_}function d(_,w,j,S){return w===null||w.tag!==6?(w=Hc(j,_.mode,S),w.return=_,w):(w=o(w,j),w.return=_,w)}function f(_,w,j,S){var O=j.type;return O===bi?x(_,w,j.props.children,S,j.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===cr&&sm(O)===w.type)?(S=o(w,j.props),S.ref=Ns(_,w,j),S.return=_,S):(S=_a(j.type,j.key,j.props,null,_.mode,S),S.ref=Ns(_,w,j),S.return=_,S)}function m(_,w,j,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=Wc(j,_.mode,S),w.return=_,w):(w=o(w,j.children||[]),w.return=_,w)}function x(_,w,j,S,O){return w===null||w.tag!==7?(w=Jr(j,_.mode,S,O),w.return=_,w):(w=o(w,j),w.return=_,w)}function g(_,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Hc(""+w,_.mode,j),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wo:return j=_a(w.type,w.key,w.props,null,_.mode,j),j.ref=Ns(_,null,w),j.return=_,j;case wi:return w=Wc(w,_.mode,j),w.return=_,w;case cr:var S=w._init;return g(_,S(w._payload),j)}if(Rs(w)||ys(w))return w=Jr(w,_.mode,j,null),w.return=_,w;ta(_,w)}return null}function b(_,w,j,S){var O=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return O!==null?null:d(_,w,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Wo:return j.key===O?f(_,w,j,S):null;case wi:return j.key===O?m(_,w,j,S):null;case cr:return O=j._init,b(_,w,O(j._payload),S)}if(Rs(j)||ys(j))return O!==null?null:x(_,w,j,S,null);ta(_,j)}return null}function k(_,w,j,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(j)||null,d(w,_,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wo:return _=_.get(S.key===null?j:S.key)||null,f(w,_,S,O);case wi:return _=_.get(S.key===null?j:S.key)||null,m(w,_,S,O);case cr:var $=S._init;return k(_,w,j,$(S._payload),O)}if(Rs(S)||ys(S))return _=_.get(j)||null,x(w,_,S,O,null);ta(w,S)}return null}function N(_,w,j,S){for(var O=null,$=null,M=w,T=w=0,q=null;M!==null&&T<j.length;T++){M.index>T?(q=M,M=null):q=M.sibling;var F=b(_,M,j[T],S);if(F===null){M===null&&(M=q);break}e&&M&&F.alternate===null&&t(_,M),w=l(F,w,T),$===null?O=F:$.sibling=F,$=F,M=q}if(T===j.length)return n(_,M),Ue&&Fr(_,T),O;if(M===null){for(;T<j.length;T++)M=g(_,j[T],S),M!==null&&(w=l(M,w,T),$===null?O=M:$.sibling=M,$=M);return Ue&&Fr(_,T),O}for(M=i(_,M);T<j.length;T++)q=k(M,_,T,j[T],S),q!==null&&(e&&q.alternate!==null&&M.delete(q.key===null?T:q.key),w=l(q,w,T),$===null?O=q:$.sibling=q,$=q);return e&&M.forEach(function(K){return t(_,K)}),Ue&&Fr(_,T),O}function C(_,w,j,S){var O=ys(j);if(typeof O!="function")throw Error(V(150));if(j=O.call(j),j==null)throw Error(V(151));for(var $=O=null,M=w,T=w=0,q=null,F=j.next();M!==null&&!F.done;T++,F=j.next()){M.index>T?(q=M,M=null):q=M.sibling;var K=b(_,M,F.value,S);if(K===null){M===null&&(M=q);break}e&&M&&K.alternate===null&&t(_,M),w=l(K,w,T),$===null?O=K:$.sibling=K,$=K,M=q}if(F.done)return n(_,M),Ue&&Fr(_,T),O;if(M===null){for(;!F.done;T++,F=j.next())F=g(_,F.value,S),F!==null&&(w=l(F,w,T),$===null?O=F:$.sibling=F,$=F);return Ue&&Fr(_,T),O}for(M=i(_,M);!F.done;T++,F=j.next())F=k(M,_,T,F.value,S),F!==null&&(e&&F.alternate!==null&&M.delete(F.key===null?T:F.key),w=l(F,w,T),$===null?O=F:$.sibling=F,$=F);return e&&M.forEach(function(J){return t(_,J)}),Ue&&Fr(_,T),O}function P(_,w,j,S){if(typeof j=="object"&&j!==null&&j.type===bi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Wo:e:{for(var O=j.key,$=w;$!==null;){if($.key===O){if(O=j.type,O===bi){if($.tag===7){n(_,$.sibling),w=o($,j.props.children),w.return=_,_=w;break e}}else if($.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===cr&&sm(O)===$.type){n(_,$.sibling),w=o($,j.props),w.ref=Ns(_,$,j),w.return=_,_=w;break e}n(_,$);break}else t(_,$);$=$.sibling}j.type===bi?(w=Jr(j.props.children,_.mode,S,j.key),w.return=_,_=w):(S=_a(j.type,j.key,j.props,null,_.mode,S),S.ref=Ns(_,w,j),S.return=_,_=S)}return u(_);case wi:e:{for($=j.key;w!==null;){if(w.key===$)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(_,w.sibling),w=o(w,j.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else t(_,w);w=w.sibling}w=Wc(j,_.mode,S),w.return=_,_=w}return u(_);case cr:return $=j._init,P(_,w,$(j._payload),S)}if(Rs(j))return N(_,w,j,S);if(ys(j))return C(_,w,j,S);ta(_,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(_,w.sibling),w=o(w,j),w.return=_,_=w):(n(_,w),w=Hc(j,_.mode,S),w.return=_,_=w),u(_)):n(_,w)}return P}var Zi=_g(!0),wg=_g(!1),Za=Rr(null),Va=null,Li=null,Dd=null;function Fd(){Dd=Li=Va=null}function Ud(e){var t=Za.current;Fe(Za),e._currentValue=t}function Eu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function zi(e,t){Va=e,Dd=Li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(It=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(Dd!==e)if(e={context:e,memoizedValue:t,next:null},Li===null){if(Va===null)throw Error(V(308));Li=e,Va.dependencies={lanes:0,firstContext:e}}else Li=Li.next=e;return t}var Wr=null;function $d(e){Wr===null?Wr=[e]:Wr.push(e)}function bg(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,$d(t)):(n.next=o.next,o.next=n),t.interleaved=n,Qn(e,i)}function Qn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ur=!1;function Hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ee&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,Qn(e,n)}return o=i.interleaved,o===null?(t.next=t,$d(i)):(t.next=o.next,o.next=t),i.interleaved=t,Qn(e,n)}function ma(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Pd(e,n)}}function om(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=u:l=l.next=u,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,i){var o=e.updateQueue;ur=!1;var l=o.firstBaseUpdate,u=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var f=d,m=f.next;f.next=null,u===null?l=m:u.next=m,u=f;var x=e.alternate;x!==null&&(x=x.updateQueue,d=x.lastBaseUpdate,d!==u&&(d===null?x.firstBaseUpdate=m:d.next=m,x.lastBaseUpdate=f))}if(l!==null){var g=o.baseState;u=0,x=m=f=null,d=l;do{var b=d.lane,k=d.eventTime;if((i&b)===b){x!==null&&(x=x.next={eventTime:k,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var N=e,C=d;switch(b=t,k=n,C.tag){case 1:if(N=C.payload,typeof N=="function"){g=N.call(k,g,b);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=C.payload,b=typeof N=="function"?N.call(k,g,b):N,b==null)break e;g=Ve({},g,b);break e;case 2:ur=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,b=o.effects,b===null?o.effects=[d]:b.push(d))}else k={eventTime:k,lane:b,tag:d.tag,payload:d.payload,callback:d.callback,next:null},x===null?(m=x=k,f=g):x=x.next=k,u|=b;if(d=d.next,d===null){if(d=o.shared.pending,d===null)break;b=d,d=b.next,b.next=null,o.lastBaseUpdate=b,o.shared.pending=null}}while(!0);if(x===null&&(f=g),o.baseState=f,o.firstBaseUpdate=m,o.lastBaseUpdate=x,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);ni|=u,e.lanes=u,e.memoizedState=g}}function am(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(V(191,o));o.call(i)}}}var xo={},In=Rr(xo),ro=Rr(xo),io=Rr(xo);function Zr(e){if(e===xo)throw Error(V(174));return e}function Wd(e,t){switch(ze(io,t),ze(ro,e),ze(In,xo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cu(t,e)}Fe(In),ze(In,t)}function Vi(){Fe(In),Fe(ro),Fe(io)}function Ng(e){Zr(io.current);var t=Zr(In.current),n=cu(t,e.type);t!==n&&(ze(ro,e),ze(In,n))}function Zd(e){ro.current===e&&(Fe(In),Fe(ro))}var He=Rr(0);function Ka(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zc=[];function Vd(){for(var e=0;e<zc.length;e++)zc[e]._workInProgressVersionPrimary=null;zc.length=0}var pa=nr.ReactCurrentDispatcher,Bc=nr.ReactCurrentBatchConfig,ti=0,We=null,rt=null,at=null,Ja=!1,Us=!1,so=0,l_=0;function pt(){throw Error(V(321))}function qd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Kd(e,t,n,i,o,l){if(ti=l,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=e===null||e.memoizedState===null?h_:f_,e=n(i,o),Us){l=0;do{if(Us=!1,so=0,25<=l)throw Error(V(301));l+=1,at=rt=null,t.updateQueue=null,pa.current=m_,e=n(i,o)}while(Us)}if(pa.current=Ga,t=rt!==null&&rt.next!==null,ti=0,at=rt=We=null,Ja=!1,t)throw Error(V(300));return e}function Jd(){var e=so!==0;return so=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?We.memoizedState=at=e:at=at.next=e,at}function an(){if(rt===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=at===null?We.memoizedState:at.next;if(t!==null)at=t,rt=e;else{if(e===null)throw Error(V(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},at===null?We.memoizedState=at=e:at=at.next=e}return at}function oo(e,t){return typeof t=="function"?t(e):t}function Dc(e){var t=an(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var i=rt,o=i.baseQueue,l=n.pending;if(l!==null){if(o!==null){var u=o.next;o.next=l.next,l.next=u}i.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,i=i.baseState;var d=u=null,f=null,m=l;do{var x=m.lane;if((ti&x)===x)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:e(i,m.action);else{var g={lane:x,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(d=f=g,u=i):f=f.next=g,We.lanes|=x,ni|=x}m=m.next}while(m!==null&&m!==l);f===null?u=i:f.next=d,xn(i,t.memoizedState)||(It=!0),t.memoizedState=i,t.baseState=u,t.baseQueue=f,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do l=o.lane,We.lanes|=l,ni|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fc(e){var t=an(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do l=e(l,u.action),u=u.next;while(u!==o);xn(l,t.memoizedState)||(It=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function Sg(){}function kg(e,t){var n=We,i=an(),o=t(),l=!xn(i.memoizedState,o);if(l&&(i.memoizedState=o,It=!0),i=i.queue,Gd(Eg.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,ao(9,Pg.bind(null,n,i,o,t),void 0,null),lt===null)throw Error(V(349));ti&30||Cg(n,t,o)}return o}function Cg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Pg(e,t,n,i){t.value=n,t.getSnapshot=i,Lg(t)&&Tg(e)}function Eg(e,t,n){return n(function(){Lg(t)&&Tg(e)})}function Lg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Tg(e){var t=Qn(e,1);t!==null&&vn(t,e,1,-1)}function lm(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e},t.queue=e,e=e.dispatch=d_.bind(null,We,e),[t.memoizedState,e]}function ao(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Rg(){return an().memoizedState}function ga(e,t,n,i){var o=Ln();We.flags|=e,o.memoizedState=ao(1|t,n,void 0,i===void 0?null:i)}function xl(e,t,n,i){var o=an();i=i===void 0?null:i;var l=void 0;if(rt!==null){var u=rt.memoizedState;if(l=u.destroy,i!==null&&qd(i,u.deps)){o.memoizedState=ao(t,n,l,i);return}}We.flags|=e,o.memoizedState=ao(1|t,n,l,i)}function cm(e,t){return ga(8390656,8,e,t)}function Gd(e,t){return xl(2048,8,e,t)}function Ig(e,t){return xl(4,2,e,t)}function Mg(e,t){return xl(4,4,e,t)}function Og(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ag(e,t,n){return n=n!=null?n.concat([e]):null,xl(4,4,Og.bind(null,t,e),n)}function Yd(){}function zg(e,t){var n=an();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&qd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Bg(e,t){var n=an();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&qd(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Dg(e,t,n){return ti&21?(xn(n,t)||(n=Wp(),We.lanes|=n,ni|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=n)}function c_(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var i=Bc.transition;Bc.transition={};try{e(!1),t()}finally{Ie=n,Bc.transition=i}}function Fg(){return an().memoizedState}function u_(e,t,n){var i=jr(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ug(e))$g(t,n);else if(n=bg(e,t,n,i),n!==null){var o=St();vn(n,e,i,o),Hg(n,t,i)}}function d_(e,t,n){var i=jr(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ug(e))$g(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var u=t.lastRenderedState,d=l(u,n);if(o.hasEagerState=!0,o.eagerState=d,xn(d,u)){var f=t.interleaved;f===null?(o.next=o,$d(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=bg(e,t,o,i),n!==null&&(o=St(),vn(n,e,i,o),Hg(n,t,i))}}function Ug(e){var t=e.alternate;return e===We||t!==null&&t===We}function $g(e,t){Us=Ja=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hg(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Pd(e,n)}}var Ga={readContext:on,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},h_={readContext:on,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:cm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ga(4194308,4,Og.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ln();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=u_.bind(null,We,e),[i.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:lm,useDebugValue:Yd,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=lm(!1),t=e[0];return e=c_.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=We,o=Ln();if(Ue){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),lt===null)throw Error(V(349));ti&30||Cg(i,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,cm(Eg.bind(null,i,l,e),[e]),i.flags|=2048,ao(9,Pg.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=Ln(),t=lt.identifierPrefix;if(Ue){var n=qn,i=Vn;n=(i&~(1<<32-gn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=so++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f_={readContext:on,useCallback:zg,useContext:on,useEffect:Gd,useImperativeHandle:Ag,useInsertionEffect:Ig,useLayoutEffect:Mg,useMemo:Bg,useReducer:Dc,useRef:Rg,useState:function(){return Dc(oo)},useDebugValue:Yd,useDeferredValue:function(e){var t=an();return Dg(t,rt.memoizedState,e)},useTransition:function(){var e=Dc(oo)[0],t=an().memoizedState;return[e,t]},useMutableSource:Sg,useSyncExternalStore:kg,useId:Fg,unstable_isNewReconciler:!1},m_={readContext:on,useCallback:zg,useContext:on,useEffect:Gd,useImperativeHandle:Ag,useInsertionEffect:Ig,useLayoutEffect:Mg,useMemo:Bg,useReducer:Fc,useRef:Rg,useState:function(){return Fc(oo)},useDebugValue:Yd,useDeferredValue:function(e){var t=an();return rt===null?t.memoizedState=e:Dg(t,rt.memoizedState,e)},useTransition:function(){var e=Fc(oo)[0],t=an().memoizedState;return[e,t]},useMutableSource:Sg,useSyncExternalStore:kg,useId:Fg,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yl={isMounted:function(e){return(e=e._reactInternals)?li(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=St(),o=jr(e),l=Kn(i,o);l.payload=t,n!=null&&(l.callback=n),t=wr(e,l,o),t!==null&&(vn(t,e,o,i),ma(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=St(),o=jr(e),l=Kn(i,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=wr(e,l,o),t!==null&&(vn(t,e,o,i),ma(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),i=jr(e),o=Kn(n,i);o.tag=2,t!=null&&(o.callback=t),t=wr(e,o,i),t!==null&&(vn(t,e,i,n),ma(t,e,i))}};function um(e,t,n,i,o,l,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,u):t.prototype&&t.prototype.isPureReactComponent?!Xs(n,i)||!Xs(o,l):!0}function Wg(e,t,n){var i=!1,o=Er,l=t.contextType;return typeof l=="object"&&l!==null?l=on(l):(o=Ot(t)?Xr:yt.current,i=t.contextTypes,l=(i=i!=null)?Hi(e,o):Er),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function dm(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function Tu(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Hd(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=on(l):(l=Ot(t)?Xr:yt.current,o.context=Hi(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Lu(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&yl.enqueueReplaceState(o,o.state,null),qa(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function qi(e,t){try{var n="",i=t;do n+=$y(i),i=i.return;while(i);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Uc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ru(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var p_=typeof WeakMap=="function"?WeakMap:Map;function Zg(e,t,n){n=Kn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Qa||(Qa=!0,$u=i),Ru(e,t)},n}function Vg(e,t,n){n=Kn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){Ru(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ru(e,t),typeof i!="function"&&(br===null?br=new Set([this]):br.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function hm(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new p_;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=E_.bind(null,e,t,n),t.then(e,e))}function fm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mm(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kn(-1,1),t.tag=2,wr(n,t,1))),n.lanes|=1),e)}var g_=nr.ReactCurrentOwner,It=!1;function jt(e,t,n,i){t.child=e===null?wg(t,null,n,i):Zi(t,e.child,n,i)}function pm(e,t,n,i,o){n=n.render;var l=t.ref;return zi(t,o),i=Kd(e,t,n,i,l,o),n=Jd(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xn(e,t,o)):(Ue&&n&&Ad(t),t.flags|=1,jt(e,t,i,o),t.child)}function gm(e,t,n,i,o){if(e===null){var l=n.type;return typeof l=="function"&&!sh(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,qg(e,t,l,i,o)):(e=_a(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var u=l.memoizedProps;if(n=n.compare,n=n!==null?n:Xs,n(u,i)&&e.ref===t.ref)return Xn(e,t,o)}return t.flags|=1,e=Nr(l,i),e.ref=t.ref,e.return=t,t.child=e}function qg(e,t,n,i,o){if(e!==null){var l=e.memoizedProps;if(Xs(l,i)&&e.ref===t.ref)if(It=!1,t.pendingProps=i=l,(e.lanes&o)!==0)e.flags&131072&&(It=!0);else return t.lanes=e.lanes,Xn(e,t,o)}return Iu(e,t,n,i,o)}function Kg(e,t,n){var i=t.pendingProps,o=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ri,Ut),Ut|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Ri,Ut),Ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,ze(Ri,Ut),Ut|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,ze(Ri,Ut),Ut|=i;return jt(e,t,o,n),t.child}function Jg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,i,o){var l=Ot(n)?Xr:yt.current;return l=Hi(t,l),zi(t,o),n=Kd(e,t,n,i,l,o),i=Jd(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xn(e,t,o)):(Ue&&i&&Ad(t),t.flags|=1,jt(e,t,n,o),t.child)}function vm(e,t,n,i,o){if(Ot(n)){var l=!0;$a(t)}else l=!1;if(zi(t,o),t.stateNode===null)va(e,t),Wg(t,n,i),Tu(t,n,i,o),i=!0;else if(e===null){var u=t.stateNode,d=t.memoizedProps;u.props=d;var f=u.context,m=n.contextType;typeof m=="object"&&m!==null?m=on(m):(m=Ot(n)?Xr:yt.current,m=Hi(t,m));var x=n.getDerivedStateFromProps,g=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function";g||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==i||f!==m)&&dm(t,u,i,m),ur=!1;var b=t.memoizedState;u.state=b,qa(t,i,u,o),f=t.memoizedState,d!==i||b!==f||Mt.current||ur?(typeof x=="function"&&(Lu(t,n,x,i),f=t.memoizedState),(d=ur||um(t,n,d,i,b,f,m))?(g||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),u.props=i,u.state=f,u.context=m,i=d):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,jg(e,t),d=t.memoizedProps,m=t.type===t.elementType?d:hn(t.type,d),u.props=m,g=t.pendingProps,b=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=on(f):(f=Ot(n)?Xr:yt.current,f=Hi(t,f));var k=n.getDerivedStateFromProps;(x=typeof k=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==g||b!==f)&&dm(t,u,i,f),ur=!1,b=t.memoizedState,u.state=b,qa(t,i,u,o);var N=t.memoizedState;d!==g||b!==N||Mt.current||ur?(typeof k=="function"&&(Lu(t,n,k,i),N=t.memoizedState),(m=ur||um(t,n,m,i,b,N,f)||!1)?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,N,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,N,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=N),u.props=i,u.state=N,u.context=f,i=m):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),i=!1)}return Mu(e,t,n,i,l,o)}function Mu(e,t,n,i,o,l){Jg(e,t);var u=(t.flags&128)!==0;if(!i&&!u)return o&&nm(t,n,!1),Xn(e,t,l);i=t.stateNode,g_.current=t;var d=u&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&u?(t.child=Zi(t,e.child,null,l),t.child=Zi(t,null,d,l)):jt(e,t,d,l),t.memoizedState=i.state,o&&nm(t,n,!0),t.child}function Gg(e){var t=e.stateNode;t.pendingContext?tm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tm(e,t.context,!1),Wd(e,t.containerInfo)}function xm(e,t,n,i,o){return Wi(),Bd(o),t.flags|=256,jt(e,t,n,i),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Au(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yg(e,t,n){var i=t.pendingProps,o=He.current,l=!1,u=(t.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(o&2)!==0),d?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ze(He,o&1),e===null)return Pu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=i.children,e=i.fallback,l?(i=t.mode,l=t.child,u={mode:"hidden",children:u},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=u):l=bl(u,i,0,null),e=Jr(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Au(n),t.memoizedState=Ou,e):Qd(t,u));if(o=e.memoizedState,o!==null&&(d=o.dehydrated,d!==null))return v_(e,t,u,i,d,o,n);if(l){l=i.fallback,u=t.mode,o=e.child,d=o.sibling;var f={mode:"hidden",children:i.children};return!(u&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=f,t.deletions=null):(i=Nr(o,f),i.subtreeFlags=o.subtreeFlags&14680064),d!==null?l=Nr(d,l):(l=Jr(l,u,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,u=e.child.memoizedState,u=u===null?Au(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},l.memoizedState=u,l.childLanes=e.childLanes&~n,t.memoizedState=Ou,i}return l=e.child,e=l.sibling,i=Nr(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Qd(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function na(e,t,n,i){return i!==null&&Bd(i),Zi(t,e.child,null,n),e=Qd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v_(e,t,n,i,o,l,u){if(n)return t.flags&256?(t.flags&=-257,i=Uc(Error(V(422))),na(e,t,u,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,o=t.mode,i=bl({mode:"visible",children:i.children},o,0,null),l=Jr(l,o,u,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&Zi(t,e.child,null,u),t.child.memoizedState=Au(u),t.memoizedState=Ou,l);if(!(t.mode&1))return na(e,t,u,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var d=i.dgst;return i=d,l=Error(V(419)),i=Uc(l,i,void 0),na(e,t,u,i)}if(d=(u&e.childLanes)!==0,It||d){if(i=lt,i!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|u)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Qn(e,o),vn(i,e,o,-1))}return ih(),i=Uc(Error(V(421))),na(e,t,u,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=L_.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,$t=_r(o.nextSibling),Ht=t,Ue=!0,pn=null,e!==null&&(en[tn++]=Vn,en[tn++]=qn,en[tn++]=ei,Vn=e.id,qn=e.overflow,ei=t),t=Qd(t,i.children),t.flags|=4096,t)}function ym(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Eu(e.return,t,n)}function $c(e,t,n,i,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=o)}function Qg(e,t,n){var i=t.pendingProps,o=i.revealOrder,l=i.tail;if(jt(e,t,i.children,n),i=He.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,n,t);else if(e.tag===19)ym(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ze(He,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ka(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$c(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ka(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$c(t,!0,n,null,l);break;case"together":$c(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function va(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Nr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function x_(e,t,n){switch(t.tag){case 3:Gg(t),Wi();break;case 5:Ng(t);break;case 1:Ot(t.type)&&$a(t);break;case 4:Wd(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;ze(Za,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ze(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?Yg(e,t,n):(ze(He,He.current&1),e=Xn(e,t,n),e!==null?e.sibling:null);ze(He,He.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Qg(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ze(He,He.current),i)break;return null;case 22:case 23:return t.lanes=0,Kg(e,t,n)}return Xn(e,t,n)}var Xg,zu,e0,t0;Xg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zu=function(){};e0=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Zr(In.current);var l=null;switch(n){case"input":o=su(e,o),i=su(e,i),l=[];break;case"select":o=Ve({},o,{value:void 0}),i=Ve({},i,{value:void 0}),l=[];break;case"textarea":o=lu(e,o),i=lu(e,i),l=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Fa)}uu(n,i);var u;n=null;for(m in o)if(!i.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var d=o[m];for(u in d)d.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Vs.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in i){var f=i[m];if(d=o!=null?o[m]:void 0,i.hasOwnProperty(m)&&f!==d&&(f!=null||d!=null))if(m==="style")if(d){for(u in d)!d.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&d[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(l||(l=[]),l.push(m,n)),n=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,d=d?d.__html:void 0,f!=null&&d!==f&&(l=l||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(l=l||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Vs.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&Be("scroll",e),l||d===f||(l=[])):(l=l||[]).push(m,f))}n&&(l=l||[]).push("style",n);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};t0=function(e,t,n,i){n!==i&&(t.flags|=4)};function Ss(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function y_(e,t,n){var i=t.pendingProps;switch(zd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Ot(t.type)&&Ua(),gt(t),null;case 3:return i=t.stateNode,Vi(),Fe(Mt),Fe(yt),Vd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pn!==null&&(Zu(pn),pn=null))),zu(e,t),gt(t),null;case 5:Zd(t);var o=Zr(io.current);if(n=t.type,e!==null&&t.stateNode!=null)e0(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(V(166));return gt(t),null}if(e=Zr(In.current),ea(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[Tn]=t,i[no]=l,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(o=0;o<Ms.length;o++)Be(Ms[o],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Pf(i,l),Be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},Be("invalid",i);break;case"textarea":Lf(i,l),Be("invalid",i)}uu(n,l),o=null;for(var u in l)if(l.hasOwnProperty(u)){var d=l[u];u==="children"?typeof d=="string"?i.textContent!==d&&(l.suppressHydrationWarning!==!0&&Xo(i.textContent,d,e),o=["children",d]):typeof d=="number"&&i.textContent!==""+d&&(l.suppressHydrationWarning!==!0&&Xo(i.textContent,d,e),o=["children",""+d]):Vs.hasOwnProperty(u)&&d!=null&&u==="onScroll"&&Be("scroll",i)}switch(n){case"input":Zo(i),Ef(i,l,!0);break;case"textarea":Zo(i),Tf(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=Fa)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ep(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),n==="select"&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[Tn]=t,e[no]=i,Xg(e,t,!1,!1),t.stateNode=e;e:{switch(u=du(n,i),n){case"dialog":Be("cancel",e),Be("close",e),o=i;break;case"iframe":case"object":case"embed":Be("load",e),o=i;break;case"video":case"audio":for(o=0;o<Ms.length;o++)Be(Ms[o],e);o=i;break;case"source":Be("error",e),o=i;break;case"img":case"image":case"link":Be("error",e),Be("load",e),o=i;break;case"details":Be("toggle",e),o=i;break;case"input":Pf(e,i),o=su(e,i),Be("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Ve({},i,{value:void 0}),Be("invalid",e);break;case"textarea":Lf(e,i),o=lu(e,i),Be("invalid",e);break;default:o=i}uu(n,o),d=o;for(l in d)if(d.hasOwnProperty(l)){var f=d[l];l==="style"?Rp(e,f):l==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Lp(e,f)):l==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&qs(e,f):typeof f=="number"&&qs(e,""+f):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Vs.hasOwnProperty(l)?f!=null&&l==="onScroll"&&Be("scroll",e):f!=null&&bd(e,l,f,u))}switch(n){case"input":Zo(e),Ef(e,i,!1);break;case"textarea":Zo(e),Tf(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Pr(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?Ii(e,!!i.multiple,l,!1):i.defaultValue!=null&&Ii(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Fa)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)t0(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(V(166));if(n=Zr(io.current),Zr(In.current),ea(t)){if(i=t.stateNode,n=t.memoizedProps,i[Tn]=t,(l=i.nodeValue!==n)&&(e=Ht,e!==null))switch(e.tag){case 3:Xo(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xo(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Tn]=t,t.stateNode=i}return gt(t),null;case 13:if(Fe(He),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&$t!==null&&t.mode&1&&!(t.flags&128))yg(),Wi(),t.flags|=98560,l=!1;else if(l=ea(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(V(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(V(317));l[Tn]=t}else Wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),l=!1}else pn!==null&&(Zu(pn),pn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?it===0&&(it=3):ih())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return Vi(),zu(e,t),e===null&&eo(t.stateNode.containerInfo),gt(t),null;case 10:return Ud(t.type._context),gt(t),null;case 17:return Ot(t.type)&&Ua(),gt(t),null;case 19:if(Fe(He),l=t.memoizedState,l===null)return gt(t),null;if(i=(t.flags&128)!==0,u=l.rendering,u===null)if(i)Ss(l,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Ka(e),u!==null){for(t.flags|=128,Ss(l,!1),i=u.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,u=l.alternate,u===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(He,He.current&1|2),t.child}e=e.sibling}l.tail!==null&&Qe()>Ki&&(t.flags|=128,i=!0,Ss(l,!1),t.lanes=4194304)}else{if(!i)if(e=Ka(u),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ss(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Ue)return gt(t),null}else 2*Qe()-l.renderingStartTime>Ki&&n!==1073741824&&(t.flags|=128,i=!0,Ss(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(n=l.last,n!==null?n.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Qe(),t.sibling=null,n=He.current,ze(He,i?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return rh(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ut&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function __(e,t){switch(zd(t),t.tag){case 1:return Ot(t.type)&&Ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vi(),Fe(Mt),Fe(yt),Vd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zd(t),null;case 13:if(Fe(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(He),null;case 4:return Vi(),null;case 10:return Ud(t.type._context),null;case 22:case 23:return rh(),null;case 24:return null;default:return null}}var ra=!1,vt=!1,w_=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ti(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ke(e,t,i)}else n.current=null}function Bu(e,t,n){try{n()}catch(i){Ke(e,t,i)}}var _m=!1;function b_(e,t){if(wu=za,e=og(),Od(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var u=0,d=-1,f=-1,m=0,x=0,g=e,b=null;t:for(;;){for(var k;g!==n||o!==0&&g.nodeType!==3||(d=u+o),g!==l||i!==0&&g.nodeType!==3||(f=u+i),g.nodeType===3&&(u+=g.nodeValue.length),(k=g.firstChild)!==null;)b=g,g=k;for(;;){if(g===e)break t;if(b===n&&++m===o&&(d=u),b===l&&++x===i&&(f=u),(k=g.nextSibling)!==null)break;g=b,b=g.parentNode}g=k}n=d===-1||f===-1?null:{start:d,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(bu={focusedElem:e,selectionRange:n},za=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var C=N.memoizedProps,P=N.memoizedState,_=t.stateNode,w=_.getSnapshotBeforeUpdate(t.elementType===t.type?C:hn(t.type,C),P);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(S){Ke(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return N=_m,_m=!1,N}function $s(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Bu(t,n,l)}o=o.next}while(o!==i)}}function _l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Du(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function n0(e){var t=e.alternate;t!==null&&(e.alternate=null,n0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tn],delete t[no],delete t[Su],delete t[i_],delete t[s_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r0(e){return e.tag===5||e.tag===3||e.tag===4}function wm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fa));else if(i!==4&&(e=e.child,e!==null))for(Fu(e,t,n),e=e.sibling;e!==null;)Fu(e,t,n),e=e.sibling}function Uu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Uu(e,t,n),e=e.sibling;e!==null;)Uu(e,t,n),e=e.sibling}var ut=null,fn=!1;function ar(e,t,n){for(n=n.child;n!==null;)i0(e,t,n),n=n.sibling}function i0(e,t,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 5:vt||Ti(n,t);case 6:var i=ut,o=fn;ut=null,ar(e,t,n),ut=i,fn=o,ut!==null&&(fn?(e=ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(fn?(e=ut,n=n.stateNode,e.nodeType===8?Oc(e.parentNode,n):e.nodeType===1&&Oc(e,n),Ys(e)):Oc(ut,n.stateNode));break;case 4:i=ut,o=fn,ut=n.stateNode.containerInfo,fn=!0,ar(e,t,n),ut=i,fn=o;break;case 0:case 11:case 14:case 15:if(!vt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var l=o,u=l.destroy;l=l.tag,u!==void 0&&(l&2||l&4)&&Bu(n,t,u),o=o.next}while(o!==i)}ar(e,t,n);break;case 1:if(!vt&&(Ti(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(d){Ke(n,t,d)}ar(e,t,n);break;case 21:ar(e,t,n);break;case 22:n.mode&1?(vt=(i=vt)||n.memoizedState!==null,ar(e,t,n),vt=i):ar(e,t,n);break;default:ar(e,t,n)}}function bm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w_),t.forEach(function(i){var o=T_.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function dn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var l=e,u=t,d=u;e:for(;d!==null;){switch(d.tag){case 5:ut=d.stateNode,fn=!1;break e;case 3:ut=d.stateNode.containerInfo,fn=!0;break e;case 4:ut=d.stateNode.containerInfo,fn=!0;break e}d=d.return}if(ut===null)throw Error(V(160));i0(l,u,o),ut=null,fn=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(m){Ke(o,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)s0(t,e),t=t.sibling}function s0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),Pn(e),i&4){try{$s(3,e,e.return),_l(3,e)}catch(C){Ke(e,e.return,C)}try{$s(5,e,e.return)}catch(C){Ke(e,e.return,C)}}break;case 1:dn(t,e),Pn(e),i&512&&n!==null&&Ti(n,n.return);break;case 5:if(dn(t,e),Pn(e),i&512&&n!==null&&Ti(n,n.return),e.flags&32){var o=e.stateNode;try{qs(o,"")}catch(C){Ke(e,e.return,C)}}if(i&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,u=n!==null?n.memoizedProps:l,d=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{d==="input"&&l.type==="radio"&&l.name!=null&&Cp(o,l),du(d,u);var m=du(d,l);for(u=0;u<f.length;u+=2){var x=f[u],g=f[u+1];x==="style"?Rp(o,g):x==="dangerouslySetInnerHTML"?Lp(o,g):x==="children"?qs(o,g):bd(o,x,g,m)}switch(d){case"input":ou(o,l);break;case"textarea":Pp(o,l);break;case"select":var b=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var k=l.value;k!=null?Ii(o,!!l.multiple,k,!1):b!==!!l.multiple&&(l.defaultValue!=null?Ii(o,!!l.multiple,l.defaultValue,!0):Ii(o,!!l.multiple,l.multiple?[]:"",!1))}o[no]=l}catch(C){Ke(e,e.return,C)}}break;case 6:if(dn(t,e),Pn(e),i&4){if(e.stateNode===null)throw Error(V(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(C){Ke(e,e.return,C)}}break;case 3:if(dn(t,e),Pn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ys(t.containerInfo)}catch(C){Ke(e,e.return,C)}break;case 4:dn(t,e),Pn(e);break;case 13:dn(t,e),Pn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(th=Qe())),i&4&&bm(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(m=vt)||x,dn(t,e),vt=m):dn(t,e),Pn(e),i&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!x&&e.mode&1)for(ie=e,x=e.child;x!==null;){for(g=ie=x;ie!==null;){switch(b=ie,k=b.child,b.tag){case 0:case 11:case 14:case 15:$s(4,b,b.return);break;case 1:Ti(b,b.return);var N=b.stateNode;if(typeof N.componentWillUnmount=="function"){i=b,n=b.return;try{t=i,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(C){Ke(i,n,C)}}break;case 5:Ti(b,b.return);break;case 22:if(b.memoizedState!==null){Nm(g);continue}}k!==null?(k.return=b,ie=k):Nm(g)}x=x.sibling}e:for(x=null,g=e;;){if(g.tag===5){if(x===null){x=g;try{o=g.stateNode,m?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(d=g.stateNode,f=g.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,d.style.display=Tp("display",u))}catch(C){Ke(e,e.return,C)}}}else if(g.tag===6){if(x===null)try{g.stateNode.nodeValue=m?"":g.memoizedProps}catch(C){Ke(e,e.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;x===g&&(x=null),g=g.return}x===g&&(x=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:dn(t,e),Pn(e),i&4&&bm(e);break;case 21:break;default:dn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(r0(n)){var i=n;break e}n=n.return}throw Error(V(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(qs(o,""),i.flags&=-33);var l=wm(e);Uu(e,l,o);break;case 3:case 4:var u=i.stateNode.containerInfo,d=wm(e);Fu(e,d,u);break;default:throw Error(V(161))}}catch(f){Ke(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function j_(e,t,n){ie=e,o0(e)}function o0(e,t,n){for(var i=(e.mode&1)!==0;ie!==null;){var o=ie,l=o.child;if(o.tag===22&&i){var u=o.memoizedState!==null||ra;if(!u){var d=o.alternate,f=d!==null&&d.memoizedState!==null||vt;d=ra;var m=vt;if(ra=u,(vt=f)&&!m)for(ie=o;ie!==null;)u=ie,f=u.child,u.tag===22&&u.memoizedState!==null?Sm(o):f!==null?(f.return=u,ie=f):Sm(o);for(;l!==null;)ie=l,o0(l),l=l.sibling;ie=o,ra=d,vt=m}jm(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,ie=l):jm(e)}}function jm(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vt||_l(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!vt)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:hn(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&am(t,l,i);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}am(t,u,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var x=m.memoizedState;if(x!==null){var g=x.dehydrated;g!==null&&Ys(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}vt||t.flags&512&&Du(t)}catch(b){Ke(t,t.return,b)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function Nm(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function Sm(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_l(4,t)}catch(f){Ke(t,n,f)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(f){Ke(t,o,f)}}var l=t.return;try{Du(t)}catch(f){Ke(t,l,f)}break;case 5:var u=t.return;try{Du(t)}catch(f){Ke(t,u,f)}}}catch(f){Ke(t,t.return,f)}if(t===e){ie=null;break}var d=t.sibling;if(d!==null){d.return=t.return,ie=d;break}ie=t.return}}var N_=Math.ceil,Ya=nr.ReactCurrentDispatcher,Xd=nr.ReactCurrentOwner,sn=nr.ReactCurrentBatchConfig,Ee=0,lt=null,tt=null,dt=0,Ut=0,Ri=Rr(0),it=0,lo=null,ni=0,wl=0,eh=0,Hs=null,Rt=null,th=0,Ki=1/0,Hn=null,Qa=!1,$u=null,br=null,ia=!1,pr=null,Xa=0,Ws=0,Hu=null,xa=-1,ya=0;function St(){return Ee&6?Qe():xa!==-1?xa:xa=Qe()}function jr(e){return e.mode&1?Ee&2&&dt!==0?dt&-dt:a_.transition!==null?(ya===0&&(ya=Wp()),ya):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Yp(e.type)),e):1}function vn(e,t,n,i){if(50<Ws)throw Ws=0,Hu=null,Error(V(185));po(e,n,i),(!(Ee&2)||e!==lt)&&(e===lt&&(!(Ee&2)&&(wl|=n),it===4&&hr(e,dt)),At(e,i),n===1&&Ee===0&&!(t.mode&1)&&(Ki=Qe()+500,vl&&Ir()))}function At(e,t){var n=e.callbackNode;a1(e,t);var i=Aa(e,e===lt?dt:0);if(i===0)n!==null&&Mf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Mf(n),t===1)e.tag===0?o_(km.bind(null,e)):gg(km.bind(null,e)),n_(function(){!(Ee&6)&&Ir()}),n=null;else{switch(Zp(i)){case 1:n=Cd;break;case 4:n=$p;break;case 16:n=Oa;break;case 536870912:n=Hp;break;default:n=Oa}n=m0(n,a0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function a0(e,t){if(xa=-1,ya=0,Ee&6)throw Error(V(327));var n=e.callbackNode;if(Bi()&&e.callbackNode!==n)return null;var i=Aa(e,e===lt?dt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=el(e,i);else{t=i;var o=Ee;Ee|=2;var l=c0();(lt!==e||dt!==t)&&(Hn=null,Ki=Qe()+500,Kr(e,t));do try{C_();break}catch(d){l0(e,d)}while(!0);Fd(),Ya.current=l,Ee=o,tt!==null?t=0:(lt=null,dt=0,t=it)}if(t!==0){if(t===2&&(o=gu(e),o!==0&&(i=o,t=Wu(e,o))),t===1)throw n=lo,Kr(e,0),hr(e,i),At(e,Qe()),n;if(t===6)hr(e,i);else{if(o=e.current.alternate,!(i&30)&&!S_(o)&&(t=el(e,i),t===2&&(l=gu(e),l!==0&&(i=l,t=Wu(e,l))),t===1))throw n=lo,Kr(e,0),hr(e,i),At(e,Qe()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(V(345));case 2:Ur(e,Rt,Hn);break;case 3:if(hr(e,i),(i&130023424)===i&&(t=th+500-Qe(),10<t)){if(Aa(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){St(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Nu(Ur.bind(null,e,Rt,Hn),t);break}Ur(e,Rt,Hn);break;case 4:if(hr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var u=31-gn(i);l=1<<u,u=t[u],u>o&&(o=u),i&=~l}if(i=o,i=Qe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*N_(i/1960))-i,10<i){e.timeoutHandle=Nu(Ur.bind(null,e,Rt,Hn),i);break}Ur(e,Rt,Hn);break;case 5:Ur(e,Rt,Hn);break;default:throw Error(V(329))}}}return At(e,Qe()),e.callbackNode===n?a0.bind(null,e):null}function Wu(e,t){var n=Hs;return e.current.memoizedState.isDehydrated&&(Kr(e,t).flags|=256),e=el(e,t),e!==2&&(t=Rt,Rt=n,t!==null&&Zu(t)),e}function Zu(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function S_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!xn(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hr(e,t){for(t&=~eh,t&=~wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gn(t),i=1<<n;e[n]=-1,t&=~i}}function km(e){if(Ee&6)throw Error(V(327));Bi();var t=Aa(e,0);if(!(t&1))return At(e,Qe()),null;var n=el(e,t);if(e.tag!==0&&n===2){var i=gu(e);i!==0&&(t=i,n=Wu(e,i))}if(n===1)throw n=lo,Kr(e,0),hr(e,t),At(e,Qe()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ur(e,Rt,Hn),At(e,Qe()),null}function nh(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(Ki=Qe()+500,vl&&Ir())}}function ri(e){pr!==null&&pr.tag===0&&!(Ee&6)&&Bi();var t=Ee;Ee|=1;var n=sn.transition,i=Ie;try{if(sn.transition=null,Ie=1,e)return e()}finally{Ie=i,sn.transition=n,Ee=t,!(Ee&6)&&Ir()}}function rh(){Ut=Ri.current,Fe(Ri)}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,t_(n)),tt!==null)for(n=tt.return;n!==null;){var i=n;switch(zd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ua();break;case 3:Vi(),Fe(Mt),Fe(yt),Vd();break;case 5:Zd(i);break;case 4:Vi();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:Ud(i.type._context);break;case 22:case 23:rh()}n=n.return}if(lt=e,tt=e=Nr(e.current,null),dt=Ut=t,it=0,lo=null,eh=wl=ni=0,Rt=Hs=null,Wr!==null){for(t=0;t<Wr.length;t++)if(n=Wr[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,l=n.pending;if(l!==null){var u=l.next;l.next=o,i.next=u}n.pending=i}Wr=null}return e}function l0(e,t){do{var n=tt;try{if(Fd(),pa.current=Ga,Ja){for(var i=We.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ja=!1}if(ti=0,at=rt=We=null,Us=!1,so=0,Xd.current=null,n===null||n.return===null){it=1,lo=t,tt=null;break}e:{var l=e,u=n.return,d=n,f=t;if(t=dt,d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,x=d,g=x.tag;if(!(x.mode&1)&&(g===0||g===11||g===15)){var b=x.alternate;b?(x.updateQueue=b.updateQueue,x.memoizedState=b.memoizedState,x.lanes=b.lanes):(x.updateQueue=null,x.memoizedState=null)}var k=fm(u);if(k!==null){k.flags&=-257,mm(k,u,d,l,t),k.mode&1&&hm(l,m,t),t=k,f=m;var N=t.updateQueue;if(N===null){var C=new Set;C.add(f),t.updateQueue=C}else N.add(f);break e}else{if(!(t&1)){hm(l,m,t),ih();break e}f=Error(V(426))}}else if(Ue&&d.mode&1){var P=fm(u);if(P!==null){!(P.flags&65536)&&(P.flags|=256),mm(P,u,d,l,t),Bd(qi(f,d));break e}}l=f=qi(f,d),it!==4&&(it=2),Hs===null?Hs=[l]:Hs.push(l),l=u;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var _=Zg(l,f,t);om(l,_);break e;case 1:d=f;var w=l.type,j=l.stateNode;if(!(l.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(br===null||!br.has(j)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=Vg(l,d,t);om(l,S);break e}}l=l.return}while(l!==null)}d0(n)}catch(O){t=O,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function c0(){var e=Ya.current;return Ya.current=Ga,e===null?Ga:e}function ih(){(it===0||it===3||it===2)&&(it=4),lt===null||!(ni&268435455)&&!(wl&268435455)||hr(lt,dt)}function el(e,t){var n=Ee;Ee|=2;var i=c0();(lt!==e||dt!==t)&&(Hn=null,Kr(e,t));do try{k_();break}catch(o){l0(e,o)}while(!0);if(Fd(),Ee=n,Ya.current=i,tt!==null)throw Error(V(261));return lt=null,dt=0,it}function k_(){for(;tt!==null;)u0(tt)}function C_(){for(;tt!==null&&!Qy();)u0(tt)}function u0(e){var t=f0(e.alternate,e,Ut);e.memoizedProps=e.pendingProps,t===null?d0(e):tt=t,Xd.current=null}function d0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=__(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,tt=null;return}}else if(n=y_(n,t,Ut),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);it===0&&(it=5)}function Ur(e,t,n){var i=Ie,o=sn.transition;try{sn.transition=null,Ie=1,P_(e,t,n,i)}finally{sn.transition=o,Ie=i}return null}function P_(e,t,n,i){do Bi();while(pr!==null);if(Ee&6)throw Error(V(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(l1(e,l),e===lt&&(tt=lt=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ia||(ia=!0,m0(Oa,function(){return Bi(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=sn.transition,sn.transition=null;var u=Ie;Ie=1;var d=Ee;Ee|=4,Xd.current=null,b_(e,n),s0(n,e),K1(bu),za=!!wu,bu=wu=null,e.current=n,j_(n),Xy(),Ee=d,Ie=u,sn.transition=l}else e.current=n;if(ia&&(ia=!1,pr=e,Xa=o),l=e.pendingLanes,l===0&&(br=null),n1(n.stateNode),At(e,Qe()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Qa)throw Qa=!1,e=$u,$u=null,e;return Xa&1&&e.tag!==0&&Bi(),l=e.pendingLanes,l&1?e===Hu?Ws++:(Ws=0,Hu=e):Ws=0,Ir(),null}function Bi(){if(pr!==null){var e=Zp(Xa),t=sn.transition,n=Ie;try{if(sn.transition=null,Ie=16>e?16:e,pr===null)var i=!1;else{if(e=pr,pr=null,Xa=0,Ee&6)throw Error(V(331));var o=Ee;for(Ee|=4,ie=e.current;ie!==null;){var l=ie,u=l.child;if(ie.flags&16){var d=l.deletions;if(d!==null){for(var f=0;f<d.length;f++){var m=d[f];for(ie=m;ie!==null;){var x=ie;switch(x.tag){case 0:case 11:case 15:$s(8,x,l)}var g=x.child;if(g!==null)g.return=x,ie=g;else for(;ie!==null;){x=ie;var b=x.sibling,k=x.return;if(n0(x),x===m){ie=null;break}if(b!==null){b.return=k,ie=b;break}ie=k}}}var N=l.alternate;if(N!==null){var C=N.child;if(C!==null){N.child=null;do{var P=C.sibling;C.sibling=null,C=P}while(C!==null)}}ie=l}}if(l.subtreeFlags&2064&&u!==null)u.return=l,ie=u;else e:for(;ie!==null;){if(l=ie,l.flags&2048)switch(l.tag){case 0:case 11:case 15:$s(9,l,l.return)}var _=l.sibling;if(_!==null){_.return=l.return,ie=_;break e}ie=l.return}}var w=e.current;for(ie=w;ie!==null;){u=ie;var j=u.child;if(u.subtreeFlags&2064&&j!==null)j.return=u,ie=j;else e:for(u=w;ie!==null;){if(d=ie,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:_l(9,d)}}catch(O){Ke(d,d.return,O)}if(d===u){ie=null;break e}var S=d.sibling;if(S!==null){S.return=d.return,ie=S;break e}ie=d.return}}if(Ee=o,Ir(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(hl,e)}catch{}i=!0}return i}finally{Ie=n,sn.transition=t}}return!1}function Cm(e,t,n){t=qi(n,t),t=Zg(e,t,1),e=wr(e,t,1),t=St(),e!==null&&(po(e,1,t),At(e,t))}function Ke(e,t,n){if(e.tag===3)Cm(e,e,n);else for(;t!==null;){if(t.tag===3){Cm(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(br===null||!br.has(i))){e=qi(n,e),e=Vg(t,e,1),t=wr(t,e,1),e=St(),t!==null&&(po(t,1,e),At(t,e));break}}t=t.return}}function E_(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(dt&n)===n&&(it===4||it===3&&(dt&130023424)===dt&&500>Qe()-th?Kr(e,0):eh|=n),At(e,t)}function h0(e,t){t===0&&(e.mode&1?(t=Ko,Ko<<=1,!(Ko&130023424)&&(Ko=4194304)):t=1);var n=St();e=Qn(e,t),e!==null&&(po(e,t,n),At(e,n))}function L_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),h0(e,n)}function T_(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(V(314))}i!==null&&i.delete(t),h0(e,n)}var f0;f0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)It=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return It=!1,x_(e,t,n);It=!!(e.flags&131072)}else It=!1,Ue&&t.flags&1048576&&vg(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;va(e,t),e=t.pendingProps;var o=Hi(t,yt.current);zi(t,n),o=Kd(null,t,i,e,o,n);var l=Jd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(i)?(l=!0,$a(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Hd(t),o.updater=yl,t.stateNode=o,o._reactInternals=t,Tu(t,i,e,n),t=Mu(null,t,i,!0,l,n)):(t.tag=0,Ue&&l&&Ad(t),jt(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(va(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=I_(i),e=hn(i,e),o){case 0:t=Iu(null,t,i,e,n);break e;case 1:t=vm(null,t,i,e,n);break e;case 11:t=pm(null,t,i,e,n);break e;case 14:t=gm(null,t,i,hn(i.type,e),n);break e}throw Error(V(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:hn(i,o),Iu(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:hn(i,o),vm(e,t,i,o,n);case 3:e:{if(Gg(t),e===null)throw Error(V(387));i=t.pendingProps,l=t.memoizedState,o=l.element,jg(e,t),qa(t,i,null,n);var u=t.memoizedState;if(i=u.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=qi(Error(V(423)),t),t=xm(e,t,i,n,o);break e}else if(i!==o){o=qi(Error(V(424)),t),t=xm(e,t,i,n,o);break e}else for($t=_r(t.stateNode.containerInfo.firstChild),Ht=t,Ue=!0,pn=null,n=wg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wi(),i===o){t=Xn(e,t,n);break e}jt(e,t,i,n)}t=t.child}return t;case 5:return Ng(t),e===null&&Pu(t),i=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,u=o.children,ju(i,o)?u=null:l!==null&&ju(i,l)&&(t.flags|=32),Jg(e,t),jt(e,t,u,n),t.child;case 6:return e===null&&Pu(t),null;case 13:return Yg(e,t,n);case 4:return Wd(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Zi(t,null,i,n):jt(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:hn(i,o),pm(e,t,i,o,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,l=t.memoizedProps,u=o.value,ze(Za,i._currentValue),i._currentValue=u,l!==null)if(xn(l.value,u)){if(l.children===o.children&&!Mt.current){t=Xn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var d=l.dependencies;if(d!==null){u=l.child;for(var f=d.firstContext;f!==null;){if(f.context===i){if(l.tag===1){f=Kn(-1,n&-n),f.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var x=m.pending;x===null?f.next=f:(f.next=x.next,x.next=f),m.pending=f}}l.lanes|=n,f=l.alternate,f!==null&&(f.lanes|=n),Eu(l.return,n,t),d.lanes|=n;break}f=f.next}}else if(l.tag===10)u=l.type===t.type?null:l.child;else if(l.tag===18){if(u=l.return,u===null)throw Error(V(341));u.lanes|=n,d=u.alternate,d!==null&&(d.lanes|=n),Eu(u,n,t),u=l.sibling}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}jt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,zi(t,n),o=on(o),i=i(o),t.flags|=1,jt(e,t,i,n),t.child;case 14:return i=t.type,o=hn(i,t.pendingProps),o=hn(i.type,o),gm(e,t,i,o,n);case 15:return qg(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:hn(i,o),va(e,t),t.tag=1,Ot(i)?(e=!0,$a(t)):e=!1,zi(t,n),Wg(t,i,o),Tu(t,i,o,n),Mu(null,t,i,!0,e,n);case 19:return Qg(e,t,n);case 22:return Kg(e,t,n)}throw Error(V(156,t.tag))};function m0(e,t){return Up(e,t)}function R_(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,n,i){return new R_(e,t,n,i)}function sh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I_(e){if(typeof e=="function")return sh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nd)return 11;if(e===Sd)return 14}return 2}function Nr(e,t){var n=e.alternate;return n===null?(n=rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _a(e,t,n,i,o,l){var u=2;if(i=e,typeof e=="function")sh(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case bi:return Jr(n.children,o,l,t);case jd:u=8,o|=8;break;case tu:return e=rn(12,n,t,o|2),e.elementType=tu,e.lanes=l,e;case nu:return e=rn(13,n,t,o),e.elementType=nu,e.lanes=l,e;case ru:return e=rn(19,n,t,o),e.elementType=ru,e.lanes=l,e;case Np:return bl(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bp:u=10;break e;case jp:u=9;break e;case Nd:u=11;break e;case Sd:u=14;break e;case cr:u=16,i=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=rn(u,n,t,o),t.elementType=e,t.type=i,t.lanes=l,t}function Jr(e,t,n,i){return e=rn(7,e,i,t),e.lanes=n,e}function bl(e,t,n,i){return e=rn(22,e,i,t),e.elementType=Np,e.lanes=n,e.stateNode={isHidden:!1},e}function Hc(e,t,n){return e=rn(6,e,null,t),e.lanes=n,e}function Wc(e,t,n){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M_(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nc(0),this.expirationTimes=Nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function oh(e,t,n,i,o,l,u,d,f){return e=new M_(e,t,n,d,f),t===1?(t=1,l===!0&&(t|=8)):t=0,l=rn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(l),e}function O_(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function p0(e){if(!e)return Er;e=e._reactInternals;e:{if(li(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Ot(n))return pg(e,n,t)}return t}function g0(e,t,n,i,o,l,u,d,f){return e=oh(n,i,!0,e,o,l,u,d,f),e.context=p0(null),n=e.current,i=St(),o=jr(n),l=Kn(i,o),l.callback=t??null,wr(n,l,o),e.current.lanes=o,po(e,o,i),At(e,i),e}function jl(e,t,n,i){var o=t.current,l=St(),u=jr(o);return n=p0(n),t.context===null?t.context=n:t.pendingContext=n,t=Kn(l,u),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=wr(o,t,u),e!==null&&(vn(e,o,u,l),ma(e,o,u)),u}function tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ah(e,t){Pm(e,t),(e=e.alternate)&&Pm(e,t)}function A_(){return null}var v0=typeof reportError=="function"?reportError:function(e){console.error(e)};function lh(e){this._internalRoot=e}Nl.prototype.render=lh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));jl(e,t,null,null)};Nl.prototype.unmount=lh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ri(function(){jl(null,e,null,null)}),t[Yn]=null}};function Nl(e){this._internalRoot=e}Nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dr.length&&t!==0&&t<dr[n].priority;n++);dr.splice(n,0,e),n===0&&Gp(e)}};function ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Em(){}function z_(e,t,n,i,o){if(o){if(typeof i=="function"){var l=i;i=function(){var m=tl(u);l.call(m)}}var u=g0(t,i,e,0,null,!1,!1,"",Em);return e._reactRootContainer=u,e[Yn]=u.current,eo(e.nodeType===8?e.parentNode:e),ri(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var d=i;i=function(){var m=tl(f);d.call(m)}}var f=oh(e,0,!1,null,null,!1,!1,"",Em);return e._reactRootContainer=f,e[Yn]=f.current,eo(e.nodeType===8?e.parentNode:e),ri(function(){jl(t,f,n,i)}),f}function kl(e,t,n,i,o){var l=n._reactRootContainer;if(l){var u=l;if(typeof o=="function"){var d=o;o=function(){var f=tl(u);d.call(f)}}jl(t,u,e,o)}else u=z_(n,t,e,o,i);return tl(u)}Vp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Is(t.pendingLanes);n!==0&&(Pd(t,n|1),At(t,Qe()),!(Ee&6)&&(Ki=Qe()+500,Ir()))}break;case 13:ri(function(){var i=Qn(e,1);if(i!==null){var o=St();vn(i,e,1,o)}}),ah(e,1)}};Ed=function(e){if(e.tag===13){var t=Qn(e,134217728);if(t!==null){var n=St();vn(t,e,134217728,n)}ah(e,134217728)}};qp=function(e){if(e.tag===13){var t=jr(e),n=Qn(e,t);if(n!==null){var i=St();vn(n,e,t,i)}ah(e,t)}};Kp=function(){return Ie};Jp=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};fu=function(e,t,n){switch(t){case"input":if(ou(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=gl(i);if(!o)throw Error(V(90));kp(i),ou(i,o)}}}break;case"textarea":Pp(e,n);break;case"select":t=n.value,t!=null&&Ii(e,!!n.multiple,t,!1)}};Op=nh;Ap=ri;var B_={usingClientEntryPoint:!1,Events:[vo,ki,gl,Ip,Mp,nh]},ks={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D_={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dp(e),e===null?null:e.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||A_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{hl=sa.inject(D_),Rn=sa}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B_;Vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ch(t))throw Error(V(200));return O_(e,t,null,n)};Vt.createRoot=function(e,t){if(!ch(e))throw Error(V(299));var n=!1,i="",o=v0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=oh(e,1,!1,null,null,n,!1,i,o),e[Yn]=t.current,eo(e.nodeType===8?e.parentNode:e),new lh(t)};Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Dp(t),e=e===null?null:e.stateNode,e};Vt.flushSync=function(e){return ri(e)};Vt.hydrate=function(e,t,n){if(!Sl(t))throw Error(V(200));return kl(null,e,t,!0,n)};Vt.hydrateRoot=function(e,t,n){if(!ch(e))throw Error(V(405));var i=n!=null&&n.hydratedSources||null,o=!1,l="",u=v0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=g0(t,null,e,1,n??null,o,!1,l,u),e[Yn]=t.current,eo(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Nl(t)};Vt.render=function(e,t,n){if(!Sl(t))throw Error(V(200));return kl(null,e,t,!1,n)};Vt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(V(40));return e._reactRootContainer?(ri(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1};Vt.unstable_batchedUpdates=nh;Vt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Sl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return kl(e,t,n,!1,i)};Vt.version="18.3.1-next-f1338f8080-20240426";function x0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x0)}catch(e){console.error(e)}}x0(),xp.exports=Vt;var y0=xp.exports,Lm=y0;Xc.createRoot=Lm.createRoot,Xc.hydrateRoot=Lm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},co.apply(this,arguments)}var gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gr||(gr={}));const Tm="popstate";function F_(e){e===void 0&&(e={});function t(i,o){let{pathname:l,search:u,hash:d}=i.location;return Vu("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:nl(o)}return $_(t,n,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U_(){return Math.random().toString(36).substr(2,8)}function Rm(e,t){return{usr:e.state,key:e.key,idx:t}}function Vu(e,t,n,i){return n===void 0&&(n=null),co({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xi(t):t,{state:n,key:t&&t.key||i||U_()})}function nl(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Xi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function $_(e,t,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d=gr.Pop,f=null,m=x();m==null&&(m=0,u.replaceState(co({},u.state,{idx:m}),""));function x(){return(u.state||{idx:null}).idx}function g(){d=gr.Pop;let P=x(),_=P==null?null:P-m;m=P,f&&f({action:d,location:C.location,delta:_})}function b(P,_){d=gr.Push;let w=Vu(C.location,P,_);m=x()+1;let j=Rm(w,m),S=C.createHref(w);try{u.pushState(j,"",S)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;o.location.assign(S)}l&&f&&f({action:d,location:C.location,delta:1})}function k(P,_){d=gr.Replace;let w=Vu(C.location,P,_);m=x();let j=Rm(w,m),S=C.createHref(w);u.replaceState(j,"",S),l&&f&&f({action:d,location:C.location,delta:0})}function N(P){let _=o.location.origin!=="null"?o.location.origin:o.location.href,w=typeof P=="string"?P:nl(P);return w=w.replace(/ $/,"%20"),Ze(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let C={get action(){return d},get location(){return e(o,u)},listen(P){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Tm,g),f=P,()=>{o.removeEventListener(Tm,g),f=null}},createHref(P){return t(o,P)},createURL:N,encodeLocation(P){let _=N(P);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:k,go(P){return u.go(P)}};return C}var Im;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Im||(Im={}));function H_(e,t,n){return n===void 0&&(n="/"),W_(e,t,n,!1)}function W_(e,t,n,i){let o=typeof t=="string"?Xi(t):t,l=Ji(o.pathname||"/",n);if(l==null)return null;let u=w0(e);Z_(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=nw(l);d=ew(u[f],m,i)}return d}function w0(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Ze(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let m=Sr([i,f.relativePath]),x=n.concat(f);l.children&&l.children.length>0&&(Ze(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),w0(l.children,t,x,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:Q_(m,l.index),routesMeta:x})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of b0(l.path))o(l,u,f)}),t}function b0(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=b0(i.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),o&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function Z_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:X_(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const V_=/^:[\w-]+$/,q_=3,K_=2,J_=1,G_=10,Y_=-2,Mm=e=>e==="*";function Q_(e,t){let n=e.split("/"),i=n.length;return n.some(Mm)&&(i+=Y_),t&&(i+=K_),n.filter(o=>!Mm(o)).reduce((o,l)=>o+(V_.test(l)?q_:l===""?J_:G_),i)}function X_(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function ew(e,t,n){let{routesMeta:i}=e,o={},l="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],m=d===i.length-1,x=l==="/"?t:t.slice(l.length)||"/",g=rl({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},x),b=f.route;if(!g&&m&&n&&!i[i.length-1].route.index&&(g=rl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:Sr([l,g.pathname]),pathnameBase:ow(Sr([l,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(l=Sr([l,g.pathnameBase]))}return u}function rl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=tw(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,x,g)=>{let{paramName:b,isOptional:k}=x;if(b==="*"){let C=d[g]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const N=d[g];return k&&!N?m[b]=void 0:m[b]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:e}}function tw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function nw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ji(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function rw(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?Xi(e):e;return{pathname:n?n.startsWith("/")?n:iw(n,t):t,search:aw(i),hash:lw(o)}}function iw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Zc(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function uh(e,t){let n=sw(e);return t?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function dh(e,t,n,i){i===void 0&&(i=!1);let o;typeof e=="string"?o=Xi(e):(o=co({},e),Ze(!o.pathname||!o.pathname.includes("?"),Zc("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Zc("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Zc("#","search","hash",o)));let l=e===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=n;else{let g=t.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),g-=1;o.pathname=b.join("/")}d=g>=0?t[g]:"/"}let f=rw(o,d),m=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||x)&&(f.pathname+="/"),f}const Sr=e=>e.join("/").replace(/\/\/+/g,"/"),ow=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const j0=["post","put","patch","delete"];new Set(j0);const uw=["get",...j0];new Set(uw);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uo.apply(this,arguments)}const Cl=v.createContext(null),N0=v.createContext(null),rr=v.createContext(null),Pl=v.createContext(null),On=v.createContext({outlet:null,matches:[],isDataRoute:!1}),S0=v.createContext(null);function dw(e,t){let{relative:n}=t===void 0?{}:t;es()||Ze(!1);let{basename:i,navigator:o}=v.useContext(rr),{hash:l,pathname:u,search:d}=El(e,{relative:n}),f=u;return i!=="/"&&(f=u==="/"?i:Sr([i,u])),o.createHref({pathname:f,search:d,hash:l})}function es(){return v.useContext(Pl)!=null}function Kt(){return es()||Ze(!1),v.useContext(Pl).location}function k0(e){v.useContext(rr).static||v.useLayoutEffect(e)}function Je(){let{isDataRoute:e}=v.useContext(On);return e?kw():hw()}function hw(){es()||Ze(!1);let e=v.useContext(Cl),{basename:t,future:n,navigator:i}=v.useContext(rr),{matches:o}=v.useContext(On),{pathname:l}=Kt(),u=JSON.stringify(uh(o,n.v7_relativeSplatPath)),d=v.useRef(!1);return k0(()=>{d.current=!0}),v.useCallback(function(m,x){if(x===void 0&&(x={}),!d.current)return;if(typeof m=="number"){i.go(m);return}let g=dh(m,JSON.parse(u),l,x.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Sr([t,g.pathname])),(x.replace?i.replace:i.push)(g,x.state,x)},[t,i,u,l,e])}const fw=v.createContext(null);function mw(e){let t=v.useContext(On).outlet;return t&&v.createElement(fw.Provider,{value:e},t)}function yo(){let{matches:e}=v.useContext(On),t=e[e.length-1];return t?t.params:{}}function El(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=v.useContext(rr),{matches:o}=v.useContext(On),{pathname:l}=Kt(),u=JSON.stringify(uh(o,i.v7_relativeSplatPath));return v.useMemo(()=>dh(e,JSON.parse(u),l,n==="path"),[e,u,l,n])}function pw(e,t){return gw(e,t)}function gw(e,t,n,i){es()||Ze(!1);let{navigator:o,static:l}=v.useContext(rr),{matches:u}=v.useContext(On),d=u[u.length-1],f=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let x=Kt(),g;if(t){var b;let _=typeof t=="string"?Xi(t):t;m==="/"||(b=_.pathname)!=null&&b.startsWith(m)||Ze(!1),g=_}else g=x;let k=g.pathname||"/",N=k;if(m!=="/"){let _=m.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(_.length).join("/")}let C=!l&&n&&n.matches&&n.matches.length>0?n.matches:H_(e,{pathname:N}),P=ww(C&&C.map(_=>Object.assign({},_,{params:Object.assign({},f,_.params),pathname:Sr([m,o.encodeLocation?o.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:Sr([m,o.encodeLocation?o.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),u,n,i);return t&&P?v.createElement(Pl.Provider,{value:{location:uo({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:gr.Pop}},P):P}function vw(){let e=Sw(),t=cw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:o},n):null,null)}const xw=v.createElement(vw,null);class yw extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(On.Provider,{value:this.props.routeContext},v.createElement(S0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _w(e){let{routeContext:t,match:n,children:i}=e,o=v.useContext(Cl);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(On.Provider,{value:t},i)}function ww(e,t,n,i){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,d=(o=n)==null?void 0:o.errors;if(d!=null){let x=u.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);x>=0||Ze(!1),u=u.slice(0,Math.min(u.length,x+1))}let f=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let x=0;x<u.length;x++){let g=u[x];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=x),g.route.id){let{loaderData:b,errors:k}=n,N=g.route.loader&&b[g.route.id]===void 0&&(!k||k[g.route.id]===void 0);if(g.route.lazy||N){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((x,g,b)=>{let k,N=!1,C=null,P=null;n&&(k=d&&g.route.id?d[g.route.id]:void 0,C=g.route.errorElement||xw,f&&(m<0&&b===0?(N=!0,P=null):m===b&&(N=!0,P=g.route.hydrateFallbackElement||null)));let _=t.concat(u.slice(0,b+1)),w=()=>{let j;return k?j=C:N?j=P:g.route.Component?j=v.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=x,v.createElement(_w,{match:g,routeContext:{outlet:x,matches:_,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?v.createElement(yw,{location:n.location,revalidation:n.revalidation,component:C,error:k,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var C0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(C0||{}),il=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(il||{});function bw(e){let t=v.useContext(Cl);return t||Ze(!1),t}function jw(e){let t=v.useContext(N0);return t||Ze(!1),t}function Nw(e){let t=v.useContext(On);return t||Ze(!1),t}function P0(e){let t=Nw(),n=t.matches[t.matches.length-1];return n.route.id||Ze(!1),n.route.id}function Sw(){var e;let t=v.useContext(S0),n=jw(il.UseRouteError),i=P0(il.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function kw(){let{router:e}=bw(C0.UseNavigateStable),t=P0(il.UseNavigateStable),n=v.useRef(!1);return k0(()=>{n.current=!0}),v.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,uo({fromRouteId:t},l)))},[e,t])}function Cw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kr(e){let{to:t,replace:n,state:i,relative:o}=e;es()||Ze(!1);let{future:l,static:u}=v.useContext(rr),{matches:d}=v.useContext(On),{pathname:f}=Kt(),m=Je(),x=dh(t,uh(d,l.v7_relativeSplatPath),f,o==="path"),g=JSON.stringify(x);return v.useEffect(()=>m(JSON.parse(g),{replace:n,state:i,relative:o}),[m,g,o,n,i]),null}function lr(e){return mw(e.context)}function Te(e){Ze(!1)}function Pw(e){let{basename:t="/",children:n=null,location:i,navigationType:o=gr.Pop,navigator:l,static:u=!1,future:d}=e;es()&&Ze(!1);let f=t.replace(/^\/*/,"/"),m=v.useMemo(()=>({basename:f,navigator:l,static:u,future:uo({v7_relativeSplatPath:!1},d)}),[f,d,l,u]);typeof i=="string"&&(i=Xi(i));let{pathname:x="/",search:g="",hash:b="",state:k=null,key:N="default"}=i,C=v.useMemo(()=>{let P=Ji(x,f);return P==null?null:{location:{pathname:P,search:g,hash:b,state:k,key:N},navigationType:o}},[f,x,g,b,k,N,o]);return C==null?null:v.createElement(rr.Provider,{value:m},v.createElement(Pl.Provider,{children:n,value:C}))}function Ew(e){let{children:t,location:n}=e;return pw(qu(t),n)}new Promise(()=>{});function qu(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(i,o)=>{if(!v.isValidElement(i))return;let l=[...t,o];if(i.type===v.Fragment){n.push.apply(n,qu(i.props.children,l));return}i.type!==Te&&Ze(!1),!i.props.index||!i.props.children||Ze(!1);let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=qu(i.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sl.apply(this,arguments)}function E0(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,l;for(l=0;l<i.length;l++)o=i[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Lw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tw(e,t){return e.button===0&&(!t||t==="_self")&&!Lw(e)}const Rw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Iw=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Mw="6";try{window.__reactRouterVersion=Mw}catch{}const Ow=v.createContext({isTransitioning:!1}),Aw="startTransition",Om=Ey[Aw];function zw(e){let{basename:t,children:n,future:i,window:o}=e,l=v.useRef();l.current==null&&(l.current=F_({window:o,v5Compat:!0}));let u=l.current,[d,f]=v.useState({action:u.action,location:u.location}),{v7_startTransition:m}=i||{},x=v.useCallback(g=>{m&&Om?Om(()=>f(g)):f(g)},[f,m]);return v.useLayoutEffect(()=>u.listen(x),[u,x]),v.useEffect(()=>Cw(i),[i]),v.createElement(Pw,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:u,future:i})}const Bw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L0=v.forwardRef(function(t,n){let{onClick:i,relative:o,reloadDocument:l,replace:u,state:d,target:f,to:m,preventScrollReset:x,viewTransition:g}=t,b=E0(t,Rw),{basename:k}=v.useContext(rr),N,C=!1;if(typeof m=="string"&&Dw.test(m)&&(N=m,Bw))try{let j=new URL(window.location.href),S=m.startsWith("//")?new URL(j.protocol+m):new URL(m),O=Ji(S.pathname,k);S.origin===j.origin&&O!=null?m=O+S.search+S.hash:C=!0}catch{}let P=dw(m,{relative:o}),_=Uw(m,{replace:u,state:d,target:f,preventScrollReset:x,relative:o,viewTransition:g});function w(j){i&&i(j),j.defaultPrevented||_(j)}return v.createElement("a",sl({},b,{href:N||P,onClick:C||l?i:w,ref:n,target:f}))}),ii=v.forwardRef(function(t,n){let{"aria-current":i="page",caseSensitive:o=!1,className:l="",end:u=!1,style:d,to:f,viewTransition:m,children:x}=t,g=E0(t,Iw),b=El(f,{relative:g.relative}),k=Kt(),N=v.useContext(N0),{navigator:C,basename:P}=v.useContext(rr),_=N!=null&&$w(b)&&m===!0,w=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,j=k.pathname,S=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;o||(j=j.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&P&&(S=Ji(S,P)||S);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let $=j===w||!u&&j.startsWith(w)&&j.charAt(O)==="/",M=S!=null&&(S===w||!u&&S.startsWith(w)&&S.charAt(w.length)==="/"),T={isActive:$,isPending:M,isTransitioning:_},q=$?i:void 0,F;typeof l=="function"?F=l(T):F=[l,$?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let K=typeof d=="function"?d(T):d;return v.createElement(L0,sl({},g,{"aria-current":q,className:F,ref:n,style:K,to:f,viewTransition:m}),typeof x=="function"?x(T):x)});var Ku;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ku||(Ku={}));var Am;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Am||(Am={}));function Fw(e){let t=v.useContext(Cl);return t||Ze(!1),t}function Uw(e,t){let{target:n,replace:i,state:o,preventScrollReset:l,relative:u,viewTransition:d}=t===void 0?{}:t,f=Je(),m=Kt(),x=El(e,{relative:u});return v.useCallback(g=>{if(Tw(g,n)){g.preventDefault();let b=i!==void 0?i:nl(m)===nl(x);f(e,{replace:b,state:o,preventScrollReset:l,relative:u,viewTransition:d})}},[m,f,x,i,o,n,e,l,u,d])}function $w(e,t){t===void 0&&(t={});let n=v.useContext(Ow);n==null&&Ze(!1);let{basename:i}=Fw(Ku.useViewTransitionState),o=El(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Ji(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ji(n.nextLocation.pathname,i)||n.nextLocation.pathname;return rl(o.pathname,u)!=null||rl(o.pathname,l)!=null}let Hw={data:""},Ww=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Hw,Zw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Vw=/\/\*[^]*?\*\/|  +/g,zm=/\n+/g,fr=(e,t)=>{let n="",i="",o="";for(let l in e){let u=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":i+=l[1]=="f"?fr(u,l):l+"{"+fr(u,l[1]=="k"?"":t)+"}":typeof u=="object"?i+=fr(u,t?t.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=fr.p?fr.p(l,u):l+":"+u+";")}return n+(t&&o?t+"{"+o+"}":o)+i},Un={},T0=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+T0(e[n]);return t}return e},qw=(e,t,n,i,o)=>{let l=T0(e),u=Un[l]||(Un[l]=(f=>{let m=0,x=11;for(;m<f.length;)x=101*x+f.charCodeAt(m++)>>>0;return"go"+x})(l));if(!Un[u]){let f=l!==e?e:(m=>{let x,g,b=[{}];for(;x=Zw.exec(m.replace(Vw,""));)x[4]?b.shift():x[3]?(g=x[3].replace(zm," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][x[1]]=x[2].replace(zm," ").trim();return b[0]})(e);Un[u]=fr(o?{["@keyframes "+u]:f}:f,n?"":"."+u)}let d=n&&Un.g?Un.g:null;return n&&(Un.g=Un[u]),((f,m,x,g)=>{g?m.data=m.data.replace(g,f):m.data.indexOf(f)===-1&&(m.data=x?f+m.data:m.data+f)})(Un[u],t,i,d),u},Kw=(e,t,n)=>e.reduce((i,o,l)=>{let u=t[l];if(u&&u.call){let d=u(n),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;u=f?"."+f:d&&typeof d=="object"?d.props?"":fr(d,""):d===!1?"":d}return i+o+(u??"")},"");function Ll(e){let t=this||{},n=e.call?e(t.p):e;return qw(n.unshift?n.raw?Kw(n,[].slice.call(arguments,1),t.p):n.reduce((i,o)=>Object.assign(i,o&&o.call?o(t.p):o),{}):n,Ww(t.target),t.g,t.o,t.k)}let R0,Ju,Gu;Ll.bind({g:1});let er=Ll.bind({k:1});function Jw(e,t,n,i){fr.p=t,R0=e,Ju=n,Gu=i}function Mr(e,t){let n=this||{};return function(){let i=arguments;function o(l,u){let d=Object.assign({},l),f=d.className||o.className;n.p=Object.assign({theme:Ju&&Ju()},d),n.o=/ *go\d+/.test(f),d.className=Ll.apply(n,i)+(f?" "+f:"");let m=e;return e[0]&&(m=d.as||e,delete d.as),Gu&&m[0]&&Gu(d),R0(m,d)}return o}}var Gw=e=>typeof e=="function",ol=(e,t)=>Gw(e)?e(t):e,Yw=(()=>{let e=0;return()=>(++e).toString()})(),I0=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Qw=20,M0=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Qw)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return M0(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},wa=[],Vr={toasts:[],pausedAt:void 0},ci=e=>{Vr=M0(Vr,e),wa.forEach(t=>{t(Vr)})},Xw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},e2=(e={})=>{let[t,n]=v.useState(Vr),i=v.useRef(Vr);v.useEffect(()=>(i.current!==Vr&&n(Vr),wa.push(n),()=>{let l=wa.indexOf(n);l>-1&&wa.splice(l,1)}),[]);let o=t.toasts.map(l=>{var u,d,f;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((u=e[l.type])==null?void 0:u.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((d=e[l.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||Xw[l.type],style:{...e.style,...(f=e[l.type])==null?void 0:f.style,...l.style}}});return{...t,toasts:o}},t2=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Yw()}),_o=e=>(t,n)=>{let i=t2(t,e,n);return ci({type:2,toast:i}),i.id},Ae=(e,t)=>_o("blank")(e,t);Ae.error=_o("error");Ae.success=_o("success");Ae.loading=_o("loading");Ae.custom=_o("custom");Ae.dismiss=e=>{ci({type:3,toastId:e})};Ae.remove=e=>ci({type:4,toastId:e});Ae.promise=(e,t,n)=>{let i=Ae.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let l=t.success?ol(t.success,o):void 0;return l?Ae.success(l,{id:i,...n,...n==null?void 0:n.success}):Ae.dismiss(i),o}).catch(o=>{let l=t.error?ol(t.error,o):void 0;l?Ae.error(l,{id:i,...n,...n==null?void 0:n.error}):Ae.dismiss(i)}),e};var n2=(e,t)=>{ci({type:1,toast:{id:e,height:t}})},r2=()=>{ci({type:5,time:Date.now()})},Zs=new Map,i2=1e3,s2=(e,t=i2)=>{if(Zs.has(e))return;let n=setTimeout(()=>{Zs.delete(e),ci({type:4,toastId:e})},t);Zs.set(e,n)},o2=e=>{let{toasts:t,pausedAt:n}=e2(e);v.useEffect(()=>{if(n)return;let l=Date.now(),u=t.map(d=>{if(d.duration===1/0)return;let f=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(f<0){d.visible&&Ae.dismiss(d.id);return}return setTimeout(()=>Ae.dismiss(d.id),f)});return()=>{u.forEach(d=>d&&clearTimeout(d))}},[t,n]);let i=v.useCallback(()=>{n&&ci({type:6,time:Date.now()})},[n]),o=v.useCallback((l,u)=>{let{reverseOrder:d=!1,gutter:f=8,defaultPosition:m}=u||{},x=t.filter(k=>(k.position||m)===(l.position||m)&&k.height),g=x.findIndex(k=>k.id===l.id),b=x.filter((k,N)=>N<g&&k.visible).length;return x.filter(k=>k.visible).slice(...d?[b+1]:[0,b]).reduce((k,N)=>k+(N.height||0)+f,0)},[t]);return v.useEffect(()=>{t.forEach(l=>{if(l.dismissed)s2(l.id,l.removeDelay);else{let u=Zs.get(l.id);u&&(clearTimeout(u),Zs.delete(l.id))}})},[t]),{toasts:t,handlers:{updateHeight:n2,startPause:r2,endPause:i,calculateOffset:o}}},a2=er`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,l2=er`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,c2=er`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,u2=Mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${a2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${l2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${c2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,d2=er`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,h2=Mr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${d2} 1s linear infinite;
`,f2=er`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,m2=er`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,p2=Mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${f2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${m2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,g2=Mr("div")`
  position: absolute;
`,v2=Mr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,x2=er`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,y2=Mr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${x2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_2=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?v.createElement(y2,null,t):t:n==="blank"?null:v.createElement(v2,null,v.createElement(h2,{...i}),n!=="loading"&&v.createElement(g2,null,n==="error"?v.createElement(u2,{...i}):v.createElement(p2,{...i})))},w2=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,b2=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,j2="0%{opacity:0;} 100%{opacity:1;}",N2="0%{opacity:1;} 100%{opacity:0;}",S2=Mr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,k2=Mr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,C2=(e,t)=>{let n=e.includes("top")?1:-1,[i,o]=I0()?[j2,N2]:[w2(n),b2(n)];return{animation:t?`${er(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${er(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},P2=v.memo(({toast:e,position:t,style:n,children:i})=>{let o=e.height?C2(e.position||t||"top-center",e.visible):{opacity:0},l=v.createElement(_2,{toast:e}),u=v.createElement(k2,{...e.ariaProps},ol(e.message,e));return v.createElement(S2,{className:e.className,style:{...o,...n,...e.style}},typeof i=="function"?i({icon:l,message:u}):v.createElement(v.Fragment,null,l,u))});Jw(v.createElement);var E2=({id:e,className:t,style:n,onHeightUpdate:i,children:o})=>{let l=v.useCallback(u=>{if(u){let d=()=>{let f=u.getBoundingClientRect().height;i(e,f)};d(),new MutationObserver(d).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return v.createElement("div",{ref:l,className:t,style:n},o)},L2=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:I0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...o}},T2=Ll`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,oa=16,R2=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:o,containerStyle:l,containerClassName:u})=>{let{toasts:d,handlers:f}=o2(n);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:oa,left:oa,right:oa,bottom:oa,pointerEvents:"none",...l},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(m=>{let x=m.position||t,g=f.calculateOffset(m,{reverseOrder:e,gutter:i,defaultPosition:t}),b=L2(x,g);return v.createElement(E2,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?T2:"",style:b},m.type==="custom"?ol(m.message,m):o?o(m):v.createElement(P2,{toast:m,position:x}))}))},Zn=Ae;const I2=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[65vh]",children:[s.jsx("h1",{className:"text-[100px] font-bold",children:"404"}),s.jsx("h2",{className:"text-4xl font-normal",children:"Oops! Page Not Found"}),s.jsx(L0,{to:"/dashboard",className:"mt-4 px-4 py-2 border border-black text-black hover:bg-black hover:text-white transition-colors duration-300",children:"Go Back"})]});var O0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bm=Ne.createContext&&Ne.createContext(O0),M2=["attr","size","title"];function O2(e,t){if(e==null)return{};var n=A2(e,t),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)i=l[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function A2(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},al.apply(this,arguments)}function Dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dm(Object(n),!0).forEach(function(i){z2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dm(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function z2(e,t,n){return t=B2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B2(e){var t=D2(e,"string");return typeof t=="symbol"?t:t+""}function D2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0(e){return e&&e.map((t,n)=>Ne.createElement(t.tag,ll({key:n},t.attr),A0(t.child)))}function qe(e){return t=>Ne.createElement(F2,al({attr:ll({},e.attr)},t),A0(e.child))}function F2(e){var t=n=>{var{attr:i,size:o,title:l}=e,u=O2(e,M2),d=o||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),Ne.createElement("svg",al({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:f,style:ll(ll({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ne.createElement("title",null,l),e.children)};return Bm!==void 0?Ne.createElement(Bm.Consumer,null,n=>t(n)):t(O0)}function U2(e){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"},child:[]},{tag:"path",attr:{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"},child:[]}]})(e)}function $2(e){return qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M241.406 21l-15.22 34.75c-7.864.478-15.703 1.472-23.467 2.97l-23.282-30.064-25.094 8.532-.125 38.25c-10.63 5.464-20.817 12.07-30.44 19.78L88.313 79.25 70.156 98.563 88.312 133c-5.852 8.346-10.925 17.072-15.218 26.094l-38.938 1.062-7.906 25.28 31.438 23.158c-1.505 9.38-2.24 18.858-2.282 28.344L20.5 254.625l3.656 26.25 38.313 7.5c2.284 7.982 5.107 15.826 8.5 23.5L45.72 343.22l14.093 22.436 39.25-9.187c2.47 2.895 5.037 5.757 7.718 8.53 5.643 5.835 11.565 11.206 17.72 16.125l-7.625 39.313 22.938 13.25 29.968-26.094c8.606 3.462 17.435 6.23 26.407 8.312l9.782 38.406 26.405 2.157 15.875-36.22c10.97-.66 21.904-2.3 32.656-4.938l25.22 29.22 24.593-9.844-.72-14.813-57.406-43.53c-16.712 4.225-34.042 5.356-51.063 3.436-31.754-3.58-62.27-17.92-86.218-42.686-54.738-56.614-53.173-146.67 3.438-201.406 27.42-26.513 62.69-39.963 98-40.344 37.59-.406 75.214 13.996 103.438 43.187 45.935 47.512 52.196 118.985 19.562 173.095l31.97 24.25c3.997-6.28 7.594-12.75 10.75-19.375l38.655-1.063 7.906-25.28-31.217-23c1.513-9.457 2.262-19.035 2.28-28.594l34.688-17.625-3.655-26.25-38.28-7.5c-3.196-10.993-7.444-21.762-12.75-32.125l22.81-31.594-15.25-21.657-37.56 10.906c-.472-.5-.93-1.007-1.408-1.5-5.998-6.205-12.33-11.89-18.937-17.064l7.188-37.125L334 43.78l-28.5 24.814c-9.226-3.713-18.702-6.603-28.313-8.75l-9.343-36.688L241.406 21zM183.25 174.5c-10.344.118-20.597 2.658-30 7.28l45.22 34.314c13.676 10.376 17.555 30.095 7.06 43.937-10.498 13.85-30.656 15.932-44.53 5.408l-45.188-34.282c-4.627 24.793 4.135 51.063 25.594 67.344 19.245 14.597 43.944 17.33 65.22 9.688l4.78-1.72 4.03 3.063 135.19 102.564 4.03 3.062-.344 5.063c-1.637 22.55 7.59 45.61 26.844 60.217 21.46 16.28 49.145 17.63 71.78 6.5l-45.186-34.28c-13.874-10.526-17.282-30.506-6.78-44.344 10.5-13.84 30.537-15.405 44.217-5.032l45.188 34.283c4.616-24.784-4.11-51.067-25.563-67.344-19.313-14.658-43.817-17.562-64.968-10.033l-4.75 1.688-4.03-3.063-135.19-102.562-4.03-3.063.344-5.03c1.55-22.387-7.85-45.194-27.157-59.845-12.544-9.516-27.222-13.978-41.78-13.812zm43.563 90.25l163.875 124.344L379.406 404 215.5 279.625l11.313-14.875z"},child:[]}]})(e)}function H2(e){return qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(e)}function W2(e){return qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Paper_Plane"},child:[{tag:"path",attr:{d:"M21.061,11.077,3.741,4.157a.994.994,0,0,0-1.17.32,1,1,0,0,0-.01,1.22l4.49,6a.525.525,0,0,1-.01.62L2.511,18.3a1.02,1.02,0,0,0,0,1.22,1,1,0,0,0,.8.4,1.021,1.021,0,0,0,.38-.07l17.36-6.9a1.006,1.006,0,0,0,.01-1.87ZM3.371,5.087l16.06,6.42H8.061a1.329,1.329,0,0,0-.21-.41Zm-.06,13.82,4.53-5.98a1.212,1.212,0,0,0,.22-.42h11.38Z"},child:[]}]}]})(e)}function z0(e,t){return function(){return e.apply(t,arguments)}}const{toString:Z2}=Object.prototype,{getPrototypeOf:hh}=Object,Tl=(e=>t=>{const n=Z2.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=e=>(e=e.toLowerCase(),t=>Tl(t)===e),Rl=e=>t=>typeof t===e,{isArray:ts}=Array,ho=Rl("undefined");function V2(e){return e!==null&&!ho(e)&&e.constructor!==null&&!ho(e.constructor)&&Wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const B0=yn("ArrayBuffer");function q2(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&B0(e.buffer),t}const K2=Rl("string"),Wt=Rl("function"),D0=Rl("number"),Il=e=>e!==null&&typeof e=="object",J2=e=>e===!0||e===!1,ba=e=>{if(Tl(e)!=="object")return!1;const t=hh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},G2=yn("Date"),Y2=yn("File"),Q2=yn("Blob"),X2=yn("FileList"),eb=e=>Il(e)&&Wt(e.pipe),tb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wt(e.append)&&((t=Tl(e))==="formdata"||t==="object"&&Wt(e.toString)&&e.toString()==="[object FormData]"))},nb=yn("URLSearchParams"),[rb,ib,sb,ob]=["ReadableStream","Request","Response","Headers"].map(yn),ab=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wo(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,o;if(typeof e!="object"&&(e=[e]),ts(e))for(i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else{const l=n?Object.getOwnPropertyNames(e):Object.keys(e),u=l.length;let d;for(i=0;i<u;i++)d=l[i],t.call(null,e[d],d,e)}}function F0(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,o;for(;i-- >0;)if(o=n[i],t===o.toLowerCase())return o;return null}const qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U0=e=>!ho(e)&&e!==qr;function Yu(){const{caseless:e}=U0(this)&&this||{},t={},n=(i,o)=>{const l=e&&F0(t,o)||o;ba(t[l])&&ba(i)?t[l]=Yu(t[l],i):ba(i)?t[l]=Yu({},i):ts(i)?t[l]=i.slice():t[l]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&wo(arguments[i],n);return t}const lb=(e,t,n,{allOwnKeys:i}={})=>(wo(t,(o,l)=>{n&&Wt(o)?e[l]=z0(o,n):e[l]=o},{allOwnKeys:i}),e),cb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ub=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},db=(e,t,n,i)=>{let o,l,u;const d={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)u=o[l],(!i||i(u,e,t))&&!d[u]&&(t[u]=e[u],d[u]=!0);e=n!==!1&&hh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},hb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},fb=e=>{if(!e)return null;if(ts(e))return e;let t=e.length;if(!D0(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},mb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hh(Uint8Array)),pb=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=i.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},gb=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},vb=yn("HTMLFormElement"),xb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),Fm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),yb=yn("RegExp"),$0=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};wo(n,(o,l)=>{let u;(u=t(o,l,e))!==!1&&(i[l]=u||o)}),Object.defineProperties(e,i)},_b=e=>{$0(e,(t,n)=>{if(Wt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Wt(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wb=(e,t)=>{const n={},i=o=>{o.forEach(l=>{n[l]=!0})};return ts(e)?i(e):i(String(e).split(t)),n},bb=()=>{},jb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Nb(e){return!!(e&&Wt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Sb=e=>{const t=new Array(10),n=(i,o)=>{if(Il(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[o]=i;const l=ts(i)?[]:{};return wo(i,(u,d)=>{const f=n(u,o+1);!ho(f)&&(l[d]=f)}),t[o]=void 0,l}}return i};return n(e,0)},kb=yn("AsyncFunction"),Cb=e=>e&&(Il(e)||Wt(e))&&Wt(e.then)&&Wt(e.catch),H0=((e,t)=>e?setImmediate:t?((n,i)=>(qr.addEventListener("message",({source:o,data:l})=>{o===qr&&l===n&&i.length&&i.shift()()},!1),o=>{i.push(o),qr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wt(qr.postMessage)),Pb=typeof queueMicrotask<"u"?queueMicrotask.bind(qr):typeof process<"u"&&process.nextTick||H0,B={isArray:ts,isArrayBuffer:B0,isBuffer:V2,isFormData:tb,isArrayBufferView:q2,isString:K2,isNumber:D0,isBoolean:J2,isObject:Il,isPlainObject:ba,isReadableStream:rb,isRequest:ib,isResponse:sb,isHeaders:ob,isUndefined:ho,isDate:G2,isFile:Y2,isBlob:Q2,isRegExp:yb,isFunction:Wt,isStream:eb,isURLSearchParams:nb,isTypedArray:mb,isFileList:X2,forEach:wo,merge:Yu,extend:lb,trim:ab,stripBOM:cb,inherits:ub,toFlatObject:db,kindOf:Tl,kindOfTest:yn,endsWith:hb,toArray:fb,forEachEntry:pb,matchAll:gb,isHTMLForm:vb,hasOwnProperty:Fm,hasOwnProp:Fm,reduceDescriptors:$0,freezeMethods:_b,toObjectSet:wb,toCamelCase:xb,noop:bb,toFiniteNumber:jb,findKey:F0,global:qr,isContextDefined:U0,isSpecCompliantForm:Nb,toJSONObject:Sb,isAsyncFn:kb,isThenable:Cb,setImmediate:H0,asap:Pb};function _e(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}B.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const W0=_e.prototype,Z0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Z0[e]={value:e}});Object.defineProperties(_e,Z0);Object.defineProperty(W0,"isAxiosError",{value:!0});_e.from=(e,t,n,i,o,l)=>{const u=Object.create(W0);return B.toFlatObject(e,u,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),_e.call(u,e.message,t,n,i,o),u.cause=e,u.name=e.name,l&&Object.assign(u,l),u};const Eb=null;function Qu(e){return B.isPlainObject(e)||B.isArray(e)}function V0(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function Um(e,t,n){return e?e.concat(t).map(function(o,l){return o=V0(o),!n&&l?"["+o+"]":o}).join(n?".":""):t}function Lb(e){return B.isArray(e)&&!e.some(Qu)}const Tb=B.toFlatObject(B,{},null,function(t){return/^is[A-Z]/.test(t)});function Ml(e,t,n){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,P){return!B.isUndefined(P[C])});const i=n.metaTokens,o=n.visitor||x,l=n.dots,u=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(o))throw new TypeError("visitor must be a function");function m(N){if(N===null)return"";if(B.isDate(N))return N.toISOString();if(!f&&B.isBlob(N))throw new _e("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(N)||B.isTypedArray(N)?f&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function x(N,C,P){let _=N;if(N&&!P&&typeof N=="object"){if(B.endsWith(C,"{}"))C=i?C:C.slice(0,-2),N=JSON.stringify(N);else if(B.isArray(N)&&Lb(N)||(B.isFileList(N)||B.endsWith(C,"[]"))&&(_=B.toArray(N)))return C=V0(C),_.forEach(function(j,S){!(B.isUndefined(j)||j===null)&&t.append(u===!0?Um([C],S,l):u===null?C:C+"[]",m(j))}),!1}return Qu(N)?!0:(t.append(Um(P,C,l),m(N)),!1)}const g=[],b=Object.assign(Tb,{defaultVisitor:x,convertValue:m,isVisitable:Qu});function k(N,C){if(!B.isUndefined(N)){if(g.indexOf(N)!==-1)throw Error("Circular reference detected in "+C.join("."));g.push(N),B.forEach(N,function(_,w){(!(B.isUndefined(_)||_===null)&&o.call(t,_,B.isString(w)?w.trim():w,C,b))===!0&&k(_,C?C.concat(w):[w])}),g.pop()}}if(!B.isObject(e))throw new TypeError("data must be an object");return k(e),t}function $m(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function fh(e,t){this._pairs=[],e&&Ml(e,this,t)}const q0=fh.prototype;q0.append=function(t,n){this._pairs.push([t,n])};q0.toString=function(t){const n=t?function(i){return t.call(this,i,$m)}:$m;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Rb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function K0(e,t,n){if(!t)return e;const i=n&&n.encode||Rb;B.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let l;if(o?l=o(t,n):l=B.isURLSearchParams(t)?t.toString():new fh(t,n).toString(i),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Hm{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){B.forEach(this.handlers,function(i){i!==null&&t(i)})}}const J0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ib=typeof URLSearchParams<"u"?URLSearchParams:fh,Mb=typeof FormData<"u"?FormData:null,Ob=typeof Blob<"u"?Blob:null,Ab={isBrowser:!0,classes:{URLSearchParams:Ib,FormData:Mb,Blob:Ob},protocols:["http","https","file","blob","url","data"]},mh=typeof window<"u"&&typeof document<"u",Xu=typeof navigator=="object"&&navigator||void 0,zb=mh&&(!Xu||["ReactNative","NativeScript","NS"].indexOf(Xu.product)<0),Bb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Db=mh&&window.location.href||"http://localhost",Fb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mh,hasStandardBrowserEnv:zb,hasStandardBrowserWebWorkerEnv:Bb,navigator:Xu,origin:Db},Symbol.toStringTag,{value:"Module"})),xt={...Fb,...Ab};function Ub(e,t){return Ml(e,new xt.classes.URLSearchParams,Object.assign({visitor:function(n,i,o,l){return xt.isNode&&B.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function $b(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hb(e){const t={},n=Object.keys(e);let i;const o=n.length;let l;for(i=0;i<o;i++)l=n[i],t[l]=e[l];return t}function G0(e){function t(n,i,o,l){let u=n[l++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),f=l>=n.length;return u=!u&&B.isArray(o)?o.length:u,f?(B.hasOwnProp(o,u)?o[u]=[o[u],i]:o[u]=i,!d):((!o[u]||!B.isObject(o[u]))&&(o[u]=[]),t(n,i,o[u],l)&&B.isArray(o[u])&&(o[u]=Hb(o[u])),!d)}if(B.isFormData(e)&&B.isFunction(e.entries)){const n={};return B.forEachEntry(e,(i,o)=>{t($b(i),o,n,0)}),n}return null}function Wb(e,t,n){if(B.isString(e))try{return(t||JSON.parse)(e),B.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(e)}const bo={transitional:J0,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,l=B.isObject(t);if(l&&B.isHTMLForm(t)&&(t=new FormData(t)),B.isFormData(t))return o?JSON.stringify(G0(t)):t;if(B.isArrayBuffer(t)||B.isBuffer(t)||B.isStream(t)||B.isFile(t)||B.isBlob(t)||B.isReadableStream(t))return t;if(B.isArrayBufferView(t))return t.buffer;if(B.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Ub(t,this.formSerializer).toString();if((d=B.isFileList(t))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Ml(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return l||o?(n.setContentType("application/json",!1),Wb(t)):t}],transformResponse:[function(t){const n=this.transitional||bo.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(B.isResponse(t)||B.isReadableStream(t))return t;if(t&&B.isString(t)&&(i&&!this.responseType||o)){const u=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(d){if(u)throw d.name==="SyntaxError"?_e.from(d,_e.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xt.classes.FormData,Blob:xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],e=>{bo.headers[e]={}});const Zb=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vb=e=>{const t={};let n,i,o;return e&&e.split(`
`).forEach(function(u){o=u.indexOf(":"),n=u.substring(0,o).trim().toLowerCase(),i=u.substring(o+1).trim(),!(!n||t[n]&&Zb[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Wm=Symbol("internals");function Cs(e){return e&&String(e).trim().toLowerCase()}function ja(e){return e===!1||e==null?e:B.isArray(e)?e.map(ja):String(e)}function qb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const Kb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vc(e,t,n,i,o){if(B.isFunction(i))return i.call(this,t,n);if(o&&(t=n),!!B.isString(t)){if(B.isString(i))return t.indexOf(i)!==-1;if(B.isRegExp(i))return i.test(t)}}function Jb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function Gb(e,t){const n=B.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(o,l,u){return this[i].call(this,t,o,l,u)},configurable:!0})})}class zt{constructor(t){t&&this.set(t)}set(t,n,i){const o=this;function l(d,f,m){const x=Cs(f);if(!x)throw new Error("header name must be a non-empty string");const g=B.findKey(o,x);(!g||o[g]===void 0||m===!0||m===void 0&&o[g]!==!1)&&(o[g||f]=ja(d))}const u=(d,f)=>B.forEach(d,(m,x)=>l(m,x,f));if(B.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(B.isString(t)&&(t=t.trim())&&!Kb(t))u(Vb(t),n);else if(B.isHeaders(t))for(const[d,f]of t.entries())l(f,d,i);else t!=null&&l(n,t,i);return this}get(t,n){if(t=Cs(t),t){const i=B.findKey(this,t);if(i){const o=this[i];if(!n)return o;if(n===!0)return qb(o);if(B.isFunction(n))return n.call(this,o,i);if(B.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Cs(t),t){const i=B.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||Vc(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let o=!1;function l(u){if(u=Cs(u),u){const d=B.findKey(i,u);d&&(!n||Vc(i,i[d],d,n))&&(delete i[d],o=!0)}}return B.isArray(t)?t.forEach(l):l(t),o}clear(t){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const l=n[i];(!t||Vc(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const n=this,i={};return B.forEach(this,(o,l)=>{const u=B.findKey(i,l);if(u){n[u]=ja(o),delete n[l];return}const d=t?Jb(l):String(l).trim();d!==l&&delete n[l],n[d]=ja(o),i[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return B.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=t&&B.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(o=>i.set(o)),i}static accessor(t){const i=(this[Wm]=this[Wm]={accessors:{}}).accessors,o=this.prototype;function l(u){const d=Cs(u);i[d]||(Gb(o,u),i[d]=!0)}return B.isArray(t)?t.forEach(l):l(t),this}}zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(zt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});B.freezeMethods(zt);function qc(e,t){const n=this||bo,i=t||n,o=zt.from(i.headers);let l=i.data;return B.forEach(e,function(d){l=d.call(n,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function Y0(e){return!!(e&&e.__CANCEL__)}function ns(e,t,n){_e.call(this,e??"canceled",_e.ERR_CANCELED,t,n),this.name="CanceledError"}B.inherits(ns,_e,{__CANCEL__:!0});function Q0(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Yb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Qb(e,t){e=e||10;const n=new Array(e),i=new Array(e);let o=0,l=0,u;return t=t!==void 0?t:1e3,function(f){const m=Date.now(),x=i[l];u||(u=m),n[o]=f,i[o]=m;let g=l,b=0;for(;g!==o;)b+=n[g++],g=g%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),m-u<t)return;const k=x&&m-x;return k?Math.round(b*1e3/k):void 0}}function Xb(e,t){let n=0,i=1e3/t,o,l;const u=(m,x=Date.now())=>{n=x,o=null,l&&(clearTimeout(l),l=null),e.apply(null,m)};return[(...m)=>{const x=Date.now(),g=x-n;g>=i?u(m,x):(o=m,l||(l=setTimeout(()=>{l=null,u(o)},i-g)))},()=>o&&u(o)]}const cl=(e,t,n=3)=>{let i=0;const o=Qb(50,250);return Xb(l=>{const u=l.loaded,d=l.lengthComputable?l.total:void 0,f=u-i,m=o(f),x=u<=d;i=u;const g={loaded:u,total:d,progress:d?u/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&x?(d-u)/m:void 0,event:l,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(g)},n)},Zm=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Vm=e=>(...t)=>B.asap(()=>e(...t)),e4=xt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,xt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(xt.origin),xt.navigator&&/(msie|trident)/i.test(xt.navigator.userAgent)):()=>!0,t4=xt.hasStandardBrowserEnv?{write(e,t,n,i,o,l){const u=[e+"="+encodeURIComponent(t)];B.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),B.isString(i)&&u.push("path="+i),B.isString(o)&&u.push("domain="+o),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function n4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function r4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function X0(e,t,n){let i=!n4(t);return e&&(i||n==!1)?r4(e,t):t}const qm=e=>e instanceof zt?{...e}:e;function si(e,t){t=t||{};const n={};function i(m,x,g,b){return B.isPlainObject(m)&&B.isPlainObject(x)?B.merge.call({caseless:b},m,x):B.isPlainObject(x)?B.merge({},x):B.isArray(x)?x.slice():x}function o(m,x,g,b){if(B.isUndefined(x)){if(!B.isUndefined(m))return i(void 0,m,g,b)}else return i(m,x,g,b)}function l(m,x){if(!B.isUndefined(x))return i(void 0,x)}function u(m,x){if(B.isUndefined(x)){if(!B.isUndefined(m))return i(void 0,m)}else return i(void 0,x)}function d(m,x,g){if(g in t)return i(m,x);if(g in e)return i(void 0,m)}const f={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(m,x,g)=>o(qm(m),qm(x),g,!0)};return B.forEach(Object.keys(Object.assign({},e,t)),function(x){const g=f[x]||o,b=g(e[x],t[x],x);B.isUndefined(b)&&g!==d||(n[x]=b)}),n}const ev=e=>{const t=si({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:u,auth:d}=t;t.headers=u=zt.from(u),t.url=K0(X0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(B.isFormData(n)){if(xt.hasStandardBrowserEnv||xt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[m,...x]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...x].join("; "))}}if(xt.hasStandardBrowserEnv&&(i&&B.isFunction(i)&&(i=i(t)),i||i!==!1&&e4(t.url))){const m=o&&l&&t4.read(l);m&&u.set(o,m)}return t},i4=typeof XMLHttpRequest<"u",s4=i4&&function(e){return new Promise(function(n,i){const o=ev(e);let l=o.data;const u=zt.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=o,x,g,b,k,N;function C(){k&&k(),N&&N(),o.cancelToken&&o.cancelToken.unsubscribe(x),o.signal&&o.signal.removeEventListener("abort",x)}let P=new XMLHttpRequest;P.open(o.method.toUpperCase(),o.url,!0),P.timeout=o.timeout;function _(){if(!P)return;const j=zt.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),O={data:!d||d==="text"||d==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:j,config:e,request:P};Q0(function(M){n(M),C()},function(M){i(M),C()},O),P=null}"onloadend"in P?P.onloadend=_:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(_)},P.onabort=function(){P&&(i(new _e("Request aborted",_e.ECONNABORTED,e,P)),P=null)},P.onerror=function(){i(new _e("Network Error",_e.ERR_NETWORK,e,P)),P=null},P.ontimeout=function(){let S=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const O=o.transitional||J0;o.timeoutErrorMessage&&(S=o.timeoutErrorMessage),i(new _e(S,O.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,e,P)),P=null},l===void 0&&u.setContentType(null),"setRequestHeader"in P&&B.forEach(u.toJSON(),function(S,O){P.setRequestHeader(O,S)}),B.isUndefined(o.withCredentials)||(P.withCredentials=!!o.withCredentials),d&&d!=="json"&&(P.responseType=o.responseType),m&&([b,N]=cl(m,!0),P.addEventListener("progress",b)),f&&P.upload&&([g,k]=cl(f),P.upload.addEventListener("progress",g),P.upload.addEventListener("loadend",k)),(o.cancelToken||o.signal)&&(x=j=>{P&&(i(!j||j.type?new ns(null,e,P):j),P.abort(),P=null)},o.cancelToken&&o.cancelToken.subscribe(x),o.signal&&(o.signal.aborted?x():o.signal.addEventListener("abort",x)));const w=Yb(o.url);if(w&&xt.protocols.indexOf(w)===-1){i(new _e("Unsupported protocol "+w+":",_e.ERR_BAD_REQUEST,e));return}P.send(l||null)})},o4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,o;const l=function(m){if(!o){o=!0,d();const x=m instanceof Error?m:this.reason;i.abort(x instanceof _e?x:new ns(x instanceof Error?x.message:x))}};let u=t&&setTimeout(()=>{u=null,l(new _e(`timeout ${t} of ms exceeded`,_e.ETIMEDOUT))},t);const d=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),e=null)};e.forEach(m=>m.addEventListener("abort",l));const{signal:f}=i;return f.unsubscribe=()=>B.asap(d),f}},a4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,o;for(;i<n;)o=i+t,yield e.slice(i,o),i=o},l4=async function*(e,t){for await(const n of c4(e))yield*a4(n,t)},c4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Km=(e,t,n,i)=>{const o=l4(e,t);let l=0,u,d=f=>{u||(u=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:m,value:x}=await o.next();if(m){d(),f.close();return}let g=x.byteLength;if(n){let b=l+=g;n(b)}f.enqueue(new Uint8Array(x))}catch(m){throw d(m),m}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},Ol=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tv=Ol&&typeof ReadableStream=="function",u4=Ol&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),nv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},d4=tv&&nv(()=>{let e=!1;const t=new Request(xt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Jm=64*1024,ed=tv&&nv(()=>B.isReadableStream(new Response("").body)),ul={stream:ed&&(e=>e.body)};Ol&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ul[t]&&(ul[t]=B.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new _e(`Response type '${t}' is not supported`,_e.ERR_NOT_SUPPORT,i)})})})(new Response);const h4=async e=>{if(e==null)return 0;if(B.isBlob(e))return e.size;if(B.isSpecCompliantForm(e))return(await new Request(xt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(B.isArrayBufferView(e)||B.isArrayBuffer(e))return e.byteLength;if(B.isURLSearchParams(e)&&(e=e+""),B.isString(e))return(await u4(e)).byteLength},f4=async(e,t)=>{const n=B.toFiniteNumber(e.getContentLength());return n??h4(t)},m4=Ol&&(async e=>{let{url:t,method:n,data:i,signal:o,cancelToken:l,timeout:u,onDownloadProgress:d,onUploadProgress:f,responseType:m,headers:x,withCredentials:g="same-origin",fetchOptions:b}=ev(e);m=m?(m+"").toLowerCase():"text";let k=o4([o,l&&l.toAbortSignal()],u),N;const C=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let P;try{if(f&&d4&&n!=="get"&&n!=="head"&&(P=await f4(x,i))!==0){let O=new Request(t,{method:"POST",body:i,duplex:"half"}),$;if(B.isFormData(i)&&($=O.headers.get("content-type"))&&x.setContentType($),O.body){const[M,T]=Zm(P,cl(Vm(f)));i=Km(O.body,Jm,M,T)}}B.isString(g)||(g=g?"include":"omit");const _="credentials"in Request.prototype;N=new Request(t,{...b,signal:k,method:n.toUpperCase(),headers:x.normalize().toJSON(),body:i,duplex:"half",credentials:_?g:void 0});let w=await fetch(N);const j=ed&&(m==="stream"||m==="response");if(ed&&(d||j&&C)){const O={};["status","statusText","headers"].forEach(q=>{O[q]=w[q]});const $=B.toFiniteNumber(w.headers.get("content-length")),[M,T]=d&&Zm($,cl(Vm(d),!0))||[];w=new Response(Km(w.body,Jm,M,()=>{T&&T(),C&&C()}),O)}m=m||"text";let S=await ul[B.findKey(ul,m)||"text"](w,e);return!j&&C&&C(),await new Promise((O,$)=>{Q0(O,$,{data:S,headers:zt.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:N})})}catch(_){throw C&&C(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,e,N),{cause:_.cause||_}):_e.from(_,_&&_.code,e,N)}}),td={http:Eb,xhr:s4,fetch:m4};B.forEach(td,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Gm=e=>`- ${e}`,p4=e=>B.isFunction(e)||e===null||e===!1,rv={getAdapter:e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let n,i;const o={};for(let l=0;l<t;l++){n=e[l];let u;if(i=n,!p4(n)&&(i=td[(u=String(n)).toLowerCase()],i===void 0))throw new _e(`Unknown adapter '${u}'`);if(i)break;o[u||"#"+l]=i}if(!i){const l=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(Gm).join(`
`):" "+Gm(l[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:td};function Kc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ns(null,e)}function Ym(e){return Kc(e),e.headers=zt.from(e.headers),e.data=qc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rv.getAdapter(e.adapter||bo.adapter)(e).then(function(i){return Kc(e),i.data=qc.call(e,e.transformResponse,i),i.headers=zt.from(i.headers),i},function(i){return Y0(i)||(Kc(e),i&&i.response&&(i.response.data=qc.call(e,e.transformResponse,i.response),i.response.headers=zt.from(i.response.headers))),Promise.reject(i)})}const iv="1.8.4",Al={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Al[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Qm={};Al.transitional=function(t,n,i){function o(l,u){return"[Axios v"+iv+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,d)=>{if(t===!1)throw new _e(o(u," has been removed"+(n?" in "+n:"")),_e.ERR_DEPRECATED);return n&&!Qm[u]&&(Qm[u]=!0,console.warn(o(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,u,d):!0}};Al.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function g4(e,t,n){if(typeof e!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const l=i[o],u=t[l];if(u){const d=e[l],f=d===void 0||u(d,l,e);if(f!==!0)throw new _e("option "+l+" must be "+f,_e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _e("Unknown option "+l,_e.ERR_BAD_OPTION)}}const Na={assertOptions:g4,validators:Al},En=Na.validators;class Gr{constructor(t){this.defaults=t,this.interceptors={request:new Hm,response:new Hm}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=si(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:l}=n;i!==void 0&&Na.assertOptions(i,{silentJSONParsing:En.transitional(En.boolean),forcedJSONParsing:En.transitional(En.boolean),clarifyTimeoutError:En.transitional(En.boolean)},!1),o!=null&&(B.isFunction(o)?n.paramsSerializer={serialize:o}:Na.assertOptions(o,{encode:En.function,serialize:En.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Na.assertOptions(n,{baseUrl:En.spelling("baseURL"),withXsrfToken:En.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=l&&B.merge(l.common,l[n.method]);l&&B.forEach(["delete","get","head","post","put","patch","common"],N=>{delete l[N]}),n.headers=zt.concat(u,l);const d=[];let f=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(f=f&&C.synchronous,d.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let x,g=0,b;if(!f){const N=[Ym.bind(this),void 0];for(N.unshift.apply(N,d),N.push.apply(N,m),b=N.length,x=Promise.resolve(n);g<b;)x=x.then(N[g++],N[g++]);return x}b=d.length;let k=n;for(g=0;g<b;){const N=d[g++],C=d[g++];try{k=N(k)}catch(P){C.call(this,P);break}}try{x=Ym.call(this,k)}catch(N){return Promise.reject(N)}for(g=0,b=m.length;g<b;)x=x.then(m[g++],m[g++]);return x}getUri(t){t=si(this.defaults,t);const n=X0(t.baseURL,t.url,t.allowAbsoluteUrls);return K0(n,t.params,t.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(t){Gr.prototype[t]=function(n,i){return this.request(si(i||{},{method:t,url:n,data:(i||{}).data}))}});B.forEach(["post","put","patch"],function(t){function n(i){return function(l,u,d){return this.request(si(d||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Gr.prototype[t]=n(),Gr.prototype[t+"Form"]=n(!0)});class ph{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const u=new Promise(d=>{i.subscribe(d),l=d}).then(o);return u.cancel=function(){i.unsubscribe(l)},u},t(function(l,u,d){i.reason||(i.reason=new ns(l,u,d),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ph(function(o){t=o}),cancel:t}}}function v4(e){return function(n){return e.apply(null,n)}}function x4(e){return B.isObject(e)&&e.isAxiosError===!0}const nd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nd).forEach(([e,t])=>{nd[t]=e});function sv(e){const t=new Gr(e),n=z0(Gr.prototype.request,t);return B.extend(n,Gr.prototype,t,{allOwnKeys:!0}),B.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return sv(si(e,o))},n}const oe=sv(bo);oe.Axios=Gr;oe.CanceledError=ns;oe.CancelToken=ph;oe.isCancel=Y0;oe.VERSION=iv;oe.toFormData=Ml;oe.AxiosError=_e;oe.Cancel=oe.CanceledError;oe.all=function(t){return Promise.all(t)};oe.spread=v4;oe.isAxiosError=x4;oe.mergeConfig=si;oe.AxiosHeaders=zt;oe.formToJSON=e=>G0(B.isHTMLForm(e)?new FormData(e):e);oe.getAdapter=rv.getAdapter;oe.HttpStatusCode=nd;oe.default=oe;const ov=v.createContext(),y4=({children:e})=>{const[t,n]=v.useState(null),[i,o]=v.useState(!0);v.useEffect(()=>{let f=!0;return(async()=>{var x;try{const g=localStorage.getItem("token");if(g){const b=await oe.get("http://localhost:8000/api/auth/verify",{headers:{Authorization:`Bearer ${g}`}});(x=b.data)!=null&&x.success&&f?n(b.data.user):f&&n(null)}else f&&n(null)}catch(g){console.error("Error verifying user:",g),f&&n(null)}finally{f&&o(!1)}})(),()=>{f=!1}},[]);const l=f=>{n(f),o(!1)},u=()=>{n(null),localStorage.removeItem("token")},d=()=>t&&t.role==="serviceProvider"&&t.approved===!1;return s.jsx(ov.Provider,{value:{user:t,login:l,logout:u,loading:i,isPendingApproval:d},children:e})},Pt=()=>v.useContext(ov),Mn=Object.create(null);Mn.open="0";Mn.close="1";Mn.ping="2";Mn.pong="3";Mn.message="4";Mn.upgrade="5";Mn.noop="6";const Sa=Object.create(null);Object.keys(Mn).forEach(e=>{Sa[Mn[e]]=e});const rd={type:"error",data:"parser error"},av=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",lv=typeof ArrayBuffer=="function",cv=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,gh=({type:e,data:t},n,i)=>av&&t instanceof Blob?n?i(t):Xm(t,i):lv&&(t instanceof ArrayBuffer||cv(t))?n?i(t):Xm(new Blob([t]),i):i(Mn[e]+(t||"")),Xm=(e,t)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];t("b"+(i||""))},n.readAsDataURL(e)};function ep(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Jc;function _4(e,t){if(av&&e.data instanceof Blob)return e.data.arrayBuffer().then(ep).then(t);if(lv&&(e.data instanceof ArrayBuffer||cv(e.data)))return t(ep(e.data));gh(e,!1,n=>{Jc||(Jc=new TextEncoder),t(Jc.encode(n))})}const tp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Os=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<tp.length;e++)Os[tp.charCodeAt(e)]=e;const w4=e=>{let t=e.length*.75,n=e.length,i,o=0,l,u,d,f;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const m=new ArrayBuffer(t),x=new Uint8Array(m);for(i=0;i<n;i+=4)l=Os[e.charCodeAt(i)],u=Os[e.charCodeAt(i+1)],d=Os[e.charCodeAt(i+2)],f=Os[e.charCodeAt(i+3)],x[o++]=l<<2|u>>4,x[o++]=(u&15)<<4|d>>2,x[o++]=(d&3)<<6|f&63;return m},b4=typeof ArrayBuffer=="function",vh=(e,t)=>{if(typeof e!="string")return{type:"message",data:uv(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:j4(e.substring(1),t)}:Sa[n]?e.length>1?{type:Sa[n],data:e.substring(1)}:{type:Sa[n]}:rd},j4=(e,t)=>{if(b4){const n=w4(e);return uv(n,t)}else return{base64:!0,data:e}},uv=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},dv="",N4=(e,t)=>{const n=e.length,i=new Array(n);let o=0;e.forEach((l,u)=>{gh(l,!1,d=>{i[u]=d,++o===n&&t(i.join(dv))})})},S4=(e,t)=>{const n=e.split(dv),i=[];for(let o=0;o<n.length;o++){const l=vh(n[o],t);if(i.push(l),l.type==="error")break}return i};function k4(){return new TransformStream({transform(e,t){_4(e,n=>{const i=n.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,i)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let Gc;function aa(e){return e.reduce((t,n)=>t+n.length,0)}function la(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let o=0;o<t;o++)n[o]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function C4(e,t){Gc||(Gc=new TextDecoder);const n=[];let i=0,o=-1,l=!1;return new TransformStream({transform(u,d){for(n.push(u);;){if(i===0){if(aa(n)<1)break;const f=la(n,1);l=(f[0]&128)===128,o=f[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(aa(n)<2)break;const f=la(n,2);o=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),i=3}else if(i===2){if(aa(n)<8)break;const f=la(n,8),m=new DataView(f.buffer,f.byteOffset,f.length),x=m.getUint32(0);if(x>Math.pow(2,21)-1){d.enqueue(rd);break}o=x*Math.pow(2,32)+m.getUint32(4),i=3}else{if(aa(n)<o)break;const f=la(n,o);d.enqueue(vh(l?f:Gc.decode(f),t)),i=0}if(o===0||o>e){d.enqueue(rd);break}}}})}const hv=4;function nt(e){if(e)return P4(e)}function P4(e){for(var t in nt.prototype)e[t]=nt.prototype[t];return e}nt.prototype.on=nt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};nt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};nt.prototype.off=nt.prototype.removeListener=nt.prototype.removeAllListeners=nt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===t||i.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};nt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,o=n.length;i<o;++i)n[i].apply(this,t)}return this};nt.prototype.emitReserved=nt.prototype.emit;nt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};nt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const zl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),nn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),E4="arraybuffer";function fv(e,...t){return t.reduce((n,i)=>(e.hasOwnProperty(i)&&(n[i]=e[i]),n),{})}const L4=nn.setTimeout,T4=nn.clearTimeout;function Bl(e,t){t.useNativeTimers?(e.setTimeoutFn=L4.bind(nn),e.clearTimeoutFn=T4.bind(nn)):(e.setTimeoutFn=nn.setTimeout.bind(nn),e.clearTimeoutFn=nn.clearTimeout.bind(nn))}const R4=1.33;function I4(e){return typeof e=="string"?M4(e):Math.ceil((e.byteLength||e.size)*R4)}function M4(e){let t=0,n=0;for(let i=0,o=e.length;i<o;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}function mv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function O4(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function A4(e){let t={},n=e.split("&");for(let i=0,o=n.length;i<o;i++){let l=n[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class z4 extends Error{constructor(t,n,i){super(t),this.description=n,this.context=i,this.type="TransportError"}}class xh extends nt{constructor(t){super(),this.writable=!1,Bl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,i){return super.emitReserved("error",new z4(t,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=vh(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=O4(t);return n.length?"?"+n:""}}class B4 extends xh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};S4(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,N4(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=mv()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let pv=!1;try{pv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const D4=pv;function F4(){}class U4 extends B4{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,n){const i=this.request({method:"POST",data:t});i.on("success",n),i.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=t}}let Di=class ka extends nt{constructor(t,n,i){super(),this.createRequest=t,Bl(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;const n=fv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=ka.requestsCount++,ka.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=F4,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ka.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Di.requestsCount=0;Di.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",np);else if(typeof addEventListener=="function"){const e="onpagehide"in nn?"pagehide":"unload";addEventListener(e,np,!1)}}function np(){for(let e in Di.requests)Di.requests.hasOwnProperty(e)&&Di.requests[e].abort()}const $4=function(){const e=gv({xdomain:!1});return e&&e.responseType!==null}();class H4 extends U4{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=$4&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Di(gv,this.uri(),t)}}function gv(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||D4))return new XMLHttpRequest}catch{}if(!t)try{return new nn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const vv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class W4 extends xh{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,i=vv?{}:fv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],o=n===t.length-1;gh(i,this.supportsBinary,l=>{try{this.doWrite(i,l)}catch{}o&&zl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=mv()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Yc=nn.WebSocket||nn.MozWebSocket;class Z4 extends W4{createSocket(t,n,i){return vv?new Yc(t,n,i):n?new Yc(t,n):new Yc(t)}doWrite(t,n){this.ws.send(n)}}class V4 extends xh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=C4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(n).getReader(),o=k4();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const l=()=>{i.read().then(({done:d,value:f})=>{d||(this.onPacket(f),l())}).catch(d=>{})};l();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],o=n===t.length-1;this._writer.write(i).then(()=>{o&&zl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const q4={websocket:Z4,webtransport:V4,polling:H4},K4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,J4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function id(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let o=K4.exec(e||""),l={},u=14;for(;u--;)l[J4[u]]=o[u]||"";return n!=-1&&i!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=G4(l,l.path),l.queryKey=Y4(l,l.query),l}function G4(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function Y4(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,l){o&&(n[o]=l)}),n}const sd=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ca=[];sd&&addEventListener("offline",()=>{Ca.forEach(e=>e())},!1);class Cr extends nt{constructor(t,n){if(super(),this.binaryType=E4,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const i=id(t);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=id(n.host).host);Bl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=A4(this.opts.query)),sd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ca.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=hv,n.transport=t,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Cr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Cr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(n+=I4(o)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,zl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,i){return this._sendPacket("message",t,n,i),this}send(t,n,i){return this._sendPacket("message",t,n,i),this}_sendPacket(t,n,i,o){if(typeof n=="function"&&(o=n,n=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const l={type:t,data:n,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(Cr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),sd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Ca.indexOf(this._offlineEventListener);i!==-1&&Ca.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Cr.protocol=hv;class Q4 extends Cr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),i=!1;Cr.priorWebsocketSuccess=!1;const o=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!i)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Cr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(x(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function l(){i||(i=!0,x(),n.close(),n=null)}const u=g=>{const b=new Error("probe error: "+g);b.transport=n.name,l(),this.emitReserved("upgradeError",b)};function d(){u("transport closed")}function f(){u("socket closed")}function m(g){n&&g.name!==n.name&&l()}const x=()=>{n.removeListener("open",o),n.removeListener("error",u),n.removeListener("close",d),this.off("close",f),this.off("upgrading",m)};n.once("open",o),n.once("error",u),n.once("close",d),this.once("close",f),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&n.push(t[i]);return n}}let X4=class extends Q4{constructor(t,n={}){const i=typeof t=="object"?t:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>q4[o]).filter(o=>!!o)),super(t,i)}};function ej(e,t="",n){let i=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),i=id(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const l=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+l+":"+i.port+t,i.href=i.protocol+"://"+l+(n&&n.port===i.port?"":":"+i.port),i}const tj=typeof ArrayBuffer=="function",nj=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,xv=Object.prototype.toString,rj=typeof Blob=="function"||typeof Blob<"u"&&xv.call(Blob)==="[object BlobConstructor]",ij=typeof File=="function"||typeof File<"u"&&xv.call(File)==="[object FileConstructor]";function yh(e){return tj&&(e instanceof ArrayBuffer||nj(e))||rj&&e instanceof Blob||ij&&e instanceof File}function Pa(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,i=e.length;n<i;n++)if(Pa(e[n]))return!0;return!1}if(yh(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Pa(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Pa(e[n]))return!0;return!1}function sj(e){const t=[],n=e.data,i=e;return i.data=od(n,t),i.attachments=t.length,{packet:i,buffers:t}}function od(e,t){if(!e)return e;if(yh(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=od(e[i],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=od(e[i],t));return n}return e}function oj(e,t){return e.data=ad(e.data,t),delete e.attachments,e}function ad(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ad(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ad(e[n],t));return e}const aj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lj=5;var Ce;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ce||(Ce={}));class cj{constructor(t){this.replacer=t}encode(t){return(t.type===Ce.EVENT||t.type===Ce.ACK)&&Pa(t)?this.encodeAsBinary({type:t.type===Ce.EVENT?Ce.BINARY_EVENT:Ce.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ce.BINARY_EVENT||t.type===Ce.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=sj(t),i=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(i),o}}function rp(e){return Object.prototype.toString.call(e)==="[object Object]"}class _h extends nt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const i=n.type===Ce.BINARY_EVENT;i||n.type===Ce.BINARY_ACK?(n.type=i?Ce.EVENT:Ce.ACK,this.reconstructor=new uj(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(yh(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const i={type:Number(t.charAt(0))};if(Ce[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Ce.BINARY_EVENT||i.type===Ce.BINARY_ACK){const l=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const u=t.substring(l,n);if(u!=Number(u)||t.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(t.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););i.nsp=t.substring(l,n)}else i.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const l=n+1;for(;++n;){const u=t.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===t.length)break}i.id=Number(t.substring(l,n+1))}if(t.charAt(++n)){const l=this.tryParse(t.substr(n));if(_h.isPayloadValid(i.type,l))i.data=l;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ce.CONNECT:return rp(n);case Ce.DISCONNECT:return n===void 0;case Ce.CONNECT_ERROR:return typeof n=="string"||rp(n);case Ce.EVENT:case Ce.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&aj.indexOf(n[0])===-1);case Ce.ACK:case Ce.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class uj{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=oj(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const dj=Object.freeze(Object.defineProperty({__proto__:null,Decoder:_h,Encoder:cj,get PacketType(){return Ce},protocol:lj},Symbol.toStringTag,{value:"Module"}));function mn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const hj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yv extends nt{constructor(t,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[mn(t,"open",this.onopen.bind(this)),mn(t,"packet",this.onpacket.bind(this)),mn(t,"error",this.onerror.bind(this)),mn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var i,o,l;if(hj.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const u={type:Ce.EVENT,data:n};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const x=this.ids++,g=n.pop();this._registerAckCallback(x,g),u.id=x}const d=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,f=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!d||(f?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(t,n){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===t&&this.sendBuffer.splice(d,1);n.call(this,new Error("operation has timed out"))},o),u=(...d)=>{this.io.clearTimeoutFn(l),n.apply(this,d)};u.withError=!0,this.acks[t]=u}emitWithAck(t,...n){return new Promise((i,o)=>{const l=(u,d)=>u?o(u):i(d);l.withError=!0,n.push(l),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...l)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...l)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ce.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ce.EVENT:case Ce.BINARY_EVENT:this.onevent(t);break;case Ce.ACK:case Ce.BINARY_ACK:this.onack(t);break;case Ce.DISCONNECT:this.ondisconnect();break;case Ce.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let i=!1;return function(...o){i||(i=!0,n.packet({type:Ce.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,t.data)}}}function rs(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}rs.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};rs.prototype.reset=function(){this.attempts=0};rs.prototype.setMin=function(e){this.ms=e};rs.prototype.setMax=function(e){this.max=e};rs.prototype.setJitter=function(e){this.jitter=e};class ld extends nt{constructor(t,n){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Bl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new rs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||dj;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new X4(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=mn(n,"open",function(){i.onopen(),t&&t()}),l=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),t?t(d):this.maybeReconnectOnOpen()},u=mn(n,"error",l);if(this._timeout!==!1){const d=this._timeout,f=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),n.close()},d);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(o),this.subs.push(u),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(mn(t,"ping",this.onping.bind(this)),mn(t,"data",this.ondata.bind(this)),mn(t,"error",this.onerror.bind(this)),mn(t,"close",this.onclose.bind(this)),mn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){zl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new yv(this,t,n),this.nsps[t]=i),i}_destroy(t){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let i=0;i<n.length;i++)this.engine.write(n[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ps={};function Ea(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=ej(e,t.path||"/socket.io"),i=n.source,o=n.id,l=n.path,u=Ps[o]&&l in Ps[o].nsps,d=t.forceNew||t["force new connection"]||t.multiplex===!1||u;let f;return d?f=new ld(i,t):(Ps[o]||(Ps[o]=new ld(i,t)),f=Ps[o]),n.query&&!t.query&&(t.query=n.queryKey),f.socket(n.path,t)}Object.assign(Ea,{Manager:ld,Socket:yv,io:Ea,connect:Ea});function _v(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=_v(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Yr(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=_v(e))&&(i&&(i+=" "),i+=t);return i}function fj(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}fj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var jo=e=>typeof e=="number"&&!isNaN(e),oi=e=>typeof e=="string",tr=e=>typeof e=="function",mj=e=>oi(e)||jo(e),cd=e=>oi(e)||tr(e)?e:null,pj=(e,t)=>e===!1||jo(e)&&e>0?e:t,ud=e=>v.isValidElement(e)||oi(e)||tr(e)||jo(e);function gj(e,t,n=300){let{scrollHeight:i,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function vj({enter:e,exit:t,appendPosition:n=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:l,position:u,preventExitTransition:d,done:f,nodeRef:m,isIn:x,playToast:g}){let b=n?`${e}--${u}`:e,k=n?`${t}--${u}`:t,N=v.useRef(0);return v.useLayoutEffect(()=>{let C=m.current,P=b.split(" "),_=w=>{w.target===m.current&&(g(),C.removeEventListener("animationend",_),C.removeEventListener("animationcancel",_),N.current===0&&w.type!=="animationcancel"&&C.classList.remove(...P))};C.classList.add(...P),C.addEventListener("animationend",_),C.addEventListener("animationcancel",_)},[]),v.useEffect(()=>{let C=m.current,P=()=>{C.removeEventListener("animationend",P),i?gj(C,f,o):f()};x||(d?P():(N.current=1,C.className+=` ${k}`,C.addEventListener("animationend",P)))},[x]),Ne.createElement(Ne.Fragment,null,l)}}function ip(e,t){return{content:wv(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function wv(e,t,n=!1){return v.isValidElement(e)&&!oi(e.type)?v.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):tr(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function xj({closeToast:e,theme:t,ariaLabel:n="close"}){return Ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),e(!0)},"aria-label":n},Ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function yj({delay:e,isRunning:t,closeToast:n,type:i="default",hide:o,className:l,controlledProgress:u,progress:d,rtl:f,isIn:m,theme:x}){let g=o||u&&d===0,b={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};u&&(b.transform=`scaleX(${d})`);let k=Yr("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),N=tr(l)?l({rtl:f,type:i,defaultClassName:k}):Yr(k,l),C={[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{m&&n()}};return Ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},Ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${i}`}),Ne.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:N,style:b,...C}))}var _j=1,bv=()=>`${_j++}`;function wj(e,t,n){let i=1,o=0,l=[],u=[],d=t,f=new Map,m=new Set,x=w=>(m.add(w),()=>m.delete(w)),g=()=>{u=Array.from(f.values()),m.forEach(w=>w())},b=({containerId:w,toastId:j,updateId:S})=>{let O=w?w!==e:e!==1,$=f.has(j)&&S==null;return O||$},k=(w,j)=>{f.forEach(S=>{var O;(j==null||j===S.props.toastId)&&((O=S.toggle)==null||O.call(S,w))})},N=w=>{var j,S;(S=(j=w.props)==null?void 0:j.onClose)==null||S.call(j,w.removalReason),w.isActive=!1},C=w=>{if(w==null)f.forEach(N);else{let j=f.get(w);j&&N(j)}g()},P=()=>{o-=l.length,l=[]},_=w=>{var j,S;let{toastId:O,updateId:$}=w.props,M=$==null;w.staleId&&f.delete(w.staleId),w.isActive=!0,f.set(O,w),g(),n(ip(w,M?"added":"updated")),M&&((S=(j=w.props).onOpen)==null||S.call(j))};return{id:e,props:d,observe:x,toggle:k,removeToast:C,toasts:f,clearQueue:P,buildToast:(w,j)=>{if(b(j))return;let{toastId:S,updateId:O,data:$,staleId:M,delay:T}=j,q=O==null;q&&o++;let F={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(j).filter(([J,fe])=>fe!=null)),toastId:S,updateId:O,data:$,isIn:!1,className:cd(j.className||d.toastClassName),progressClassName:cd(j.progressClassName||d.progressClassName),autoClose:j.isLoading?!1:pj(j.autoClose,d.autoClose),closeToast(J){f.get(S).removalReason=J,C(S)},deleteToast(){let J=f.get(S);if(J!=null){if(n(ip(J,"removed")),f.delete(S),o--,o<0&&(o=0),l.length>0){_(l.shift());return}g()}}};F.closeButton=d.closeButton,j.closeButton===!1||ud(j.closeButton)?F.closeButton=j.closeButton:j.closeButton===!0&&(F.closeButton=ud(d.closeButton)?d.closeButton:!0);let K={content:w,props:F,staleId:M};d.limit&&d.limit>0&&o>d.limit&&q?l.push(K):jo(T)?setTimeout(()=>{_(K)},T):_(K)},setProps(w){d=w},setToggle:(w,j)=>{let S=f.get(w);S&&(S.toggle=j)},isToastActive:w=>{var j;return(j=f.get(w))==null?void 0:j.isActive},getSnapshot:()=>u}}var Nt=new Map,fo=[],dd=new Set,bj=e=>dd.forEach(t=>t(e)),jv=()=>Nt.size>0;function jj(){fo.forEach(e=>Sv(e.content,e.options)),fo=[]}var Nj=(e,{containerId:t})=>{var n;return(n=Nt.get(t||1))==null?void 0:n.toasts.get(e)};function Nv(e,t){var n;if(t)return!!((n=Nt.get(t))!=null&&n.isToastActive(e));let i=!1;return Nt.forEach(o=>{o.isToastActive(e)&&(i=!0)}),i}function Sj(e){if(!jv()){fo=fo.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||mj(e))Nt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Nt.get(e.containerId);t?t.removeToast(e.id):Nt.forEach(n=>{n.removeToast(e.id)})}}var kj=(e={})=>{Nt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Sv(e,t){ud(e)&&(jv()||fo.push({content:e,options:t}),Nt.forEach(n=>{n.buildToast(e,t)}))}function Cj(e){var t;(t=Nt.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function kv(e,t){Nt.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function Pj(e){let t=e.containerId||1;return{subscribe(n){let i=wj(t,e,bj);Nt.set(t,i);let o=i.observe(n);return jj(),()=>{o(),Nt.delete(t)}},setProps(n){var i;(i=Nt.get(t))==null||i.setProps(n)},getSnapshot(){var n;return(n=Nt.get(t))==null?void 0:n.getSnapshot()}}}function Ej(e){return dd.add(e),()=>{dd.delete(e)}}function Lj(e){return e&&(oi(e.toastId)||jo(e.toastId))?e.toastId:bv()}function No(e,t){return Sv(e,t),t.toastId}function Dl(e,t){return{...t,type:t&&t.type||e,toastId:Lj(t)}}function Fl(e){return(t,n)=>No(t,Dl(e,n))}function Q(e,t){return No(e,Dl("default",t))}Q.loading=(e,t)=>No(e,Dl("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Tj(e,{pending:t,error:n,success:i},o){let l;t&&(l=oi(t)?Q.loading(t,o):Q.loading(t.render,{...o,...t}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,x,g)=>{if(x==null){Q.dismiss(l);return}let b={type:m,...u,...o,data:g},k=oi(x)?{render:x}:x;return l?Q.update(l,{...b,...k}):Q(k.render,{...b,...k}),g},f=tr(e)?e():e;return f.then(m=>d("success",i,m)).catch(m=>d("error",n,m)),f}Q.promise=Tj;Q.success=Fl("success");Q.info=Fl("info");Q.error=Fl("error");Q.warning=Fl("warning");Q.warn=Q.warning;Q.dark=(e,t)=>No(e,Dl("default",{theme:"dark",...t}));function Rj(e){Sj(e)}Q.dismiss=Rj;Q.clearWaitingQueue=kj;Q.isActive=Nv;Q.update=(e,t={})=>{let n=Nj(e,t);if(n){let{props:i,content:o}=n,l={delay:100,...i,...t,toastId:t.toastId||e,updateId:bv()};l.toastId!==e&&(l.staleId=e);let u=l.render||o;delete l.render,No(u,l)}};Q.done=e=>{Q.update(e,{progress:1})};Q.onChange=Ej;Q.play=e=>kv(!0,e);Q.pause=e=>kv(!1,e);function Ij(e){var t;let{subscribe:n,getSnapshot:i,setProps:o}=v.useRef(Pj(e)).current;o(e);let l=(t=v.useSyncExternalStore(n,i,i))==null?void 0:t.slice();function u(d){if(!l)return[];let f=new Map;return e.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:x}=m.props;f.has(x)||f.set(x,[]),f.get(x).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:u,isToastActive:Nv,count:l==null?void 0:l.length}}function Mj(e){let[t,n]=v.useState(!1),[i,o]=v.useState(!1),l=v.useRef(null),u=v.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:x,closeOnClick:g}=e;Cj({id:e.toastId,containerId:e.containerId,fn:n}),v.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{k()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||_(),window.addEventListener("focus",P),window.addEventListener("blur",_)}function k(){window.removeEventListener("focus",P),window.removeEventListener("blur",_)}function N(M){if(e.draggable===!0||e.draggable===M.pointerType){w();let T=l.current;u.canCloseOnClick=!0,u.canDrag=!0,T.style.transition="none",e.draggableDirection==="x"?(u.start=M.clientX,u.removalDistance=T.offsetWidth*(e.draggablePercent/100)):(u.start=M.clientY,u.removalDistance=T.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function C(M){let{top:T,bottom:q,left:F,right:K}=l.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&e.pauseOnHover&&M.clientX>=F&&M.clientX<=K&&M.clientY>=T&&M.clientY<=q?_():P()}function P(){n(!0)}function _(){n(!1)}function w(){u.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",O)}function j(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",O)}function S(M){let T=l.current;if(u.canDrag&&T){u.didMove=!0,t&&_(),e.draggableDirection==="x"?u.delta=M.clientX-u.start:u.delta=M.clientY-u.start,u.start!==M.clientX&&(u.canCloseOnClick=!1);let q=e.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;T.style.transform=`translate3d(${q},0)`,T.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function O(){j();let M=l.current;if(u.canDrag&&u.didMove&&M){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),e.closeToast(!0),e.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let $={onPointerDown:N,onPointerUp:C};return d&&f&&($.onMouseEnter=_,e.stacked||($.onMouseLeave=P)),g&&($.onClick=M=>{x&&x(M),u.canCloseOnClick&&m(!0)}),{playToast:P,pauseToast:_,isRunning:t,preventExitTransition:i,toastRef:l,eventHandlers:$}}var Oj=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ul=({theme:e,type:t,isLoading:n,...i})=>Ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function Aj(e){return Ne.createElement(Ul,{...e},Ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function zj(e){return Ne.createElement(Ul,{...e},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Bj(e){return Ne.createElement(Ul,{...e},Ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Dj(e){return Ne.createElement(Ul,{...e},Ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Fj(){return Ne.createElement("div",{className:"Toastify__spinner"})}var hd={info:zj,warning:Aj,success:Bj,error:Dj,spinner:Fj},Uj=e=>e in hd;function $j({theme:e,type:t,isLoading:n,icon:i}){let o=null,l={theme:e,type:t};return i===!1||(tr(i)?o=i({...l,isLoading:n}):v.isValidElement(i)?o=v.cloneElement(i,l):n?o=hd.spinner():Uj(t)&&(o=hd[t](l))),o}var Hj=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:o,playToast:l}=Mj(e),{closeButton:u,children:d,autoClose:f,onClick:m,type:x,hideProgressBar:g,closeToast:b,transition:k,position:N,className:C,style:P,progressClassName:_,updateId:w,role:j,progress:S,rtl:O,toastId:$,deleteToast:M,isIn:T,isLoading:q,closeOnClick:F,theme:K,ariaLabel:J}=e,fe=Yr("Toastify__toast",`Toastify__toast-theme--${K}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":F}),Re=tr(C)?C({rtl:O,position:N,type:x,defaultClassName:fe}):Yr(fe,C),pe=$j(e),ae=!!S||!f,H={closeToast:b,type:x,theme:K},A=null;return u===!1||(tr(u)?A=u(H):v.isValidElement(u)?A=v.cloneElement(u,H):A=xj(H)),Ne.createElement(k,{isIn:T,done:M,position:N,preventExitTransition:n,nodeRef:i,playToast:l},Ne.createElement("div",{id:$,tabIndex:0,onClick:m,"data-in":T,className:Re,...o,style:P,ref:i,...T&&{role:j,"aria-label":J}},pe!=null&&Ne.createElement("div",{className:Yr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!q})},pe),wv(d,e,!t),A,!e.customProgressBar&&Ne.createElement(yj,{...w&&!ae?{key:`p-${w}`}:{},rtl:O,theme:K,delay:f,isRunning:t,isIn:T,closeToast:b,hide:g,type:x,className:_,controlledProgress:ae,progress:S||0})))},Wj=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Zj=vj(Wj("bounce",!0)),Vj={position:"top-right",transition:Zj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function qj(e){let t={...Vj,...e},n=e.stacked,[i,o]=v.useState(!0),l=v.useRef(null),{getToastToRender:u,isToastActive:d,count:f}=Ij(t),{className:m,style:x,rtl:g,containerId:b,hotKeys:k}=t;function N(P){let _=Yr("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":g});return tr(m)?m({position:P,rtl:g,defaultClassName:_}):Yr(_,cd(m))}function C(){n&&(o(!0),Q.play())}return Oj(()=>{var P;if(n){let _=l.current.querySelectorAll('[data-in="true"]'),w=12,j=(P=t.position)==null?void 0:P.includes("top"),S=0,O=0;Array.from(_).reverse().forEach(($,M)=>{let T=$;T.classList.add("Toastify__toast--stacked"),M>0&&(T.dataset.collapsed=`${i}`),T.dataset.pos||(T.dataset.pos=j?"top":"bot");let q=S*(i?.2:1)+(i?0:w*M);T.style.setProperty("--y",`${j?q:q*-1}px`),T.style.setProperty("--g",`${w}`),T.style.setProperty("--s",`${1-(i?O:0)}`),S+=T.offsetHeight,O+=.025})}},[i,f,n]),v.useEffect(()=>{function P(_){var w;let j=l.current;k(_)&&((w=j.querySelector('[tabIndex="0"]'))==null||w.focus(),o(!1),Q.pause()),_.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(o(!0),Q.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[k]),Ne.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{n&&(o(!1),Q.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},u((P,_)=>{let w=_.length?{...x}:{...x,pointerEvents:"none"};return Ne.createElement("div",{tabIndex:-1,className:N(P),"data-stacked":n,style:w,key:`c-${P}`},_.map(({content:j,props:S})=>Ne.createElement(Hj,{...S,stacked:n,collapseAll:C,isIn:d(S.toastId,S.containerId),key:`t-${S.key}`},j)))}))}var Cv={exports:{}},Kj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jj=Kj,Gj=Jj;function Pv(){}function Ev(){}Ev.resetWarningCache=Pv;var Yj=function(){function e(i,o,l,u,d,f){if(f!==Gj){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ev,resetWarningCache:Pv};return n.PropTypes=n,n};Cv.exports=Yj();var Qj=Cv.exports;const De=pd(Qj),is=v.createContext(null),Lv=({children:e})=>{const[t,n]=v.useState(null),{user:i}=Pt(),[o,l]=v.useState(!1);return v.useEffect(()=>{if(i&&i._id){const u=Ea("http://localhost:8000");return u.on("connect",()=>{console.log("Socket connected:",u.id),l(!0),u.emit("register",{userId:i._id,role:i.role})}),u.on("disconnect",()=>{console.log("Socket disconnected"),l(!1)}),u.on("connect_error",d=>{console.error("Socket connection error:",d),Q.error("Connection error. Trying to reconnect...",{toastId:"socket-error",autoClose:3e3})}),u.on("newMessage",d=>{console.log("New message received:",d)}),u.on("messageUpdated",d=>{console.log("Message updated:",d)}),u.on("messageDeleted",d=>{console.log("Message deleted:",d)}),u.on("messagesRead",d=>{console.log("Messages read in conversation:",d)}),u.on("allMessagesRead",d=>{console.log("All messages read by user:",d)}),n(u),()=>{u&&(u.disconnect(),n(null))}}},[i]),s.jsx(is.Provider,{value:{socket:t,connected:o},children:e})};Lv.propTypes={children:De.node.isRequired};const Tv=()=>{const{socket:e}=v.useContext(is);return e};function Xj({toggleSidebar:e}){const{user:t,logout:n}=Pt(),i=Je(),o=Tv(),[l,u]=v.useState(!1),[d,f]=v.useState(!1),[m,x]=v.useState(!1),[g,b]=v.useState(!0),[k,N]=v.useState(null),[C,P]=v.useState([]),[_,w]=v.useState(0),j=v.useRef(null),S=v.useRef(null);v.useEffect(()=>{const J=fe=>{j.current&&!j.current.contains(fe.target)&&u(!1),S.current&&!S.current.contains(fe.target)&&f(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]),v.useEffect(()=>{if(!o||!t)return;const J=async H=>{var A,G;if(H.sender!==t._id){let U="";if(console.log("Processing message from sender:",H.sender,"type:",H.senderType),H.senderName)console.log("Using provided sender name:",H.senderName),U=H.senderName;else try{if(H.senderType==="admin")U="Admin";else if(H.senderType==="user"){console.log("Fetching user data for:",H.sender);const ee=await oe.get(`http://localhost:8000/api/users/gharUsers/${H.sender}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("User API response:",ee.data),U=((A=ee.data.user)==null?void 0:A.name)||"User"}else{console.log("Fetching service provider data for:",H.sender);const ee=await oe.get(`http://localhost:8000/api/users/serviceProvider/${H.sender}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Service provider API response:",ee.data),U=((G=ee.data.provider)==null?void 0:G.name)||"Service Provider"}console.log("Resolved sender name:",U)}catch(ee){console.error("Error fetching sender name:",ee),U=H.senderType==="admin"?"Admin":H.senderType==="user"?"User":"Service Provider"}P(ee=>[{id:H._id||Date.now(),type:"message",content:`${U}: ${H.content.substring(0,30)}${H.content.length>30?"...":""}`,time:new Date,read:!1,conversationId:H.conversation},...ee.slice(0,9)]),w(ee=>ee+1),console.log("New message notification added",{sender:U,unreadCount:_+1}),Ae.success(`New message from ${U}`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,icon:""})}},fe=H=>{P(A=>A.map(G=>{if(G.type==="message"&&G.id===H.messageId){const ee=G.content.split(":")[0];return{...G,content:`${ee}: ${H.newContent.substring(0,30)}${H.newContent.length>30?"...":""} (edited)`,time:new Date}}return G}))},Re=H=>{P(G=>G.filter(U=>!(U.type==="message"&&U.id===H.messageId))),C.some(G=>G.type==="message"&&G.id===H.messageId&&!G.read)&&w(G=>Math.max(0,G-1))},pe=()=>{w(0),P(H=>H.map(A=>({...A,read:!0})))};return o.on("newMessage",J),o.on("messageUpdated",fe),o.on("messageDeleted",Re),o.on("allMessagesRead",pe),(async()=>{try{const H=await oe.get("http://localhost:8000/api/chat/unread-count",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});H.data.success&&(w(H.data.count),console.log("Initial unread count:",H.data.count))}catch(H){console.error("Error fetching unread count:",H)}})(),()=>{o.off("newMessage",J),o.off("messageUpdated",fe),o.off("messageDeleted",Re),o.off("allMessagesRead",pe)}},[o,t]),v.useEffect(()=>{(async()=>{if(t!=null&&t._id)try{const fe=await oe.get("http://localhost:8000/api/users/currentUser",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});fe.data.success&&(N(fe.data.user),x(!1),b(!0))}catch(fe){console.error("Error fetching user data:",fe),x(!0)}})()},[t==null?void 0:t._id]);const O=()=>{if(t){const J=t.role;J==="admin"?Ae.success("Admin logged out successfully",{icon:"",duration:3e3}):J==="serviceProvider"?Ae.success("Service provider logged out successfully",{icon:"",duration:3e3}):Ae.success("Logged out successfully",{icon:"",duration:3e3})}n(),i("/")},$=J=>J?J.split(" ").map(fe=>fe[0]).join("").toUpperCase():"",M=()=>{i("/dashboard/contact/chat")},T=()=>{if(f(!d),!d&&_>0){w(0),P(J=>J.map(fe=>({...fe,read:!0})));try{oe.post("http://localhost:8000/api/chat/mark-all-read",{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),console.log("Marked all notifications as read")}catch(J){console.error("Error marking notifications as read:",J)}o&&o.connected&&t&&o.emit("markAllAsRead",{userId:t._id})}},q=J=>{J.type==="message"&&J.conversationId&&(i("/dashboard/contact/chat",{state:{conversationId:J.conversationId}}),f(!1))},F=J=>{const Re=Math.floor((new Date-new Date(J))/1e3);return Re<60?"Just now":Re<3600?`${Math.floor(Re/60)}m ago`:Re<86400?`${Math.floor(Re/3600)}h ago`:`${Math.floor(Re/86400)}d ago`},K=()=>{const J=k==null?void 0:k.profileImage;return!J||m?s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:$((k==null?void 0:k.name)||(t==null?void 0:t.name))})}):s.jsxs(s.Fragment,{children:[s.jsx("img",{src:`http://localhost:8000/public/registerImage/${J}`,alt:(k==null?void 0:k.name)||"Profile",className:`w-8 h-8 rounded-full object-cover ${g?"hidden":""}`,onError:()=>{x(!0),b(!1)},onLoad:()=>b(!1)}),g&&s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"})]})};return s.jsx("header",{className:"bg-white border-b border-gray-300 shadow-xl",children:s.jsxs("nav",{className:"mx-auto flex max-w-[2000px] items-center justify-between py-2 px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center text-[#E0E0E0] items-center flex gap-5",children:[s.jsx("button",{onClick:e,className:"text-[#333333] text-[24px] lg:hidden focus:outline-none",children:s.jsx(H2,{})}),s.jsxs("div",{className:"max-lg:hidden",children:[s.jsx("h1",{className:"font-semibold text-lg max-sm:text-base max-sm:font-bold text-left text-[#333333]",children:(k==null?void 0:k.name)||(t==null?void 0:t.name)||"Welcome"}),s.jsx("p",{className:"text-sm max-sm:text-sm font-light text-[#333333]",children:"Where your service needs meet expert hands."})]})]}),s.jsxs("div",{className:"flex items-center lg:justify-end gap-10 max-sm:gap-4",children:[s.jsxs("div",{className:"flex flex-row gap-5",children:[s.jsx("span",{onClick:M,className:"cursor-pointer relative",children:s.jsx(W2,{className:"text-[#333333] text-[24px] transition ease-in-out duration-500 max-sm:text-[18px] hover:text-blue-500"})}),s.jsxs("span",{className:"relative",ref:S,children:[s.jsxs("div",{onClick:T,className:"cursor-pointer relative",children:[s.jsx(U2,{className:"text-[#333333] text-[24px] transition ease-in-out duration-500 max-sm:text-[18px] hover:text-blue-500"}),_>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:_>9?"9+":_})]}),d&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white shadow-lg rounded-md py-1 z-50",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 flex justify-between items-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Notifications"}),C.length>0&&s.jsx("button",{className:"text-xs text-blue-500 hover:text-blue-700",children:"Mark all as read"})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:C.length===0?s.jsx("div",{className:"px-4 py-6 text-center text-gray-500 text-sm",children:"No notifications yet"}):C.map(J=>s.jsx("div",{onClick:()=>q(J),className:`px-4 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${J.read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("p",{className:"text-sm text-gray-800",children:J.content}),s.jsx("span",{className:"text-xs text-gray-500",children:F(J.time)})]})},J.id))}),s.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:s.jsx("button",{onClick:()=>i("/dashboard/contact/chat"),className:"text-sm text-blue-500 hover:text-blue-700",children:"View all messages"})})]})]})]}),s.jsxs("div",{className:"relative",ref:j,children:[s.jsx("button",{className:"flex items-center gap-2 text-[#333333]",onClick:()=>u(!l),children:s.jsx(K,{})}),l&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-md py-1 z-50",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:(k==null?void 0:k.name)||(t==null?void 0:t.name)}),s.jsx("p",{className:"text-xs text-gray-500",children:(k==null?void 0:k.email)||(t==null?void 0:t.email)})]}),s.jsx("button",{onClick:O,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]})]})]})]})})}function eN(e){return qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 13h1v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7h1a1 1 0 0 0 .707-1.707l-9-9a.999.999 0 0 0-1.414 0l-9 9A1 1 0 0 0 3 13zm7 7v-5h4v5h-4zm2-15.586 6 6V15l.001 5H16v-5c0-1.103-.897-2-2-2h-4c-1.103 0-2 .897-2 2v5H6v-9.586l6-6z"},child:[]}]})(e)}function tN(e){return qe({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(e)}function nN(e){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(e)}function rN(e){return qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.718 17.359l-.718 -.359l-6 3v-13l6 -3l6 3l6 -3v7.5"},child:[]},{tag:"path",attr:{d:"M9 4v13"},child:[]},{tag:"path",attr:{d:"M15 7v4"},child:[]},{tag:"path",attr:{d:"M17.8 20.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"},child:[]}]})(e)}function iN(e){return qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 0 0-2.54-3.8 199.81 199.81 0 0 1-33-110C47.64 139.09 140.72 48 255.82 48 356.2 48 440 117.54 459.57 209.85a199 199 0 0 1 4.43 41.64c0 112.41-89.49 204.93-204.59 204.93-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 0 0-11.13-2.07 30.7 30.7 0 0 0-12.08 2.43L81.5 462.78a15.92 15.92 0 0 1-4.66 1.22 9.61 9.61 0 0 1-9.58-9.74 15.85 15.85 0 0 1 .6-3.29z"},child:[]},{tag:"circle",attr:{cx:"160",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"32"},child:[]},{tag:"circle",attr:{cx:"352",cy:"256",r:"32"},child:[]}]})(e)}function sN(e){return qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(e)}function oN(e){return qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M463.1 112.37C373.68 96.33 336.71 84.45 256 48c-80.71 36.45-117.68 48.33-207.1 64.37C32.7 369.13 240.58 457.79 256 464c15.42-6.21 223.3-94.87 207.1-351.63z"},child:[]}]})(e)}function Rv(e){return qe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function aN(e){return qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Iv(e){return qe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function lN(e){return qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function cN(e){return qe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function uN(e){return qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function dN(e){return qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function hN(e){return qe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 341.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 368.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm224 32c1.9 0 3.7-.5 5.6-.6 8.3-21.7 20.5-42.1 36.3-59.2 7.4-8 17.9-12.6 28.9-12.6 6.9 0 13.7 1.8 19.6 5.3l7.9 4.6c.8-.5 1.6-.9 2.4-1.4 7-14.6 11.2-30.8 11.2-48 0-61.9-50.1-112-112-112S208 82.1 208 144c0 61.9 50.1 112 112 112zm105.2 194.5c-2.3-1.2-4.6-2.6-6.8-3.9-8.2 4.8-15.3 9.8-27.5 9.8-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-10.7-34.5 24.9-49.7 25.8-50.3-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-3.8-2.2-7-5-9.8-8.1-3.3.2-6.5.6-9.8.6-24.6 0-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h255.4c-3.7-6-6.2-12.8-6.2-20.3v-9.2zM173.1 274.6C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Mv(e){return qe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Ov(e){return qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function fN(e){return qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-1 6h2v2h-2V7zm0 4h2v6h-2v-6z"},child:[]}]})(e)}function mN(e){return qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m14.17 13.71 1.4-2.42c.09-.15.05-.34-.08-.45l-1.48-1.16c.03-.22.05-.45.05-.68s-.02-.46-.05-.69l1.48-1.16c.13-.11.17-.3.08-.45l-1.4-2.42c-.09-.15-.27-.21-.43-.15l-1.74.7c-.36-.28-.75-.51-1.18-.69l-.26-1.85a.364.364 0 0 0-.35-.29h-2.8c-.17 0-.32.13-.35.3L6.8 4.15c-.42.18-.82.41-1.18.69l-1.74-.7c-.16-.06-.34 0-.43.15l-1.4 2.42c-.09.15-.05.34.08.45l1.48 1.16c-.03.22-.05.45-.05.68s.02.46.05.69l-1.48 1.16c-.13.11-.17.3-.08.45l1.4 2.42c.09.15.27.21.43.15l1.74-.7c.36.28.75.51 1.18.69l.26 1.85c.03.16.18.29.35.29h2.8c.17 0 .32-.13.35-.3l.26-1.85c.42-.18.82-.41 1.18-.69l1.74.7c.16.06.34 0 .43-.15zM8.81 11c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM21.92 18.67l-.96-.74c.02-.14.04-.29.04-.44 0-.15-.01-.3-.04-.44l.95-.74c.08-.07.11-.19.05-.29l-.9-1.55c-.05-.1-.17-.13-.28-.1l-1.11.45c-.23-.18-.48-.33-.76-.44l-.17-1.18a.216.216 0 0 0-.21-.2h-1.79c-.11 0-.21.08-.22.19l-.17 1.18c-.27.12-.53.26-.76.44l-1.11-.45a.23.23 0 0 0-.28.1l-.9 1.55c-.05.1-.04.22.05.29l.95.74a3.145 3.145 0 0 0 0 .88l-.95.74c-.08.07-.11.19-.05.29l.9 1.55c.05.1.17.13.28.1l1.11-.45c.23.18.48.33.76.44l.17 1.18c.02.11.11.19.22.19h1.79c.11 0 .21-.08.22-.19l.17-1.18c.27-.12.53-.26.75-.44l1.12.45c.1.04.22 0 .28-.1l.9-1.55c.06-.09.03-.21-.05-.28zm-4.29.16a1.35 1.35 0 1 1 .001-2.701 1.35 1.35 0 0 1-.001 2.701z"},child:[]}]})(e)}const pN=[{label:"Menu",icon:null,children:[{to:"/dashboard/menu/maps",label:"Live Maps",icon:s.jsx(rN,{className:"text-xl"}),allowedRoles:["admin","user","serviceProvider"]},{to:"/dashboard/menu/services",label:"Services",icon:s.jsx($2,{className:"text-xl"}),allowedRoles:["admin","user","serviceProvider"]},{to:"/dashboard/menu/users",label:"User's",icon:s.jsx(Mv,{className:"text-xl"}),allowedRoles:["admin"]},{to:"/dashboard/menu/serviceProvider",label:"Service Provider",icon:s.jsx(dN,{className:"text-xl"}),allowedRoles:["admin"]}]},{label:"Account",icon:null,children:[{to:"/dashboard/account/settings",label:"Settings",icon:s.jsx(sN,{className:"text-xl"}),allowedRoles:["admin","user","serviceProvider"]},{to:"/dashboard/legal/security",label:"Security",icon:s.jsx(oN,{className:"text-xl"}),allowedRoles:["admin","user","serviceProvider"]}]},{label:"Support",icon:null,children:[{to:"/dashboard/legal/privacy",label:"Privacy Policy",icon:s.jsx(fN,{className:"text-xl"}),allowedRoles:["admin","user","serviceProvider"]},{to:"/dashboard/contact/chat",label:"Contact Us",icon:s.jsx(iN,{className:"text-xl"}),allowedRoles:["admin","user","serviceProvider"]}]}],gN=({isOpen:e,toggleSidebar:t})=>{const{user:n}=Pt(),i=Kt(),o=Je(),l=m=>{switch(m){case"serviceProvider":return"/dashboard/menu/maps";case"user":return"/dashboard/menu/services";case"admin":return"/dashboard";default:return"/dashboard"}};v.useEffect(()=>{if(i.pathname==="/dashboard"){const m=l(n==null?void 0:n.role);m!=="/dashboard"&&o(m)}},[n==null?void 0:n.role,i.pathname,o]),v.useEffect(()=>{e?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[e]);const u=m=>m.allowedRoles&&!m.allowedRoles.includes(n==null?void 0:n.role)?null:s.jsxs(ii,{to:m.to,className:({isActive:x})=>`flex items-center gap-3 text-[1.1rem] no-underline pl-5 py-2.5 pr-2 rounded-lg transition ease-in-out duration-300 w-full ${x?"bg-[#FAFAFA] text-[#2460B9]":"text-[#E0E0E0] hover:bg-[#FAFAFA] hover:text-[#2460B9]"}`,children:[s.jsx("span",{className:"w-6 flex justify-center",children:m.icon||s.jsx(nN,{className:"text-xl"})}),s.jsx("span",{className:"truncate",children:m.label})]},m.label),d=pN.map(m=>({...m,children:m.children.filter(x=>!x.allowedRoles||x.allowedRoles.includes(n==null?void 0:n.role))})).filter(m=>m.children.length>0),f=(n==null?void 0:n.role)==="admin";return s.jsxs("div",{className:`fixed lg:sticky top-0 left-0 h-full z-50 bg-gray-800 transition-all duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        w-[260px] flex flex-col overflow-hidden`,children:[s.jsx("div",{className:"flex justify-end p-4 lg:hidden",children:s.jsx("button",{onClick:t,className:"text-[#E0E0E0] text-3xl p-2 focus:outline-none","aria-label":"Close sidebar",children:s.jsx(tN,{})})}),s.jsx("div",{className:"px-5 py-4 border-b border-gray-700",children:s.jsx("h2",{className:"text-center font-semibold font-inter text-xl text-[#E0E0E0]",children:"Ghar Ko Sathi"})}),s.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-4 px-3",children:s.jsxs("nav",{className:"flex flex-col gap-4",children:[f&&s.jsxs(ii,{to:"/dashboard",className:({isActive:m})=>`flex items-center gap-3 text-[1.1rem] no-underline pl-5 py-2.5 pr-2 rounded-lg transition ease-in-out duration-300 w-full ${m&&i.pathname==="/dashboard"?"bg-[#FAFAFA] text-[#2460B9]":"text-[#E0E0E0] hover:bg-[#FAFAFA] hover:text-[#2460B9]"}`,end:!0,children:[s.jsx("span",{className:"w-6 flex justify-center",children:s.jsx(eN,{className:"text-xl"})}),s.jsx("span",{children:"Home"})]}),d.map(m=>s.jsxs("div",{className:"mb-2",children:[s.jsx("h3",{className:"px-4 mb-2 text-sm font-semibold text-gray-300",children:m.label}),s.jsx("ul",{className:"flex flex-col space-y-1",children:m.children.map(x=>u(x))})]},m.label))]})})]})},vN=()=>{const[e,t]=v.useState(!1),n=()=>{t(i=>!i)};return s.jsxs("div",{className:"flex h-screen w-full overflow-hidden",children:[s.jsx(gN,{isOpen:e,toggleSidebar:n}),s.jsxs("div",{className:"flex flex-col flex-1 w-0 min-h-0 overflow-hidden",children:[s.jsx(Xj,{toggleSidebar:n}),s.jsx("main",{className:"flex-1 overflow-y-auto bg-[#F3F3F3]",children:s.jsx(lr,{})})]})]})};function Av(e,t){const n=v.useRef(t);v.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const xN=1;function yN(e){return Object.freeze({__version:xN,map:e})}function zv(e,t){return Object.freeze({...e,...t})}const Bv=v.createContext(null),Dv=Bv.Provider;function $l(){const e=v.useContext(Bv);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Fv(e){function t(n,i){const{instance:o,context:l}=e(n).current;return v.useImperativeHandle(i,()=>o),n.children==null?null:Ne.createElement(Dv,{value:l},n.children)}return v.forwardRef(t)}function _N(e){function t(n,i){const[o,l]=v.useState(!1),{instance:u}=e(n,l).current;v.useImperativeHandle(i,()=>u),v.useEffect(function(){o&&u.update()},[u,o,n.children]);const d=u._contentNode;return d?y0.createPortal(n.children,d):null}return v.forwardRef(t)}function wN(e){function t(n,i){const{instance:o}=e(n).current;return v.useImperativeHandle(i,()=>o),null}return v.forwardRef(t)}function wh(e,t){const n=v.useRef();v.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Hl(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function bN(e,t){return function(i,o){const l=$l(),u=e(Hl(i,l),l);return Av(l.map,i.attribution),wh(u.current,i.eventHandlers),t(u.current,l,i,o),u}}var fd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(fy,function(n){var i="1.9.4";function o(r){var a,c,h,p;for(c=1,h=arguments.length;c<h;c++){p=arguments[c];for(a in p)r[a]=p[a]}return r}var l=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function u(r,a){var c=Array.prototype.slice;if(r.bind)return r.bind.apply(r,c.call(arguments,1));var h=c.call(arguments,2);return function(){return r.apply(a,h.length?h.concat(c.call(arguments)):arguments)}}var d=0;function f(r){return"_leaflet_id"in r||(r._leaflet_id=++d),r._leaflet_id}function m(r,a,c){var h,p,y,E;return E=function(){h=!1,p&&(y.apply(c,p),p=!1)},y=function(){h?p=arguments:(r.apply(c,arguments),setTimeout(E,a),h=!0)},y}function x(r,a,c){var h=a[1],p=a[0],y=h-p;return r===h&&c?r:((r-p)%y+y)%y+p}function g(){return!1}function b(r,a){if(a===!1)return r;var c=Math.pow(10,a===void 0?6:a);return Math.round(r*c)/c}function k(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function N(r){return k(r).split(/\s+/)}function C(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?l(r.options):{});for(var c in a)r.options[c]=a[c];return r.options}function P(r,a,c){var h=[];for(var p in r)h.push(encodeURIComponent(c?p.toUpperCase():p)+"="+encodeURIComponent(r[p]));return(!a||a.indexOf("?")===-1?"?":"&")+h.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function w(r,a){return r.replace(_,function(c,h){var p=a[h];if(p===void 0)throw new Error("No value provided for variable "+c);return typeof p=="function"&&(p=p(a)),p})}var j=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function S(r,a){for(var c=0;c<r.length;c++)if(r[c]===a)return c;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var M=0;function T(r){var a=+new Date,c=Math.max(0,16-(a-M));return M=a+c,window.setTimeout(r,c)}var q=window.requestAnimationFrame||$("RequestAnimationFrame")||T,F=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function K(r,a,c){if(c&&q===T)r.call(a);else return q.call(window,u(r,a))}function J(r){r&&F.call(window,r)}var fe={__proto__:null,extend:o,create:l,bind:u,get lastId(){return d},stamp:f,throttle:m,wrapNum:x,falseFn:g,formatNum:b,trim:k,splitWords:N,setOptions:C,getParamString:P,template:w,isArray:j,indexOf:S,emptyImageUrl:O,requestFn:q,cancelFn:F,requestAnimFrame:K,cancelAnimFrame:J};function Re(){}Re.extend=function(r){var a=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,h=l(c);h.constructor=a,a.prototype=h;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(a[p]=this[p]);return r.statics&&o(a,r.statics),r.includes&&(pe(r.includes),o.apply(null,[h].concat(r.includes))),o(h,r),delete h.statics,delete h.includes,h.options&&(h.options=c.options?l(c.options):{},o(h.options,r.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,E=h._initHooks.length;y<E;y++)h._initHooks[y].call(this)}},a},Re.include=function(r){var a=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},Re.mergeOptions=function(r){return o(this.prototype.options,r),this},Re.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),c=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function pe(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=j(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(r,a,c){if(typeof r=="object")for(var h in r)this._on(h,r[h],a);else{r=N(r);for(var p=0,y=r.length;p<y;p++)this._on(r[p],a,c)}return this},off:function(r,a,c){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var h in r)this._off(h,r[h],a);else{r=N(r);for(var p=arguments.length===1,y=0,E=r.length;y<E;y++)p?this._off(r[y]):this._off(r[y],a,c)}return this},_on:function(r,a,c,h){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,c)===!1){c===this&&(c=void 0);var p={fn:a,ctx:c};h&&(p.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(p)}},_off:function(r,a,c){var h,p,y;if(this._events&&(h=this._events[r],!!h)){if(arguments.length===1){if(this._firingCount)for(p=0,y=h.length;p<y;p++)h[p].fn=g;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var E=this._listens(r,a,c);if(E!==!1){var I=h[E];this._firingCount&&(I.fn=g,this._events[r]=h=h.slice()),h.splice(E,1)}}},fire:function(r,a,c){if(!this.listens(r,c))return this;var h=o({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var p=this._events[r];if(p){this._firingCount=this._firingCount+1||1;for(var y=0,E=p.length;y<E;y++){var I=p[y],z=I.fn;I.once&&this.off(r,z,I.ctx),z.call(I.ctx||this,h)}this._firingCount--}}return c&&this._propagateEvent(h),this},listens:function(r,a,c,h){typeof r!="string"&&console.warn('"string" type argument expected');var p=a;typeof a!="function"&&(h=!!a,p=void 0,c=void 0);var y=this._events&&this._events[r];if(y&&y.length&&this._listens(r,p,c)!==!1)return!0;if(h){for(var E in this._eventParents)if(this._eventParents[E].listens(r,a,c,h))return!0}return!1},_listens:function(r,a,c){if(!this._events)return!1;var h=this._events[r]||[];if(!a)return!!h.length;c===this&&(c=void 0);for(var p=0,y=h.length;p<y;p++)if(h[p].fn===a&&h[p].ctx===c)return p;return!1},once:function(r,a,c){if(typeof r=="object")for(var h in r)this._on(h,r[h],a,!0);else{r=N(r);for(var p=0,y=r.length;p<y;p++)this._on(r[p],a,c,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[f(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[f(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var H=Re.extend(ae);function A(r,a,c){this.x=c?Math.round(r):r,this.y=c?Math.round(a):a}var G=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(r){return this.clone()._add(U(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(U(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new A(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new A(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(r){r=U(r);var a=r.x-this.x,c=r.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(r){return r=U(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=U(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function U(r,a,c){return r instanceof A?r:j(r)?new A(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new A(r.x,r.y):new A(r,a,c)}function ee(r,a){if(r)for(var c=a?[r,a]:r,h=0,p=c.length;h<p;h++)this.extend(c[h])}ee.prototype={extend:function(r){var a,c;if(!r)return this;if(r instanceof A||typeof r[0]=="number"||"x"in r)a=c=U(r);else if(r=ge(r),a=r.min,c=r.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(r){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,c;return typeof r[0]=="number"||r instanceof A?r=U(r):r=ge(r),r instanceof ee?(a=r.min,c=r.max):a=c=r,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(r){r=ge(r);var a=this.min,c=this.max,h=r.min,p=r.max,y=p.x>=a.x&&h.x<=c.x,E=p.y>=a.y&&h.y<=c.y;return y&&E},overlaps:function(r){r=ge(r);var a=this.min,c=this.max,h=r.min,p=r.max,y=p.x>a.x&&h.x<c.x,E=p.y>a.y&&h.y<c.y;return y&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,c=this.max,h=Math.abs(a.x-c.x)*r,p=Math.abs(a.y-c.y)*r;return ge(U(a.x-h,a.y-p),U(c.x+h,c.y+p))},equals:function(r){return r?(r=ge(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ge(r,a){return!r||r instanceof ee?r:new ee(r,a)}function Me(r,a){if(r)for(var c=a?[r,a]:r,h=0,p=c.length;h<p;h++)this.extend(c[h])}Me.prototype={extend:function(r){var a=this._southWest,c=this._northEast,h,p;if(r instanceof ve)h=r,p=r;else if(r instanceof Me){if(h=r._southWest,p=r._northEast,!h||!p)return this}else return r?this.extend(se(r)||ke(r)):this;return!a&&!c?(this._southWest=new ve(h.lat,h.lng),this._northEast=new ve(p.lat,p.lng)):(a.lat=Math.min(h.lat,a.lat),a.lng=Math.min(h.lng,a.lng),c.lat=Math.max(p.lat,c.lat),c.lng=Math.max(p.lng,c.lng)),this},pad:function(r){var a=this._southWest,c=this._northEast,h=Math.abs(a.lat-c.lat)*r,p=Math.abs(a.lng-c.lng)*r;return new Me(new ve(a.lat-h,a.lng-p),new ve(c.lat+h,c.lng+p))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ve||"lat"in r?r=se(r):r=ke(r);var a=this._southWest,c=this._northEast,h,p;return r instanceof Me?(h=r.getSouthWest(),p=r.getNorthEast()):h=p=r,h.lat>=a.lat&&p.lat<=c.lat&&h.lng>=a.lng&&p.lng<=c.lng},intersects:function(r){r=ke(r);var a=this._southWest,c=this._northEast,h=r.getSouthWest(),p=r.getNorthEast(),y=p.lat>=a.lat&&h.lat<=c.lat,E=p.lng>=a.lng&&h.lng<=c.lng;return y&&E},overlaps:function(r){r=ke(r);var a=this._southWest,c=this._northEast,h=r.getSouthWest(),p=r.getNorthEast(),y=p.lat>a.lat&&h.lat<c.lat,E=p.lng>a.lng&&h.lng<c.lng;return y&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=ke(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ke(r,a){return r instanceof Me?r:new Me(r,a)}function ve(r,a,c){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,c!==void 0&&(this.alt=+c)}ve.prototype={equals:function(r,a){if(!r)return!1;r=se(r);var c=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return c<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+b(this.lat,r)+", "+b(this.lng,r)+")"},distanceTo:function(r){return Ge.distance(this,se(r))},wrap:function(){return Ge.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,c=a/Math.cos(Math.PI/180*this.lat);return ke([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function se(r,a,c){return r instanceof ve?r:j(r)&&typeof r[0]!="object"?r.length===3?new ve(r[0],r[1],r[2]):r.length===2?new ve(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ve(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new ve(r,a,c)}var ue={latLngToPoint:function(r,a){var c=this.projection.project(r),h=this.scale(a);return this.transformation._transform(c,h)},pointToLatLng:function(r,a){var c=this.scale(a),h=this.transformation.untransform(r,c);return this.projection.unproject(h)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(r),h=this.transformation.transform(a.min,c),p=this.transformation.transform(a.max,c);return new ee(h,p)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?x(r.lng,this.wrapLng,!0):r.lng,c=this.wrapLat?x(r.lat,this.wrapLat,!0):r.lat,h=r.alt;return new ve(c,a,h)},wrapLatLngBounds:function(r){var a=r.getCenter(),c=this.wrapLatLng(a),h=a.lat-c.lat,p=a.lng-c.lng;if(h===0&&p===0)return r;var y=r.getSouthWest(),E=r.getNorthEast(),I=new ve(y.lat-h,y.lng-p),z=new ve(E.lat-h,E.lng-p);return new Me(I,z)}},Ge=o({},ue,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var c=Math.PI/180,h=r.lat*c,p=a.lat*c,y=Math.sin((a.lat-r.lat)*c/2),E=Math.sin((a.lng-r.lng)*c/2),I=y*y+Math.cos(h)*Math.cos(p)*E*E,z=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*z}}),Jt=6378137,_t={R:Jt,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,c=this.MAX_LATITUDE,h=Math.max(Math.min(c,r.lat),-c),p=Math.sin(h*a);return new A(this.R*r.lng*a,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(r){var a=180/Math.PI;return new ve((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=Jt*Math.PI;return new ee([-r,-r],[r,r])}()};function ft(r,a,c,h){if(j(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=c,this._d=h}ft.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new A((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function mt(r,a,c,h){return new ft(r,a,c,h)}var wt=o({},Ge,{code:"EPSG:3857",projection:_t,transformation:function(){var r=.5/(Math.PI*_t.R);return mt(r,.5,-r,.5)}()}),Et=o({},wt,{code:"EPSG:900913"});function xe(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Dt(r,a){var c="",h,p,y,E,I,z;for(h=0,y=r.length;h<y;h++){for(I=r[h],p=0,E=I.length;p<E;p++)z=I[p],c+=(p?"L":"M")+z.x+" "+z.y;c+=a?le.svg?"z":"x":""}return c||"M0 0"}var ln=document.documentElement.style,Gt="ActiveXObject"in window,_n=Gt&&!document.addEventListener,wn="msLaunchUri"in navigator&&!("documentMode"in document),Ft=Nn("webkit"),bn=Nn("android"),jn=Nn("android 2")||Nn("android 3"),te=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),W=bn&&Nn("Google")&&te<537&&!("AudioNode"in window),Y=!!window.opera,ne=!wn&&Nn("chrome"),we=Nn("gecko")&&!Ft&&!Y&&!Gt,R=!ne&&Nn("safari"),D=Nn("phantom"),re="OTransition"in ln,me=navigator.platform.indexOf("Win")===0,de=Gt&&"transition"in ln,ce="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!jn,st="MozPerspective"in ln,An=!window.L_DISABLE_3D&&(de||ce||st)&&!re&&!D,Lt=typeof orientation<"u"||Nn("mobile"),ir=Lt&&Ft,os=Lt&&ce,ui=!window.PointerEvent&&window.MSPointerEvent,Nh=!!(window.PointerEvent||ui),Sh="ontouchstart"in window||!!window.TouchEvent,Yv=!window.L_NO_TOUCH&&(Sh||Nh),Qv=Lt&&Y,Xv=Lt&&we,ex=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tx=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",g,a),window.removeEventListener("testPassiveEventSupport",g,a)}catch{}return r}(),nx=function(){return!!document.createElement("canvas").getContext}(),Vl=!!(document.createElementNS&&xe("svg").createSVGRect),rx=!!Vl&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ix=!Vl&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),sx=navigator.platform.indexOf("Mac")===0,ox=navigator.platform.indexOf("Linux")===0;function Nn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var le={ie:Gt,ielt9:_n,edge:wn,webkit:Ft,android:bn,android23:jn,androidStock:W,opera:Y,chrome:ne,gecko:we,safari:R,phantom:D,opera12:re,win:me,ie3d:de,webkit3d:ce,gecko3d:st,any3d:An,mobile:Lt,mobileWebkit:ir,mobileWebkit3d:os,msPointer:ui,pointer:Nh,touch:Yv,touchNative:Sh,mobileOpera:Qv,mobileGecko:Xv,retina:ex,passiveEvents:tx,canvas:nx,svg:Vl,vml:ix,inlineSvg:rx,mac:sx,linux:ox},kh=le.msPointer?"MSPointerDown":"pointerdown",Ch=le.msPointer?"MSPointerMove":"pointermove",Ph=le.msPointer?"MSPointerUp":"pointerup",Eh=le.msPointer?"MSPointerCancel":"pointercancel",ql={touchstart:kh,touchmove:Ch,touchend:Ph,touchcancel:Eh},Lh={touchstart:hx,touchmove:So,touchend:So,touchcancel:So},di={},Th=!1;function ax(r,a,c){return a==="touchstart"&&dx(),Lh[a]?(c=Lh[a].bind(this,c),r.addEventListener(ql[a],c,!1),c):(console.warn("wrong event specified:",a),g)}function lx(r,a,c){if(!ql[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(ql[a],c,!1)}function cx(r){di[r.pointerId]=r}function ux(r){di[r.pointerId]&&(di[r.pointerId]=r)}function Rh(r){delete di[r.pointerId]}function dx(){Th||(document.addEventListener(kh,cx,!0),document.addEventListener(Ch,ux,!0),document.addEventListener(Ph,Rh,!0),document.addEventListener(Eh,Rh,!0),Th=!0)}function So(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in di)a.touches.push(di[c]);a.changedTouches=[a],r(a)}}function hx(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ct(a),So(r,a)}function fx(r){var a={},c,h;for(h in r)c=r[h],a[h]=c&&c.bind?c.bind(r):c;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var mx=200;function px(r,a){r.addEventListener("dblclick",a);var c=0,h;function p(y){if(y.detail!==1){h=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var E=zh(y);if(!(E.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!E.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var I=Date.now();I-c<=mx?(h++,h===2&&a(fx(y))):h=1,c=I}}}return r.addEventListener("click",p),{dblclick:a,simDblclick:p}}function gx(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var Kl=Po(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),as=Po(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ih=as==="webkitTransition"||as==="OTransition"?as+"End":"transitionend";function Mh(r){return typeof r=="string"?document.getElementById(r):r}function ls(r,a){var c=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(r,null);c=h?h[a]:null}return c==="auto"?null:c}function Le(r,a,c){var h=document.createElement(r);return h.className=a||"",c&&c.appendChild(h),h}function $e(r){var a=r.parentNode;a&&a.removeChild(r)}function ko(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function hi(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function fi(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Jl(r,a){if(r.classList!==void 0)return r.classList.contains(a);var c=Co(r);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function be(r,a){if(r.classList!==void 0)for(var c=N(a),h=0,p=c.length;h<p;h++)r.classList.add(c[h]);else if(!Jl(r,a)){var y=Co(r);Gl(r,(y?y+" ":"")+a)}}function Ye(r,a){r.classList!==void 0?r.classList.remove(a):Gl(r,k((" "+Co(r)+" ").replace(" "+a+" "," ")))}function Gl(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function Co(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Yt(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&vx(r,a)}function vx(r,a){var c=!1,h="DXImageTransform.Microsoft.Alpha";try{c=r.filters.item(h)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):r.style.filter+=" progid:"+h+"(opacity="+a+")"}function Po(r){for(var a=document.documentElement.style,c=0;c<r.length;c++)if(r[c]in a)return r[c];return!1}function Or(r,a,c){var h=a||new A(0,0);r.style[Kl]=(le.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(c?" scale("+c+")":"")}function Xe(r,a){r._leaflet_pos=a,le.any3d?Or(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function Ar(r){return r._leaflet_pos||new A(0,0)}var cs,us,Yl;if("onselectstart"in document)cs=function(){ye(window,"selectstart",ct)},us=function(){Oe(window,"selectstart",ct)};else{var ds=Po(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);cs=function(){if(ds){var r=document.documentElement.style;Yl=r[ds],r[ds]="none"}},us=function(){ds&&(document.documentElement.style[ds]=Yl,Yl=void 0)}}function Ql(){ye(window,"dragstart",ct)}function Xl(){Oe(window,"dragstart",ct)}var Eo,ec;function tc(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Lo(),Eo=r,ec=r.style.outlineStyle,r.style.outlineStyle="none",ye(window,"keydown",Lo))}function Lo(){Eo&&(Eo.style.outlineStyle=ec,Eo=void 0,ec=void 0,Oe(window,"keydown",Lo))}function Oh(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function nc(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var xx={__proto__:null,TRANSFORM:Kl,TRANSITION:as,TRANSITION_END:Ih,get:Mh,getStyle:ls,create:Le,remove:$e,empty:ko,toFront:hi,toBack:fi,hasClass:Jl,addClass:be,removeClass:Ye,setClass:Gl,getClass:Co,setOpacity:Yt,testProp:Po,setTransform:Or,setPosition:Xe,getPosition:Ar,get disableTextSelection(){return cs},get enableTextSelection(){return us},disableImageDrag:Ql,enableImageDrag:Xl,preventOutline:tc,restoreOutline:Lo,getSizedParentNode:Oh,getScale:nc};function ye(r,a,c,h){if(a&&typeof a=="object")for(var p in a)ic(r,p,a[p],c);else{a=N(a);for(var y=0,E=a.length;y<E;y++)ic(r,a[y],c,h)}return this}var Sn="_leaflet_events";function Oe(r,a,c,h){if(arguments.length===1)Ah(r),delete r[Sn];else if(a&&typeof a=="object")for(var p in a)sc(r,p,a[p],c);else if(a=N(a),arguments.length===2)Ah(r,function(I){return S(a,I)!==-1});else for(var y=0,E=a.length;y<E;y++)sc(r,a[y],c,h);return this}function Ah(r,a){for(var c in r[Sn]){var h=c.split(/\d/)[0];(!a||a(h))&&sc(r,h,null,null,c)}}var rc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ic(r,a,c,h){var p=a+f(c)+(h?"_"+f(h):"");if(r[Sn]&&r[Sn][p])return this;var y=function(I){return c.call(h||r,I||window.event)},E=y;!le.touchNative&&le.pointer&&a.indexOf("touch")===0?y=ax(r,a,y):le.touch&&a==="dblclick"?y=px(r,y):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(rc[a]||a,y,le.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(y=function(I){I=I||window.event,ac(r,I)&&E(I)},r.addEventListener(rc[a],y,!1)):r.addEventListener(a,E,!1):r.attachEvent("on"+a,y),r[Sn]=r[Sn]||{},r[Sn][p]=y}function sc(r,a,c,h,p){p=p||a+f(c)+(h?"_"+f(h):"");var y=r[Sn]&&r[Sn][p];if(!y)return this;!le.touchNative&&le.pointer&&a.indexOf("touch")===0?lx(r,a,y):le.touch&&a==="dblclick"?gx(r,y):"removeEventListener"in r?r.removeEventListener(rc[a]||a,y,!1):r.detachEvent("on"+a,y),r[Sn][p]=null}function zr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function oc(r){return ic(r,"wheel",zr),this}function hs(r){return ye(r,"mousedown touchstart dblclick contextmenu",zr),r._leaflet_disable_click=!0,this}function ct(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Br(r){return ct(r),zr(r),this}function zh(r){if(r.composedPath)return r.composedPath();for(var a=[],c=r.target;c;)a.push(c),c=c.parentNode;return a}function Bh(r,a){if(!a)return new A(r.clientX,r.clientY);var c=nc(a),h=c.boundingClientRect;return new A((r.clientX-h.left)/c.x-a.clientLeft,(r.clientY-h.top)/c.y-a.clientTop)}var yx=le.linux&&le.chrome?window.devicePixelRatio:le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Dh(r){return le.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/yx:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function ac(r,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==r;)c=c.parentNode}catch{return!1}return c!==r}var _x={__proto__:null,on:ye,off:Oe,stopPropagation:zr,disableScrollPropagation:oc,disableClickPropagation:hs,preventDefault:ct,stop:Br,getPropagationPath:zh,getMousePosition:Bh,getWheelDelta:Dh,isExternalTarget:ac,addListener:ye,removeListener:Oe},Fh=H.extend({run:function(r,a,c,h){this.stop(),this._el=r,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=Ar(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var c=this._startPos.add(this._offset.multiplyBy(r));a&&c._round(),Xe(this._el,c),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Pe=H.extend({options:{crs:wt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=C(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(se(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=as&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ye(this._proxy,Ih,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(se(r),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=o({animate:c.animate},c.zoom),c.pan=o({animate:c.animate,duration:c.duration},c.pan));var h=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,c.zoom):this._tryAnimatedPan(r,c.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,c){var h=this.getZoomScale(a),p=this.getSize().divideBy(2),y=r instanceof A?r:this.latLngToContainerPoint(r),E=y.subtract(p).multiplyBy(1-1/h),I=this.containerPointToLatLng(p.add(E));return this.setView(I,a,{zoom:c})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():ke(r);var c=U(a.paddingTopLeft||a.padding||[0,0]),h=U(a.paddingBottomRight||a.padding||[0,0]),p=this.getBoundsZoom(r,!1,c.add(h));if(p=typeof a.maxZoom=="number"?Math.min(a.maxZoom,p):p,p===1/0)return{center:r.getCenter(),zoom:p};var y=h.subtract(c).divideBy(2),E=this.project(r.getSouthWest(),p),I=this.project(r.getNorthEast(),p),z=this.unproject(E.add(I).divideBy(2).add(y),p);return{center:z,zoom:p}},fitBounds:function(r,a){if(r=ke(r),!r.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(r,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=U(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){be(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,c){if(c=c||{},c.animate===!1||!le.any3d)return this.setView(r,a,c);this._stop();var h=this.project(this.getCenter()),p=this.project(r),y=this.getSize(),E=this._zoom;r=se(r),a=a===void 0?E:a;var I=Math.max(y.x,y.y),z=I*this.getZoomScale(E,a),Z=p.distanceTo(h)||1,X=1.42,he=X*X;function je(et){var $o=et?-1:1,ly=et?z:I,cy=z*z-I*I+$o*he*he*Z*Z,uy=2*ly*he*Z,xc=cy/uy,wf=Math.sqrt(xc*xc+1)-xc,dy=wf<1e-9?-18:Math.log(wf);return dy}function bt(et){return(Math.exp(et)-Math.exp(-et))/2}function ot(et){return(Math.exp(et)+Math.exp(-et))/2}function Xt(et){return bt(et)/ot(et)}var Tt=je(0);function yi(et){return I*(ot(Tt)/ot(Tt+X*et))}function iy(et){return I*(ot(Tt)*Xt(Tt+X*et)-bt(Tt))/he}function sy(et){return 1-Math.pow(1-et,1.5)}var oy=Date.now(),yf=(je(1)-Tt)/X,ay=c.duration?1e3*c.duration:1e3*yf*.8;function _f(){var et=(Date.now()-oy)/ay,$o=sy(et)*yf;et<=1?(this._flyToFrame=K(_f,this),this._move(this.unproject(h.add(p.subtract(h).multiplyBy(iy($o)/Z)),E),this.getScaleZoom(I/yi($o),E),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),_f.call(this),this},flyToBounds:function(r,a){var c=this._getBoundsCenterZoom(r,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(r){return r=ke(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var c=this.getCenter(),h=this._limitCenter(c,this._zoom,ke(r));return c.equals(h)||this.panTo(h,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var c=U(a.paddingTopLeft||a.padding||[0,0]),h=U(a.paddingBottomRight||a.padding||[0,0]),p=this.project(this.getCenter()),y=this.project(r),E=this.getPixelBounds(),I=ge([E.min.add(c),E.max.subtract(h)]),z=I.getSize();if(!I.contains(y)){this._enforcingBounds=!0;var Z=y.subtract(I.getCenter()),X=I.extend(y).getSize().subtract(z);p.x+=Z.x<0?-X.x:X.x,p.y+=Z.y<0?-X.y:X.y,this.panTo(this.unproject(p),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),h=a.divideBy(2).round(),p=c.divideBy(2).round(),y=h.subtract(p);return!y.x&&!y.y?this:(r.animate&&r.pan?this.panBy(y):(r.pan&&this._rawPanBy(y),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=u(this._handleGeolocationResponse,this),c=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,r):navigator.geolocation.getCurrentPosition(a,c,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,c=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,c=r.coords.longitude,h=new ve(a,c),p=h.toBounds(r.coords.accuracy*2),y=this._locateOptions;if(y.setView){var E=this.getBoundsZoom(p);this.setView(h,y.maxZoom?Math.min(E,y.maxZoom):E)}var I={latlng:h,bounds:p,timestamp:r.timestamp};for(var z in r.coords)typeof r.coords[z]=="number"&&(I[z]=r.coords[z]);this.fire("locationfound",I)}},addHandler:function(r,a){if(!a)return this;var c=this[r]=new a(this);return this._handlers.push(c),this.options[r]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)$e(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var c="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),h=Le("div",c,a||this._mapPane);return r&&(this._panes[r]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),c=this.unproject(r.getTopRight());return new Me(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,c){r=ke(r),c=U(c||[0,0]);var h=this.getZoom()||0,p=this.getMinZoom(),y=this.getMaxZoom(),E=r.getNorthWest(),I=r.getSouthEast(),z=this.getSize().subtract(c),Z=ge(this.project(I,h),this.project(E,h)).getSize(),X=le.any3d?this.options.zoomSnap:1,he=z.x/Z.x,je=z.y/Z.y,bt=a?Math.max(he,je):Math.min(he,je);return h=this.getScaleZoom(bt,h),X&&(h=Math.round(h/(X/100))*(X/100),h=a?Math.ceil(h/X)*X:Math.floor(h/X)*X),Math.max(p,Math.min(y,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var c=this._getTopLeftPoint(r,a);return new ee(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(r)/c.scale(a)},getScaleZoom:function(r,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var h=c.zoom(r*c.scale(a));return isNaN(h)?1/0:h},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(se(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(U(r),a)},layerPointToLatLng:function(r){var a=U(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(se(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(se(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ke(r))},distance:function(r,a){return this.options.crs.distance(se(r),se(a))},containerPointToLayerPoint:function(r){return U(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return U(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(U(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(r)))},mouseEventToContainerPoint:function(r){return Bh(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=Mh(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ye(a,"scroll",this._onScroll,this),this._containerId=f(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&le.any3d,be(r,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=ls(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xe(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(be(r.markerPane,"leaflet-zoom-hide"),be(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,c){Xe(this._mapPane,new A(0,0));var h=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var p=this._zoom!==a;this._moveStart(p,c)._move(r,a)._moveEnd(p),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,c,h){a===void 0&&(a=this._zoom);var p=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),h?c&&c.pinch&&this.fire("zoom",c):((p||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Xe(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[f(this._container)]=this;var a=r?Oe:ye;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var c=[],h,p=a==="mouseout"||a==="mouseover",y=r.target||r.srcElement,E=!1;y;){if(h=this._targets[f(y)],h&&(a==="click"||a==="preclick")&&this._draggableMoved(h)){E=!0;break}if(h&&h.listens(a,!0)&&(p&&!ac(y,r)||(c.push(h),p))||y===this._container)break;y=y.parentNode}return!c.length&&!E&&!p&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var c=r.type;c==="mousedown"&&tc(a),this._fireDOMEvent(r,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,c){if(r.type==="click"){var h=o({},r);h.type="preclick",this._fireDOMEvent(h,h.type,c)}var p=this._findEventTargets(r,a);if(c){for(var y=[],E=0;E<c.length;E++)c[E].listens(a,!0)&&y.push(c[E]);p=y.concat(p)}if(p.length){a==="contextmenu"&&ct(r);var I=p[0],z={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Z=I.getLatLng&&(!I._radius||I._radius<=10);z.containerPoint=Z?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(r),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=Z?I.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(E=0;E<p.length;E++)if(p[E].fire(a,z,!0),z.originalEvent._stopped||p[E].options.bubblingMouseEvents===!1&&S(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return Ar(this._mapPane)||new A(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var c=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var c=this.getSize()._divideBy(2);return this.project(r,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,c){var h=this._getNewPixelOrigin(c,a);return this.project(r,a)._subtract(h)},_latLngBoundsToNewLayerBounds:function(r,a,c){var h=this._getNewPixelOrigin(c,a);return ge([this.project(r.getSouthWest(),a)._subtract(h),this.project(r.getNorthWest(),a)._subtract(h),this.project(r.getSouthEast(),a)._subtract(h),this.project(r.getNorthEast(),a)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,c){if(!c)return r;var h=this.project(r,a),p=this.getSize().divideBy(2),y=new ee(h.subtract(p),h.add(p)),E=this._getBoundsOffset(y,c,a);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?r:this.unproject(h.add(E),a)},_limitOffset:function(r,a){if(!a)return r;var c=this.getPixelBounds(),h=new ee(c.min.add(r),c.max.add(r));return r.add(this._getBoundsOffset(h,a))},_getBoundsOffset:function(r,a,c){var h=ge(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),p=h.min.subtract(r.min),y=h.max.subtract(r.max),E=this._rebound(p.x,-y.x),I=this._rebound(p.y,-y.y);return new A(E,I)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),c=this.getMaxZoom(),h=le.any3d?this.options.zoomSnap:1;return h&&(r=Math.round(r/h)*h),Math.max(a,Math.min(c,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var c=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var r=this._proxy=Le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var c=Kl,h=this._proxy.style[c];Or(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),h===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();Or(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(a),p=this._getCenterOffset(r)._divideBy(1-1/h);return c.animate!==!0&&!this.getSize().contains(p)?!1:(K(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,c,h){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function wx(r,a){return new Pe(r,a)}var cn=Re.extend({options:{position:"topright"},initialize:function(r){C(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),c=this.getPosition(),h=r._controlCorners[c];return be(a,"leaflet-control"),c.indexOf("bottom")!==-1?h.insertBefore(a,h.firstChild):h.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),fs=function(r){return new cn(r)};Pe.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",c=this._controlContainer=Le("div",a+"control-container",this._container);function h(p,y){var E=a+p+" "+a+y;r[p+y]=Le("div",E,c)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)$e(this._controlCorners[r]);$e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Uh=cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,c,h){return c<h?-1:h<c?1:0}},initialize:function(r,a,c){C(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in r)this._addLayer(r[h],h);for(h in a)this._addLayer(a[h],h,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return cn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(f(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=Le("div",r),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),hs(a),oc(a);var h=this._section=Le("section",r+"-list");c&&(this._map.on("click",this.collapse,this),ye(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=Le("a",r+"-toggle",a);p.href="#",p.title="Layers",p.setAttribute("role","button"),ye(p,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){ct(y),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Le("div",r+"-base",h),this._separator=Le("div",r+"-separator",h),this._overlaysList=Le("div",r+"-overlays",h),a.appendChild(h)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&f(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,c){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(u(function(h,p){return this.options.sortFunction(h.layer,p.layer,h.name,p.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ko(this._baseLayersList),ko(this._overlaysList),this._layerControlInputs=[];var r,a,c,h,p=0;for(c=0;c<this._layers.length;c++)h=this._layers[c],this._addItem(h),a=a||h.overlay,r=r||!h.overlay,p+=h.overlay?0:1;return this.options.hideSingleBase&&(r=r&&p>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(f(r.target)),c=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(r,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=c,h.firstChild},_addItem:function(r){var a=document.createElement("label"),c=this._map.hasLayer(r.layer),h;r.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=c):h=this._createRadioElement("leaflet-base-layers_"+f(this),c),this._layerControlInputs.push(h),h.layerId=f(r.layer),ye(h,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+r.name;var y=document.createElement("span");a.appendChild(y),y.appendChild(h),y.appendChild(p);var E=r.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,c,h=[],p=[];this._handlingClick=!0;for(var y=r.length-1;y>=0;y--)a=r[y],c=this._getLayer(a.layerId).layer,a.checked?h.push(c):a.checked||p.push(c);for(y=0;y<p.length;y++)this._map.hasLayer(p[y])&&this._map.removeLayer(p[y]);for(y=0;y<h.length;y++)this._map.hasLayer(h[y])||this._map.addLayer(h[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,c,h=this._map.getZoom(),p=r.length-1;p>=0;p--)a=r[p],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&h<c.options.minZoom||c.options.maxZoom!==void 0&&h>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ye(r,"click",ct),this.expand();var a=this;setTimeout(function(){Oe(r,"click",ct),a._preventClick=!1})}}),bx=function(r,a,c){return new Uh(r,a,c)},lc=cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",c=Le("div",a+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,c,h,p){var y=Le("a",c,h);return y.innerHTML=r,y.href="#",y.title=a,y.setAttribute("role","button"),y.setAttribute("aria-label",a),hs(y),ye(y,"click",Br),ye(y,"click",p,this),ye(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";Ye(this._zoomInButton,a),Ye(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(be(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(be(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pe.mergeOptions({zoomControl:!0}),Pe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lc,this.addControl(this.zoomControl))});var jx=function(r){return new lc(r)},$h=cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",c=Le("div",a),h=this.options;return this._addScales(h,a+"-line",c),r.on(h.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),c},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,c){r.metric&&(this._mScale=Le("div",a,c)),r.imperial&&(this._iScale=Le("div",a,c))},_update:function(){var r=this._map,a=r.getSize().y/2,c=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/r)},_updateImperial:function(r){var a=r*3.2808399,c,h,p;a>5280?(c=a/5280,h=this._getRoundNum(c),this._updateScale(this._iScale,h+" mi",h/c)):(p=this._getRoundNum(a),this._updateScale(this._iScale,p+" ft",p/a))},_updateScale:function(r,a,c){r.style.width=Math.round(this.options.maxWidth*c)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),c=r/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),Nx=function(r){return new $h(r)},Sx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',cc=cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?Sx+" ":"")+"Leaflet</a>"},initialize:function(r){C(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Le("div","leaflet-control-attribution"),hs(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),r.length&&c.push(r.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Pe.mergeOptions({attributionControl:!0}),Pe.addInitHook(function(){this.options.attributionControl&&new cc().addTo(this)});var kx=function(r){return new cc(r)};cn.Layers=Uh,cn.Zoom=lc,cn.Scale=$h,cn.Attribution=cc,fs.layers=bx,fs.zoom=jx,fs.scale=Nx,fs.attribution=kx;var kn=Re.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kn.addTo=function(r,a){return r.addHandler(a,this),this};var Cx={Events:ae},Hh=le.touch?"touchstart mousedown":"mousedown",sr=H.extend({options:{clickTolerance:3},initialize:function(r,a,c,h){C(this,h),this._element=r,this._dragStartTarget=a||r,this._preventOutline=c},enable:function(){this._enabled||(ye(this._dragStartTarget,Hh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sr._dragging===this&&this.finishDrag(!0),Oe(this._dragStartTarget,Hh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Jl(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){sr._dragging===this&&this.finishDrag();return}if(!(sr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(sr._dragging=this,this._preventOutline&&tc(this._element),Ql(),cs(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,c=Oh(this._element);this._startPoint=new A(a.clientX,a.clientY),this._startPos=Ar(this._element),this._parentScale=nc(c);var h=r.type==="mousedown";ye(document,h?"mousemove":"touchmove",this._onMove,this),ye(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,c=new A(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ct(r),this._moved||(this.fire("dragstart"),this._moved=!0,be(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Xe(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ye(document.body,"leaflet-dragging"),this._lastTarget&&(Ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Oe(document,"mousemove touchmove",this._onMove,this),Oe(document,"mouseup touchend touchcancel",this._onUp,this),Xl(),us();var a=this._moved&&this._moving;this._moving=!1,sr._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Wh(r,a,c){var h,p=[1,4,2,8],y,E,I,z,Z,X,he,je;for(y=0,X=r.length;y<X;y++)r[y]._code=Dr(r[y],a);for(I=0;I<4;I++){for(he=p[I],h=[],y=0,X=r.length,E=X-1;y<X;E=y++)z=r[y],Z=r[E],z._code&he?Z._code&he||(je=To(Z,z,he,a,c),je._code=Dr(je,a),h.push(je)):(Z._code&he&&(je=To(Z,z,he,a,c),je._code=Dr(je,a),h.push(je)),h.push(z));r=h}return r}function Zh(r,a){var c,h,p,y,E,I,z,Z,X;if(!r||r.length===0)throw new Error("latlngs not passed");Qt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var he=se([0,0]),je=ke(r),bt=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());bt<1700&&(he=uc(r));var ot=r.length,Xt=[];for(c=0;c<ot;c++){var Tt=se(r[c]);Xt.push(a.project(se([Tt.lat-he.lat,Tt.lng-he.lng])))}for(I=z=Z=0,c=0,h=ot-1;c<ot;h=c++)p=Xt[c],y=Xt[h],E=p.y*y.x-y.y*p.x,z+=(p.x+y.x)*E,Z+=(p.y+y.y)*E,I+=E*3;I===0?X=Xt[0]:X=[z/I,Z/I];var yi=a.unproject(U(X));return se([yi.lat+he.lat,yi.lng+he.lng])}function uc(r){for(var a=0,c=0,h=0,p=0;p<r.length;p++){var y=se(r[p]);a+=y.lat,c+=y.lng,h++}return se([a/h,c/h])}var Px={__proto__:null,clipPolygon:Wh,polygonCenter:Zh,centroid:uc};function Vh(r,a){if(!a||!r.length)return r.slice();var c=a*a;return r=Tx(r,c),r=Lx(r,c),r}function qh(r,a,c){return Math.sqrt(ms(r,a,c,!0))}function Ex(r,a,c){return ms(r,a,c)}function Lx(r,a){var c=r.length,h=typeof Uint8Array<"u"?Uint8Array:Array,p=new h(c);p[0]=p[c-1]=1,dc(r,p,a,0,c-1);var y,E=[];for(y=0;y<c;y++)p[y]&&E.push(r[y]);return E}function dc(r,a,c,h,p){var y=0,E,I,z;for(I=h+1;I<=p-1;I++)z=ms(r[I],r[h],r[p],!0),z>y&&(E=I,y=z);y>c&&(a[E]=1,dc(r,a,c,h,E),dc(r,a,c,E,p))}function Tx(r,a){for(var c=[r[0]],h=1,p=0,y=r.length;h<y;h++)Rx(r[h],r[p])>a&&(c.push(r[h]),p=h);return p<y-1&&c.push(r[y-1]),c}var Kh;function Jh(r,a,c,h,p){var y=h?Kh:Dr(r,c),E=Dr(a,c),I,z,Z;for(Kh=E;;){if(!(y|E))return[r,a];if(y&E)return!1;I=y||E,z=To(r,a,I,c,p),Z=Dr(z,c),I===y?(r=z,y=Z):(a=z,E=Z)}}function To(r,a,c,h,p){var y=a.x-r.x,E=a.y-r.y,I=h.min,z=h.max,Z,X;return c&8?(Z=r.x+y*(z.y-r.y)/E,X=z.y):c&4?(Z=r.x+y*(I.y-r.y)/E,X=I.y):c&2?(Z=z.x,X=r.y+E*(z.x-r.x)/y):c&1&&(Z=I.x,X=r.y+E*(I.x-r.x)/y),new A(Z,X,p)}function Dr(r,a){var c=0;return r.x<a.min.x?c|=1:r.x>a.max.x&&(c|=2),r.y<a.min.y?c|=4:r.y>a.max.y&&(c|=8),c}function Rx(r,a){var c=a.x-r.x,h=a.y-r.y;return c*c+h*h}function ms(r,a,c,h){var p=a.x,y=a.y,E=c.x-p,I=c.y-y,z=E*E+I*I,Z;return z>0&&(Z=((r.x-p)*E+(r.y-y)*I)/z,Z>1?(p=c.x,y=c.y):Z>0&&(p+=E*Z,y+=I*Z)),E=r.x-p,I=r.y-y,h?E*E+I*I:new A(p,y)}function Qt(r){return!j(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Gh(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qt(r)}function Yh(r,a){var c,h,p,y,E,I,z,Z;if(!r||r.length===0)throw new Error("latlngs not passed");Qt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var X=se([0,0]),he=ke(r),je=he.getNorthWest().distanceTo(he.getSouthWest())*he.getNorthEast().distanceTo(he.getNorthWest());je<1700&&(X=uc(r));var bt=r.length,ot=[];for(c=0;c<bt;c++){var Xt=se(r[c]);ot.push(a.project(se([Xt.lat-X.lat,Xt.lng-X.lng])))}for(c=0,h=0;c<bt-1;c++)h+=ot[c].distanceTo(ot[c+1])/2;if(h===0)Z=ot[0];else for(c=0,y=0;c<bt-1;c++)if(E=ot[c],I=ot[c+1],p=E.distanceTo(I),y+=p,y>h){z=(y-h)/p,Z=[I.x-z*(I.x-E.x),I.y-z*(I.y-E.y)];break}var Tt=a.unproject(U(Z));return se([Tt.lat+X.lat,Tt.lng+X.lng])}var Ix={__proto__:null,simplify:Vh,pointToSegmentDistance:qh,closestPointOnSegment:Ex,clipSegment:Jh,_getEdgeIntersection:To,_getBitCode:Dr,_sqClosestPointOnSegment:ms,isFlat:Qt,_flat:Gh,polylineCenter:Yh},hc={project:function(r){return new A(r.lng,r.lat)},unproject:function(r){return new ve(r.y,r.x)},bounds:new ee([-180,-90],[180,90])},fc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,c=this.R,h=r.lat*a,p=this.R_MINOR/c,y=Math.sqrt(1-p*p),E=y*Math.sin(h),I=Math.tan(Math.PI/4-h/2)/Math.pow((1-E)/(1+E),y/2);return h=-c*Math.log(Math.max(I,1e-10)),new A(r.lng*a*c,h)},unproject:function(r){for(var a=180/Math.PI,c=this.R,h=this.R_MINOR/c,p=Math.sqrt(1-h*h),y=Math.exp(-r.y/c),E=Math.PI/2-2*Math.atan(y),I=0,z=.1,Z;I<15&&Math.abs(z)>1e-7;I++)Z=p*Math.sin(E),Z=Math.pow((1-Z)/(1+Z),p/2),z=Math.PI/2-2*Math.atan(y*Z)-E,E+=z;return new ve(E*a,r.x*a/c)}},Mx={__proto__:null,LonLat:hc,Mercator:fc,SphericalMercator:_t},Ox=o({},Ge,{code:"EPSG:3395",projection:fc,transformation:function(){var r=.5/(Math.PI*fc.R);return mt(r,.5,-r,.5)}()}),Qh=o({},Ge,{code:"EPSG:4326",projection:hc,transformation:mt(1/180,1,-1/180,.5)}),Ax=o({},ue,{projection:hc,transformation:mt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var c=a.lng-r.lng,h=a.lat-r.lat;return Math.sqrt(c*c+h*h)},infinite:!0});ue.Earth=Ge,ue.EPSG3395=Ox,ue.EPSG3857=wt,ue.EPSG900913=Et,ue.EPSG4326=Qh,ue.Simple=Ax;var un=H.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[f(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[f(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Pe.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=f(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=f(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return f(r)in this._layers},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},_addLayers:function(r){r=r?j(r)?r:[r]:[];for(var a=0,c=r.length;a<c;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[f(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=f(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,c=this._getZoomSpan();for(var h in this._zoomBoundLayers){var p=this._zoomBoundLayers[h].options;r=p.minZoom===void 0?r:Math.min(r,p.minZoom),a=p.maxZoom===void 0?a:Math.max(a,p.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var mi=un.extend({initialize:function(r,a){C(this,a),this._layers={};var c,h;if(r)for(c=0,h=r.length;c<h;c++)this.addLayer(r[c])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),c,h;for(c in this._layers)h=this._layers[c],h[r]&&h[r].apply(h,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return f(r)}}),zx=function(r,a){return new mi(r,a)},zn=mi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),mi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),mi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Me;for(var a in this._layers){var c=this._layers[a];r.extend(c.getBounds?c.getBounds():c.getLatLng())}return r}}),Bx=function(r,a){return new zn(r,a)},pi=Re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){C(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var c=this._getIconUrl(r);if(!c){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(h,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(r,a){var c=this.options,h=c[a+"Size"];typeof h=="number"&&(h=[h,h]);var p=U(h),y=U(a==="shadow"&&c.shadowAnchor||c.iconAnchor||p&&p.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(c.className||""),y&&(r.style.marginLeft=-y.x+"px",r.style.marginTop=-y.y+"px"),p&&(r.style.width=p.x+"px",r.style.height=p.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return le.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Dx(r){return new pi(r)}var ps=pi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof ps.imagePath!="string"&&(ps.imagePath=this._detectIconPath()),(this.options.imagePath||ps.imagePath)+pi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(c,h,p){var y=h.exec(c);return y&&y[p]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Le("div","leaflet-default-icon-path",document.body),a=ls(r,"background-image")||ls(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Xh=kn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new sr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),be(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,c=a._map,h=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,y=Ar(a._icon),E=c.getPixelBounds(),I=c.getPixelOrigin(),z=ge(E.min._subtract(I).add(p),E.max._subtract(I).subtract(p));if(!z.contains(y)){var Z=U((Math.max(z.max.x,y.x)-z.max.x)/(E.max.x-z.max.x)-(Math.min(z.min.x,y.x)-z.min.x)/(E.min.x-z.min.x),(Math.max(z.max.y,y.y)-z.max.y)/(E.max.y-z.max.y)-(Math.min(z.min.y,y.y)-z.min.y)/(E.min.y-z.min.y)).multiplyBy(h);c.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),Xe(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=K(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,c=a._shadow,h=Ar(a._icon),p=a._map.layerPointToLatLng(h);c&&Xe(c,h),a._latlng=p,r.latlng=p,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Ro=un.extend({options:{icon:new ps,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){C(this,a),this._latlng=se(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=se(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=r.icon.createIcon(this._icon),h=!1;c!==this._icon&&(this._icon&&this._removeIcon(),h=!0,r.title&&(c.title=r.title),c.tagName==="IMG"&&(c.alt=r.alt||"")),be(c,a),r.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(c,"focus",this._panOnFocus,this);var p=r.icon.createShadow(this._shadow),y=!1;p!==this._shadow&&(this._removeShadow(),y=!0),p&&(be(p,a),p.alt=""),this._shadow=p,r.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&y&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Oe(this._icon,"focus",this._panOnFocus,this),$e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$e(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Xe(this._icon,r),this._shadow&&Xe(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xh)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xh(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Yt(this._icon,r),this._shadow&&Yt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,c=a.iconSize?U(a.iconSize):U(0,0),h=a.iconAnchor?U(a.iconAnchor):U(0,0);r.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:c.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Fx(r,a){return new Ro(r,a)}var or=un.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return C(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Io=or.extend({options:{fill:!0,radius:10},initialize:function(r,a){C(this,a),this._latlng=se(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=se(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return or.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,c=this._clickTolerance(),h=[r+c,a+c];this._pxBounds=new ee(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ux(r,a){return new Io(r,a)}var mc=Io.extend({initialize:function(r,a,c){if(typeof a=="number"&&(a=o({},c,{radius:a})),C(this,a),this._latlng=se(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Me(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:or.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,c=this._map,h=c.options.crs;if(h.distance===Ge.distance){var p=Math.PI/180,y=this._mRadius/Ge.R/p,E=c.project([a+y,r]),I=c.project([a-y,r]),z=E.add(I).divideBy(2),Z=c.unproject(z).lat,X=Math.acos((Math.cos(y*p)-Math.sin(a*p)*Math.sin(Z*p))/(Math.cos(a*p)*Math.cos(Z*p)))/p;(isNaN(X)||X===0)&&(X=y/Math.cos(Math.PI/180*a)),this._point=z.subtract(c.getPixelOrigin()),this._radius=isNaN(X)?0:z.x-c.project([Z,r-X]).x,this._radiusY=z.y-E.y}else{var he=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(he).x}this._updateBounds()}});function $x(r,a,c){return new mc(r,a,c)}var Bn=or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){C(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,c=null,h=ms,p,y,E=0,I=this._parts.length;E<I;E++)for(var z=this._parts[E],Z=1,X=z.length;Z<X;Z++){p=z[Z-1],y=z[Z];var he=h(r,p,y,!0);he<a&&(a=he,c=h(r,p,y))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=se(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Me,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],c=Qt(r),h=0,p=r.length;h<p;h++)c?(a[h]=se(r[h]),this._bounds.extend(a[h])):a[h]=this._convertLatLngs(r[h]);return a},_project:function(){var r=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new A(r,r);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,c){var h=r[0]instanceof ve,p=r.length,y,E;if(h){for(E=[],y=0;y<p;y++)E[y]=this._map.latLngToLayerPoint(r[y]),c.extend(E[y]);a.push(E)}else for(y=0;y<p;y++)this._projectLatlngs(r[y],a,c)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,h,p,y,E,I,z;for(c=0,p=0,y=this._rings.length;c<y;c++)for(z=this._rings[c],h=0,E=z.length;h<E-1;h++)I=Jh(z[h],z[h+1],r,h,!0),I&&(a[p]=a[p]||[],a[p].push(I[0]),(I[1]!==z[h+1]||h===E-2)&&(a[p].push(I[1]),p++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,c=0,h=r.length;c<h;c++)r[c]=Vh(r[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var c,h,p,y,E,I,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(c=0,y=this._parts.length;c<y;c++)for(I=this._parts[c],h=0,E=I.length,p=E-1;h<E;p=h++)if(!(!a&&h===0)&&qh(r,I[p],I[h])<=z)return!0;return!1}});function Hx(r,a){return new Bn(r,a)}Bn._flat=Gh;var gi=Bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=Bn.prototype._convertLatLngs.call(this,r),c=a.length;return c>=2&&a[0]instanceof ve&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(r){Bn.prototype._setLatLngs.call(this,r),Qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,c=new A(a,a);if(r=new ee(r.min.subtract(c),r.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,p=this._rings.length,y;h<p;h++)y=Wh(this._rings[h],r,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,c,h,p,y,E,I,z,Z;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(y=0,z=this._parts.length;y<z;y++)for(c=this._parts[y],E=0,Z=c.length,I=Z-1;E<Z;I=E++)h=c[E],p=c[I],h.y>r.y!=p.y>r.y&&r.x<(p.x-h.x)*(r.y-h.y)/(p.y-h.y)+h.x&&(a=!a);return a||Bn.prototype._containsPoint.call(this,r,!0)}});function Wx(r,a){return new gi(r,a)}var Dn=zn.extend({initialize:function(r,a){C(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=j(r)?r:r.features,c,h,p;if(a){for(c=0,h=a.length;c<h;c++)p=a[c],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var y=this.options;if(y.filter&&!y.filter(r))return this;var E=Mo(r,y);return E?(E.feature=zo(r),E.defaultOptions=E.options,this.resetStyle(E),y.onEachFeature&&y.onEachFeature(r,E),this.addLayer(E)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function Mo(r,a){var c=r.type==="Feature"?r.geometry:r,h=c?c.coordinates:null,p=[],y=a&&a.pointToLayer,E=a&&a.coordsToLatLng||pc,I,z,Z,X;if(!h&&!c)return null;switch(c.type){case"Point":return I=E(h),ef(y,r,I,a);case"MultiPoint":for(Z=0,X=h.length;Z<X;Z++)I=E(h[Z]),p.push(ef(y,r,I,a));return new zn(p);case"LineString":case"MultiLineString":return z=Oo(h,c.type==="LineString"?0:1,E),new Bn(z,a);case"Polygon":case"MultiPolygon":return z=Oo(h,c.type==="Polygon"?1:2,E),new gi(z,a);case"GeometryCollection":for(Z=0,X=c.geometries.length;Z<X;Z++){var he=Mo({geometry:c.geometries[Z],type:"Feature",properties:r.properties},a);he&&p.push(he)}return new zn(p);case"FeatureCollection":for(Z=0,X=c.features.length;Z<X;Z++){var je=Mo(c.features[Z],a);je&&p.push(je)}return new zn(p);default:throw new Error("Invalid GeoJSON object.")}}function ef(r,a,c,h){return r?r(a,c):new Ro(c,h&&h.markersInheritOptions&&h)}function pc(r){return new ve(r[1],r[0],r[2])}function Oo(r,a,c){for(var h=[],p=0,y=r.length,E;p<y;p++)E=a?Oo(r[p],a-1,c):(c||pc)(r[p]),h.push(E);return h}function gc(r,a){return r=se(r),r.alt!==void 0?[b(r.lng,a),b(r.lat,a),b(r.alt,a)]:[b(r.lng,a),b(r.lat,a)]}function Ao(r,a,c,h){for(var p=[],y=0,E=r.length;y<E;y++)p.push(a?Ao(r[y],Qt(r[y])?0:a-1,c,h):gc(r[y],h));return!a&&c&&p.length>0&&p.push(p[0].slice()),p}function vi(r,a){return r.feature?o({},r.feature,{geometry:a}):zo(a)}function zo(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var vc={toGeoJSON:function(r){return vi(this,{type:"Point",coordinates:gc(this.getLatLng(),r)})}};Ro.include(vc),mc.include(vc),Io.include(vc),Bn.include({toGeoJSON:function(r){var a=!Qt(this._latlngs),c=Ao(this._latlngs,a?1:0,!1,r);return vi(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),gi.include({toGeoJSON:function(r){var a=!Qt(this._latlngs),c=a&&!Qt(this._latlngs[0]),h=Ao(this._latlngs,c?2:a?1:0,!0,r);return a||(h=[h]),vi(this,{type:(c?"Multi":"")+"Polygon",coordinates:h})}}),mi.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(r).geometry.coordinates)}),vi(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var c=a==="GeometryCollection",h=[];return this.eachLayer(function(p){if(p.toGeoJSON){var y=p.toGeoJSON(r);if(c)h.push(y.geometry);else{var E=zo(y);E.type==="FeatureCollection"?h.push.apply(h,E.features):h.push(E)}}}),c?vi(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function tf(r,a){return new Dn(r,a)}var Zx=tf,Bo=un.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,c){this._url=r,this._bounds=ke(a),C(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&hi(this._image),this},bringToBack:function(){return this._map&&fi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ke(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:Le("img");if(be(a,"leaflet-image-layer"),this._zoomAnimated&&be(a,"leaflet-zoom-animated"),this.options.className&&be(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onload=u(this.fire,this,"load"),a.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Or(this._image,c,a)},_reset:function(){var r=this._image,a=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();Xe(r,a.min),r.style.width=c.x+"px",r.style.height=c.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Vx=function(r,a,c){return new Bo(r,a,c)},nf=Bo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:Le("video");if(be(a,"leaflet-image-layer"),this._zoomAnimated&&be(a,"leaflet-zoom-animated"),this.options.className&&be(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onloadeddata=u(this.fire,this,"load"),r){for(var c=a.getElementsByTagName("source"),h=[],p=0;p<c.length;p++)h.push(c[p].src);this._url=c.length>0?h:[a.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var E=Le("source");E.src=this._url[y],a.appendChild(E)}}});function qx(r,a,c){return new nf(r,a,c)}var rf=Bo.extend({_initImage:function(){var r=this._image=this._url;be(r,"leaflet-image-layer"),this._zoomAnimated&&be(r,"leaflet-zoom-animated"),this.options.className&&be(r,this.options.className),r.onselectstart=g,r.onmousemove=g}});function Kx(r,a,c){return new rf(r,a,c)}var Cn=un.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof ve||j(r))?(this._latlng=se(r),C(this,a)):(C(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(u($e,void 0,this._container),200)):$e(this._container),this.options.interactive&&(Ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=se(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hi(this._container),this},bringToBack:function(){return this._map&&fi(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof zn){a=null;var c=this._source._layers;for(var h in c)if(c[h]._map){a=c[h];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=U(this.options.offset),c=this._getAnchor();this._zoomAnimated?Xe(this._container,r.add(c)):a=a.add(r).add(c);var h=this._containerBottom=-a.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=h+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});Pe.include({_initOverlay:function(r,a,c,h){var p=a;return p instanceof r||(p=new r(h).setContent(a)),c&&p.setLatLng(c),p}}),un.include({_initOverlay:function(r,a,c,h){var p=c;return p instanceof r?(C(p,h),p._source=this):(p=a&&!h?a:new r(h,this),p.setContent(c)),p}});var Do=Cn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Cn.prototype.openOn.call(this,r)},onAdd:function(r){Cn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof or||this._source.on("preclick",zr))},onRemove:function(r){Cn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof or||this._source.off("preclick",zr))},getEvents:function(){var r=Cn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=Le("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Le("div",r+"-content-wrapper",a);if(this._contentNode=Le("div",r+"-content",c),hs(a),oc(this._contentNode),ye(a,"contextmenu",zr),this._tipContainer=Le("div",r+"-tip-container",a),this._tip=Le("div",r+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=Le("a",r+"-close-button",a);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',ye(h,"click",function(p){ct(p),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var c=r.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var h=r.offsetHeight,p=this.options.maxHeight,y="leaflet-popup-scrolled";p&&h>p?(a.height=p+"px",be(r,y)):Ye(r,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),c=this._getAnchor();Xe(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(ls(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,h=this._containerWidth,p=new A(this._containerLeft,-c-this._containerBottom);p._add(Ar(this._container));var y=r.layerPointToContainerPoint(p),E=U(this.options.autoPanPadding),I=U(this.options.autoPanPaddingTopLeft||E),z=U(this.options.autoPanPaddingBottomRight||E),Z=r.getSize(),X=0,he=0;y.x+h+z.x>Z.x&&(X=y.x+h-Z.x+z.x),y.x-X-I.x<0&&(X=y.x-I.x),y.y+c+z.y>Z.y&&(he=y.y+c-Z.y+z.y),y.y-he-I.y<0&&(he=y.y-I.y),(X||he)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([X,he]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jx=function(r,a){return new Do(r,a)};Pe.mergeOptions({closePopupOnClick:!0}),Pe.include({openPopup:function(r,a,c){return this._initOverlay(Do,r,a,c).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),un.include({bindPopup:function(r,a){return this._popup=this._initOverlay(Do,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof zn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Br(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Fo=Cn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Cn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Cn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Cn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Le("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,c,h=this._map,p=this._container,y=h.latLngToContainerPoint(h.getCenter()),E=h.layerPointToContainerPoint(r),I=this.options.direction,z=p.offsetWidth,Z=p.offsetHeight,X=U(this.options.offset),he=this._getAnchor();I==="top"?(a=z/2,c=Z):I==="bottom"?(a=z/2,c=0):I==="center"?(a=z/2,c=Z/2):I==="right"?(a=0,c=Z/2):I==="left"?(a=z,c=Z/2):E.x<y.x?(I="right",a=0,c=Z/2):(I="left",a=z+(X.x+he.x)*2,c=Z/2),r=r.subtract(U(a,c,!0)).add(X).add(he),Ye(p,"leaflet-tooltip-right"),Ye(p,"leaflet-tooltip-left"),Ye(p,"leaflet-tooltip-top"),Ye(p,"leaflet-tooltip-bottom"),be(p,"leaflet-tooltip-"+I),Xe(p,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Yt(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gx=function(r,a){return new Fo(r,a)};Pe.include({openTooltip:function(r,a,c){return this._initOverlay(Fo,r,a,c).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),un.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fo,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof zn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(ye(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ye(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,c,h;this._tooltip.options.sticky&&r.originalEvent&&(c=this._map.mouseEventToContainerPoint(r.originalEvent),h=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(a)}});var sf=pi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),c=this.options;if(c.html instanceof Element?(ko(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var h=U(c.bgPos);a.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Yx(r){return new sf(r)}pi.Default=ps;var gs=un.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){C(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),$e(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof A?r:new A(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,c=-r(-1/0,1/0),h=0,p=a.length,y;h<p;h++)y=a[h].style.zIndex,a[h]!==this._container&&y&&(c=r(c,+y));isFinite(c)&&(this.options.zIndex=c+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){Yt(this._container,this.options.opacity);var r=+new Date,a=!1,c=!1;for(var h in this._tiles){var p=this._tiles[h];if(!(!p.current||!p.loaded)){var y=Math.min(1,(r-p.loaded)/200);Yt(p.el,y),y<1?a=!0:(p.active?c=!0:this._onOpaqueTile(p),p.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(J(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===r?(this._levels[c].el.style.zIndex=a-Math.abs(r-c),this._onUpdateLevel(c)):($e(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var h=this._levels[r],p=this._map;return h||(h=this._levels[r]={},h.el=Le("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=a,h.origin=p.project(p.unproject(p.getPixelOrigin()),r).round(),h.zoom=r,this._setZoomTransform(h,p.getCenter(),p.getZoom()),g(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var r,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var h=a.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)$e(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,c,h){var p=Math.floor(r/2),y=Math.floor(a/2),E=c-1,I=new A(+p,+y);I.z=+E;var z=this._tileCoordsToKey(I),Z=this._tiles[z];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),E>h?this._retainParent(p,y,E,h):!1)},_retainChildren:function(r,a,c,h){for(var p=2*r;p<2*r+2;p++)for(var y=2*a;y<2*a+2;y++){var E=new A(p,y);E.z=c+1;var I=this._tileCoordsToKey(E),z=this._tiles[I];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);c+1<h&&this._retainChildren(p,y,c+1,h)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,c,h){var p=Math.round(a);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var y=this.options.updateWhenZooming&&p!==this._tileZoom;(!h||y)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(r),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],r,a)},_setZoomTransform:function(r,a,c){var h=this._map.getZoomScale(c,r.zoom),p=r.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(a,c)).round();le.any3d?Or(r.el,p,h):Xe(r.el,p)},_resetGrid:function(){var r=this._map,a=r.options.crs,c=this._tileSize=this.getTileSize(),h=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],h).x/c.x),Math.ceil(r.project([0,a.wrapLng[1]],h).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],h).y/c.x),Math.ceil(r.project([a.wrapLat[1],0],h).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),h=a.getZoomScale(c,this._tileZoom),p=a.project(r,this._tileZoom).floor(),y=a.getSize().divideBy(h*2);return new ee(p.subtract(y),p.add(y))},_update:function(r){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(r),p=this._pxBoundsToTileRange(h),y=p.getCenter(),E=[],I=this.options.keepBuffer,z=new ee(p.getBottomLeft().subtract([I,-I]),p.getTopRight().add([I,-I]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var X=this._tiles[Z].coords;(X.z!==this._tileZoom||!z.contains(new A(X.x,X.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(r,c);return}for(var he=p.min.y;he<=p.max.y;he++)for(var je=p.min.x;je<=p.max.x;je++){var bt=new A(je,he);if(bt.z=this._tileZoom,!!this._isValidTile(bt)){var ot=this._tiles[this._tileCoordsToKey(bt)];ot?ot.current=!0:E.push(bt)}}if(E.sort(function(Tt,yi){return Tt.distanceTo(y)-yi.distanceTo(y)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xt=document.createDocumentFragment();for(je=0;je<E.length;je++)this._addTile(E[je],Xt);this._level.el.appendChild(Xt)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(r.x<c.min.x||r.x>c.max.x)||!a.wrapLat&&(r.y<c.min.y||r.y>c.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(r);return ke(this.options.bounds).overlaps(h)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,c=this.getTileSize(),h=r.scaleBy(c),p=h.add(c),y=a.unproject(h,r.z),E=a.unproject(p,r.z);return[y,E]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),c=new Me(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),c=new A(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(r){var a=this._tiles[r];a&&($e(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){be(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=g,r.onmousemove=g,le.ielt9&&this.options.opacity<1&&Yt(r,this.options.opacity)},_addTile:function(r,a){var c=this._getTilePos(r),h=this._tileCoordsToKey(r),p=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(p),this.createTile.length<2&&K(u(this._tileReady,this,r,null,p)),Xe(p,c),this._tiles[h]={el:p,coords:r,current:!0},a.appendChild(p),this.fire("tileloadstart",{tile:p,coords:r})},_tileReady:function(r,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:r});var h=this._tileCoordsToKey(r);c=this._tiles[h],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Yt(c.el,0),J(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(be(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new A(this._wrapX?x(r.x,this._wrapX):r.x,this._wrapY?x(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new ee(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Qx(r){return new gs(r)}var xi=gs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=C(this,a),a.detectRetina&&le.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var c=document.createElement("img");return ye(c,"load",u(this._tileOnLoad,this,a,c)),ye(c,"error",u(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(r),c},getTileUrl:function(r){var a={r:le.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=c),a["-y"]=c}return w(this._url,o(a,this.options))},_tileOnLoad:function(r,a){le.ielt9?setTimeout(u(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,c){var h=this.options.errorTileUrl;h&&a.getAttribute("src")!==h&&(a.src=h),r(c,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,h=this.options.zoomOffset;return c&&(r=a-r),r+h},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=g,a.onerror=g,!a.complete)){a.src=O;var c=this._tiles[r].coords;$e(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",O),gs.prototype._removeTile.call(this,r)},_tileReady:function(r,a,c){if(!(!this._map||c&&c.getAttribute("src")===O))return gs.prototype._tileReady.call(this,r,a,c)}});function of(r,a){return new xi(r,a)}var af=xi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var c=o({},this.defaultWmsParams);for(var h in a)h in this.options||(c[h]=a[h]);a=C(this,a);var p=a.detectRetina&&le.retina?2:1,y=this.getTileSize();c.width=y.x*p,c.height=y.y*p,this.wmsParams=c},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,xi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),c=this._crs,h=ge(c.project(a[0]),c.project(a[1])),p=h.min,y=h.max,E=(this._wmsVersion>=1.3&&this._crs===Qh?[p.y,p.x,y.y,y.x]:[p.x,p.y,y.x,y.y]).join(","),I=xi.prototype.getTileUrl.call(this,r);return I+P(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(r,a){return o(this.wmsParams,r),a||this.redraw(),this}});function Xx(r,a){return new af(r,a)}xi.WMS=af,of.wms=Xx;var Fn=un.extend({options:{padding:.1},initialize:function(r){C(this,r),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var c=this._map.getZoomScale(a,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,a),y=h.multiplyBy(-c).add(p).subtract(this._map._getNewPixelOrigin(r,a));le.any3d?Or(this._container,y,c):Xe(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new ee(c,c.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lf=Fn.extend({options:{tolerance:0},getEvents:function(){var r=Fn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ye(r,"mousemove",this._onMouseMove,this),ye(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ye(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,$e(this._container),Oe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fn.prototype._update.call(this);var r=this._bounds,a=this._container,c=r.getSize(),h=le.retina?2:1;Xe(a,r.min),a.width=h*c.x,a.height=h*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Fn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[f(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,c=a.next,h=a.prev;c?c.prev=h:this._drawLast=h,h?h.next=c:this._drawFirst=c,delete r._order,delete this._layers[f(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),c=[],h,p;for(p=0;p<a.length;p++){if(h=Number(a[p]),isNaN(h))return;c.push(h)}r.options._dashArray=c}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)r=h.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var c,h,p,y,E=r._parts,I=E.length,z=this._ctx;if(I){for(z.beginPath(),c=0;c<I;c++){for(h=0,p=E[c].length;h<p;h++)y=E[c][h],z[h?"lineTo":"moveTo"](y.x,y.y);a&&z.closePath()}this._fillStroke(z,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,c=this._ctx,h=Math.max(Math.round(r._radius),1),p=(Math.max(Math.round(r._radiusY),1)||h)/h;p!==1&&(c.save(),c.scale(1,p)),c.beginPath(),c.arc(a.x,a.y/p,h,0,Math.PI*2,!1),p!==1&&c.restore(),this._fillStroke(c,r)}},_fillStroke:function(r,a){var c=a.options;c.fill&&(r.globalAlpha=c.fillOpacity,r.fillStyle=c.fillColor||c.color,r.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=c.opacity,r.lineWidth=c.weight,r.strokeStyle=c.color,r.lineCap=c.lineCap,r.lineJoin=c.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),c,h,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(c))&&(h=c);this._fireEvent(h?[h]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(Ye(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var c,h,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(h=c);h!==this._hoveredLayer&&(this._handleMouseOut(r),h&&(be(this._container,"leaflet-interactive"),this._fireEvent([h],r,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,c){this._map._fireDOMEvent(a,c||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var c=a.next,h=a.prev;if(c)c.prev=h;else return;h?h.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var c=a.next,h=a.prev;if(h)h.next=c;else return;c?c.prev=h:h&&(this._drawLast=h),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function cf(r){return le.canvas?new lf(r):null}var vs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ey={_initContainer:function(){this._container=Le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=vs("shape");be(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=vs("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[f(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;$e(a),r.removeInteractiveTarget(a),delete this._layers[f(r)]},_updateStyle:function(r){var a=r._stroke,c=r._fill,h=r.options,p=r._container;p.stroked=!!h.stroke,p.filled=!!h.fill,h.stroke?(a||(a=r._stroke=vs("stroke")),p.appendChild(a),a.weight=h.weight+"px",a.color=h.color,a.opacity=h.opacity,h.dashArray?a.dashStyle=j(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=h.lineCap.replace("butt","flat"),a.joinstyle=h.lineJoin):a&&(p.removeChild(a),r._stroke=null),h.fill?(c||(c=r._fill=vs("fill")),p.appendChild(c),c.color=h.fillColor||h.color,c.opacity=h.fillOpacity):c&&(p.removeChild(c),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),c=Math.round(r._radius),h=Math.round(r._radiusY||c);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+h+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){hi(r._container)},_bringToBack:function(r){fi(r._container)}},Uo=le.vml?vs:xe,xs=Fn.extend({_initContainer:function(){this._container=Uo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Uo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$e(this._container),Oe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fn.prototype._update.call(this);var r=this._bounds,a=r.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),Xe(c,r.min),c.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=Uo("path");r.options.className&&be(a,r.options.className),r.options.interactive&&be(a,"leaflet-interactive"),this._updateStyle(r),this._layers[f(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){$e(r._path),r.removeInteractiveTarget(r._path),delete this._layers[f(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,c=r.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,Dt(r._parts,a))},_updateCircle:function(r){var a=r._point,c=Math.max(Math.round(r._radius),1),h=Math.max(Math.round(r._radiusY),1)||c,p="a"+c+","+h+" 0 1,0 ",y=r._empty()?"M0 0":"M"+(a.x-c)+","+a.y+p+c*2+",0 "+p+-c*2+",0 ";this._setPath(r,y)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){hi(r._path)},_bringToBack:function(r){fi(r._path)}});le.vml&&xs.include(ey);function uf(r){return le.svg||le.vml?new xs(r):null}Pe.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&cf(r)||uf(r)}});var df=gi.extend({initialize:function(r,a){gi.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ke(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function ty(r,a){return new df(r,a)}xs.create=Uo,xs.pointsToPath=Dt,Dn.geometryToLayer=Mo,Dn.coordsToLatLng=pc,Dn.coordsToLatLngs=Oo,Dn.latLngToCoords=gc,Dn.latLngsToCoords=Ao,Dn.getFeature=vi,Dn.asFeature=zo,Pe.mergeOptions({boxZoom:!0});var hf=kn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Oe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),cs(),Ql(),this._startPoint=this._map.mouseEventToContainerPoint(r),ye(document,{contextmenu:Br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Le("div","leaflet-zoom-box",this._container),be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new ee(this._point,this._startPoint),c=a.getSize();Xe(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&($e(this._box),Ye(this._container,"leaflet-crosshair")),us(),Xl(),Oe(document,{contextmenu:Br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var a=new Me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pe.addInitHook("addHandler","boxZoom",hf),Pe.mergeOptions({doubleClickZoom:!0});var ff=kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,c=a.getZoom(),h=a.options.zoomDelta,p=r.originalEvent.shiftKey?c-h:c+h;a.options.doubleClickZoom==="center"?a.setZoom(p):a.setZoomAround(r.containerPoint,p)}});Pe.addInitHook("addHandler","doubleClickZoom",ff),Pe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mf=kn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new sr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ye(this._map._container,"leaflet-grab"),Ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ke(this._map.options.maxBounds);this._offsetLimit=ge(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),c=this._initialWorldOffset,h=this._draggable._newPos.x,p=(h-a+c)%r+a-c,y=(h+a+c)%r-a-c,E=Math.abs(p+c)<Math.abs(y+c)?p:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(r){var a=this._map,c=a.options,h=!c.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),h)a.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,E=c.easeLinearity,I=p.multiplyBy(E/y),z=I.distanceTo([0,0]),Z=Math.min(c.inertiaMaxSpeed,z),X=I.multiplyBy(Z/z),he=Z/(c.inertiaDeceleration*E),je=X.multiplyBy(-he/2).round();!je.x&&!je.y?a.fire("moveend"):(je=a._limitOffset(je,a.options.maxBounds),K(function(){a.panBy(je,{duration:he,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});Pe.addInitHook("addHandler","dragging",mf),Pe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pf=kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ye(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Oe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,c=r.scrollTop||a.scrollTop,h=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(h,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},c=this.keyCodes,h,p;for(h=0,p=c.left.length;h<p;h++)a[c.left[h]]=[-1*r,0];for(h=0,p=c.right.length;h<p;h++)a[c.right[h]]=[r,0];for(h=0,p=c.down.length;h<p;h++)a[c.down[h]]=[0,r];for(h=0,p=c.up.length;h<p;h++)a[c.up[h]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},c=this.keyCodes,h,p;for(h=0,p=c.zoomIn.length;h<p;h++)a[c.zoomIn[h]]=r;for(h=0,p=c.zoomOut.length;h<p;h++)a[c.zoomOut[h]]=-r},_addHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Oe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,c=this._map,h;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(h=this._panKeys[a],r.shiftKey&&(h=U(h).multiplyBy(3)),c.options.maxBounds&&(h=c._limitOffset(U(h),c.options.maxBounds)),c.options.worldCopyJump){var p=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(h)));c.panTo(p)}else c.panBy(h)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Br(r)}}});Pe.addInitHook("addHandler","keyboard",pf),Pe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gf=kn.extend({addHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Oe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=Dh(r),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var h=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),h),Br(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),c=this._map.options.zoomSnap||0;r._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,y=c?Math.ceil(p/c)*c:p,E=r._limitZoom(a+(this._delta>0?y:-y))-a;this._delta=0,this._startTime=null,E&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+E):r.setZoomAround(this._lastMousePos,a+E))}});Pe.addInitHook("addHandler","scrollWheelZoom",gf);var ny=600;Pe.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15});var vf=kn.extend({addHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Oe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new A(a.clientX,a.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ye(document,"touchend",ct),ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),ny),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Oe(document,"touchend",ct),Oe(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Oe(document,"touchend touchcancel contextmenu",this._cancel,this),Oe(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new A(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var c=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});Pe.addInitHook("addHandler","tapHold",vf),Pe.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0});var xf=kn.extend({addHooks:function(){be(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ye(this._map._container,"leaflet-touch-zoom"),Oe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(r.touches[0]),h=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(h)._divideBy(2))),this._startDist=c.distanceTo(h),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),ct(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(r.touches[0]),h=a.mouseEventToContainerPoint(r.touches[1]),p=c.distanceTo(h)/this._startDist;if(this._zoom=a.getScaleZoom(p,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&p<1||this._zoom>a.getMaxZoom()&&p>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var y=c._add(h)._divideBy(2)._subtract(this._centerPoint);if(p===1&&y.x===0&&y.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var E=u(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(E,this,!0),ct(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),Oe(document,"touchmove",this._onTouchMove,this),Oe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pe.addInitHook("addHandler","touchZoom",xf),Pe.BoxZoom=hf,Pe.DoubleClickZoom=ff,Pe.Drag=mf,Pe.Keyboard=pf,Pe.ScrollWheelZoom=gf,Pe.TapHold=vf,Pe.TouchZoom=xf,n.Bounds=ee,n.Browser=le,n.CRS=ue,n.Canvas=lf,n.Circle=mc,n.CircleMarker=Io,n.Class=Re,n.Control=cn,n.DivIcon=sf,n.DivOverlay=Cn,n.DomEvent=_x,n.DomUtil=xx,n.Draggable=sr,n.Evented=H,n.FeatureGroup=zn,n.GeoJSON=Dn,n.GridLayer=gs,n.Handler=kn,n.Icon=pi,n.ImageOverlay=Bo,n.LatLng=ve,n.LatLngBounds=Me,n.Layer=un,n.LayerGroup=mi,n.LineUtil=Ix,n.Map=Pe,n.Marker=Ro,n.Mixin=Cx,n.Path=or,n.Point=A,n.PolyUtil=Px,n.Polygon=gi,n.Polyline=Bn,n.Popup=Do,n.PosAnimation=Fh,n.Projection=Mx,n.Rectangle=df,n.Renderer=Fn,n.SVG=xs,n.SVGOverlay=rf,n.TileLayer=xi,n.Tooltip=Fo,n.Transformation=ft,n.Util=fe,n.VideoOverlay=nf,n.bind=u,n.bounds=ge,n.canvas=cf,n.circle=$x,n.circleMarker=Ux,n.control=fs,n.divIcon=Yx,n.extend=o,n.featureGroup=Bx,n.geoJSON=tf,n.geoJson=Zx,n.gridLayer=Qx,n.icon=Dx,n.imageOverlay=Vx,n.latLng=se,n.latLngBounds=ke,n.layerGroup=zx,n.map=wx,n.marker=Fx,n.point=U,n.polygon=Wx,n.polyline=Hx,n.popup=Jx,n.rectangle=ty,n.setOptions=C,n.stamp=f,n.svg=uf,n.svgOverlay=Kx,n.tileLayer=of,n.tooltip=Gx,n.transformation=mt,n.version=i,n.videoOverlay=qx;var ry=window.L;n.noConflict=function(){return window.L=ry,this},window.L=n})})(fd,fd.exports);var ss=fd.exports;const Bt=pd(ss);function Wl(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Zl(e,t){return t==null?function(i,o){const l=v.useRef();return l.current||(l.current=e(i,o)),l}:function(i,o){const l=v.useRef();l.current||(l.current=e(i,o));const u=v.useRef(i),{instance:d}=l.current;return v.useEffect(function(){u.current!==i&&(t(d,i,u.current),u.current=i)},[d,i,o]),l}}function Uv(e,t){v.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function $v(e){return function(n){const i=$l(),o=e(Hl(n,i),i);return Av(i.map,n.attribution),wh(o.current,n.eventHandlers),Uv(o.current,i),o}}function jN(e,t){const n=v.useRef();v.useEffect(function(){if(t.pathOptions!==n.current){const o=t.pathOptions??{};e.instance.setStyle(o),n.current=o}},[e,t])}function NN(e){return function(n){const i=$l(),o=e(Hl(n,i),i);return wh(o.current,n.eventHandlers),Uv(o.current,i),jN(o.current,n),o}}function SN(e,t){const n=Zl(e,t),i=$v(n);return Fv(i)}function kN(e,t){const n=Zl(e),i=bN(n,t);return _N(i)}function CN(e,t){const n=Zl(e,t),i=NN(n);return Fv(i)}function PN(e,t){const n=Zl(e,t),i=$v(n);return wN(i)}function EN(e,t,n){const{opacity:i,zIndex:o}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function bh(){return $l().map}function Hv(e){const t=bh();return v.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function md(){return md=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},md.apply(this,arguments)}function LN({bounds:e,boundsOptions:t,center:n,children:i,className:o,id:l,placeholder:u,style:d,whenReady:f,zoom:m,...x},g){const[b]=v.useState({className:o,id:l,style:d}),[k,N]=v.useState(null);v.useImperativeHandle(g,()=>(k==null?void 0:k.map)??null,[k]);const C=v.useCallback(_=>{if(_!==null&&k===null){const w=new ss.Map(_,x);n!=null&&m!=null?w.setView(n,m):e!=null&&w.fitBounds(e,t),f!=null&&w.whenReady(f),N(yN(w))}},[]);v.useEffect(()=>()=>{k==null||k.map.remove()},[k]);const P=k?Ne.createElement(Dv,{value:k},i):u??null;return Ne.createElement("div",md({},b,{ref:C}),P)}const Fi=v.forwardRef(LN),Jn=SN(function({position:t,...n},i){const o=new ss.Marker(t,n);return Wl(o,zv(i,{overlayContainer:o}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),TN=CN(function({positions:t,...n},i){const o=new ss.Polyline(t,n);return Wl(o,zv(i,{overlayContainer:o}))},function(t,n,i){n.positions!==i.positions&&t.setLatLngs(n.positions)}),Lr=kN(function(t,n){const i=new ss.Popup(t,n.overlayContainer);return Wl(i,n)},function(t,n,{position:i},o){v.useEffect(function(){const{instance:u}=t;function d(m){m.popup===u&&(u.update(),o(!0))}function f(m){m.popup===u&&o(!1)}return n.map.on({popupopen:d,popupclose:f}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var x;n.map.off({popupopen:d,popupclose:f}),(x=n.overlayContainer)==null||x.unbindPopup(),n.map.removeLayer(u)}},[t,n,o,i])}),Ui=PN(function({url:t,...n},i){const o=new ss.TileLayer(t,Hl(n,i));return Wl(o,i)},function(t,n,i){EN(t,n,i);const{url:o}=n;o!=null&&o!==i.url&&t.setUrl(o)});class RN{constructor(){this.socket=null,this.API_URL="http://localhost:8000/api",this.bookingCache=new Map}initialize(t){return this.socket=t,this.loadBookingsFromLocalStorage(),this}registerSocketEvents(t){if(!this.socket){console.error("Socket not initialized");return}return["newBookingRequest","bookingConfirmed","bookingConfirmedByUser","problemDescriptionReceived","jobStartedSuccess","userCompletedJob","jobCompleted","reviewReceived","bookingAccepted","bookingDeclined"].forEach(i=>{t[i]&&this.socket.on(i,t[i])}),this}createBookingRequest(t){if(!this.socket)return Promise.reject("Socket not available");const n={...t,requestTime:new Date().toISOString(),status:"pending",bookingId:this.generateBookingId(t.userId,t.providerId),estimatedPrice:this.calculateEstimatedPrice(t.service,t.durationHours||1),scheduledTime:t.scheduledTime||new Date().toISOString()};return this.saveBookingToCache(n),new Promise((i,o)=>{const l=setTimeout(()=>{o("Request timed out. Please try again.")},1e4);this.socket.emit("sendBookingRequest",n),clearTimeout(l),i(n)})}confirmBooking(t){return this.socket?(this.updateBookingStatus(t,"confirmed"),this.socket.emit("confirmBooking",{bookingId:t}),Promise.resolve({success:!0,bookingId:t})):Promise.reject("Socket not available")}completeJobByUser(t){return this.socket?(this.updateBookingStatus(t,"completed-by-user"),this.socket.emit("completeJob",{bookingId:t,completedBy:"user"}),Promise.resolve({success:!0,bookingId:t})):Promise.reject("Socket not available")}submitPayment(t,n){return this.socket?(this.updateBookingStatus(t,"paid"),this.socket.emit("submitPayment",{bookingId:t,amount:n}),Promise.resolve({success:!0,bookingId:t,amount:n})):Promise.reject("Socket not available")}submitReview(t,n,i){return this.socket?n<1||n>5?Promise.reject("Invalid rating. Must be between 1 and 5."):(this.updateBookingStatus(t,"reviewed"),this.socket.emit("submitReview",{bookingId:t,rating:n,comment:i}),Promise.resolve({success:!0,bookingId:t,rating:n})):Promise.reject("Socket not available")}getUserBookingHistory(t,n={}){return oe.get(`${this.API_URL}/bookings/user/${t}`,{params:n}).then(i=>i.data.success?(i.data.bookings.forEach(o=>{this.saveBookingToCache(o)}),i.data.bookings):[]).catch(i=>{console.error("Error fetching booking history:",i);const o=this.getBookingsFromCache().filter(l=>l.userId===t&&this.matchesFilters(l,n));if(o.length>0)return o;throw i})}acceptBookingRequest(t,n={}){if(!this.socket)return Promise.reject("Socket not available");this.updateBookingStatus(t,"accepted");const i={bookingId:t,providerLocation:n.location,estimatedArrival:n.eta};return this.socket.emit("acceptBooking",i),Promise.resolve({success:!0,bookingId:t})}declineBookingRequest(t,n=""){return this.socket?(this.updateBookingStatus(t,"declined"),this.socket.emit("declineBooking",{bookingId:t,reason:n}),Promise.resolve({success:!0,bookingId:t})):Promise.reject("Socket not available")}startJob(t){return this.socket?(this.updateBookingStatus(t,"in-progress"),this.socket.emit("startJob",{bookingId:t,startTime:new Date().toISOString()}),Promise.resolve({success:!0,bookingId:t})):Promise.reject("Socket not available")}completeJobByProvider(t,n={}){if(!this.socket)return Promise.reject("Socket not available");this.updateBookingStatus(t,"completed-by-provider");const i={bookingId:t,completedBy:"provider",endTime:new Date().toISOString(),jobDuration:n.duration||1,totalCharge:n.totalCharge,materials:n.materials||[]};return this.socket.emit("completeJob",i),Promise.resolve({success:!0,bookingId:t})}getProviderServiceHistory(t,n={}){return oe.get(`${this.API_URL}/bookings/provider/${t}`,{params:n}).then(i=>i.data.success?(i.data.bookings.forEach(o=>{this.saveBookingToCache(o)}),i.data.bookings):[]).catch(i=>{console.error("Error fetching provider history:",i);const o=this.getBookingsFromCache().filter(l=>l.providerId===t&&this.matchesFilters(l,n));if(o.length>0)return o;throw i})}generateBookingId(t,n){return`${t}-${n}-${Date.now()}`}calculateEstimatedPrice(t,n=1){if(n<=1)return 200;const o=n-1;return 200+Math.ceil(o)*200}calculateETA(t){return Math.ceil(t*(60/30))}calculateDistance(t,n,i,o){const u=this.deg2rad(i-t),d=this.deg2rad(o-n),f=Math.sin(u/2)*Math.sin(u/2)+Math.cos(this.deg2rad(t))*Math.cos(this.deg2rad(i))*Math.sin(d/2)*Math.sin(d/2);return(6371*(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)))).toFixed(1)}deg2rad(t){return t*(Math.PI/180)}saveBookingToCache(t){this.bookingCache.set(t.bookingId,t),this.persistBookings()}updateBookingStatus(t,n){const i=this.bookingCache.get(t);i&&(i.status=n,i.updatedAt=new Date().toISOString(),this.saveBookingToCache(i))}getBookingsFromCache(){return Array.from(this.bookingCache.values())}matchesFilters(t,n){if(!n||Object.keys(n).length===0)return!0;let i=!0;if(n.status&&t.status!==n.status&&(i=!1),n.fromDate){const o=new Date(n.fromDate);new Date(t.requestTime)<o&&(i=!1)}if(n.toDate){const o=new Date(n.toDate);new Date(t.requestTime)>o&&(i=!1)}return i}persistBookings(){try{const t=this.getBookingsFromCache();localStorage.setItem("bookings",JSON.stringify(t))}catch(t){console.error("Error saving bookings to localStorage:",t)}}loadBookingsFromLocalStorage(){try{const t=localStorage.getItem("bookings");t&&JSON.parse(t).forEach(i=>{this.bookingCache.set(i.bookingId,i)})}catch(t){console.error("Error loading bookings from localStorage:",t)}}getBookingById(t){const n=this.bookingCache.get(t);return oe.get(`${this.API_URL}/bookings/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(i=>{if(i.data.success){const o=i.data.booking;return this.saveBookingToCache(o),o}throw new Error("Booking not found")}).catch(i=>{if(console.error("Error fetching booking details:",i),n)return console.log("Using cached booking data"),n;throw i})}cancelBooking(t,n="",i="user"){if(!this.socket)return Promise.reject("Socket not available");this.updateBookingStatus(t,"cancelled");const o={bookingId:t,reason:n,cancelledBy:i,cancelTime:new Date().toISOString()};return this.socket.emit("cancelBooking",o),Promise.resolve({success:!0,bookingId:t})}}const La=new RN,Qc="http://localhost:8000/api";class IN{constructor(){this.token=localStorage.getItem("token")||""}getConfig(){return{headers:{Authorization:`Bearer ${this.token}`}}}updateToken(t){this.token=t}async initiateEsewaPayment(t){var n,i;try{return console.log("Initiating eSewa payment for booking:",t),(await oe.post(`${Qc}/payments/esewa/initiate`,{bookingId:t},this.getConfig())).data}catch(o){throw console.error("eSewa payment error details:",o),o.response&&console.error("Error response:",o.response.data),((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to initiate eSewa payment"}}async markAsCashPayment(t){var n,i;try{return(await oe.post(`${Qc}/payments/cash/complete`,{bookingId:t},this.getConfig())).data}catch(o){throw((i=(n=o.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to mark as cash payment"}}async getPaymentStatus(t){var n,i,o,l,u;try{return(await oe.get(`${Qc}/payments/status/${t}`,this.getConfig())).data}catch(d){throw console.error("Payment status error:",(n=d.response)==null?void 0:n.status,(i=d.response)==null?void 0:i.data),((o=d.response)==null?void 0:o.status)===404?"Payment information not found. The transaction may still be processing.":((u=(l=d.response)==null?void 0:l.data)==null?void 0:u.message)||"Failed to get payment status"}}submitEsewaForm(t,n){const i=document.createElement("form");i.method="POST",i.action=t,i.style.display="none",Object.entries(n).forEach(([o,l])=>{const u=document.createElement("input");u.type="hidden",u.name=o,u.value=l,i.appendChild(u)}),document.body.appendChild(i),i.submit(),setTimeout(()=>{document.body.removeChild(i)},1e3)}}const Qr=new IN,MN="data:image/png;base64,",ON=({booking:e})=>{const[t,n]=v.useState(!1),[i,o]=v.useState(""),l=Je(),u=f=>{o(f)},d=async()=>{if(!i){Q.error("Please select a payment method");return}try{if(n(!0),i==="cash"){const f=await Qr.markAsCashPayment(e._id);Q.success("Booking marked as paid by cash"),localStorage.setItem("showReviewForm","true"),localStorage.setItem("reviewBookingId",e._id),e.providerId&&(localStorage.setItem("reviewProviderId",e.providerId._id||e.providerId),localStorage.setItem("reviewProviderName",e.providerId.name||"Service Provider")),l("/dashboard")}else if(i==="esewa"){const f=await Qr.initiateEsewaPayment(e._id);if(f.success)Qr.submitEsewaForm(f.paymentUrl,f.formData),Q.info("Processing payment with eSewa. Please complete the payment process.");else throw new Error(f.message||"Failed to initiate eSewa payment")}}catch(f){console.error("Payment error:",f),Q.error(f.message||"Payment processing failed")}finally{n(!1)}};return e?s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-md mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Choose Payment Method"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Service Charge:"}),s.jsxs("span",{className:"font-semibold",children:["Rs. ",e.charge||e.hourlyCharge||200]})]}),(e.materialsCost>0||e.materialCost>0)&&s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Materials Cost:"}),s.jsxs("span",{className:"font-semibold",children:["Rs. ",e.materialsCost||e.materialCost||0]})]}),e.additionalCharge>0&&s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Additional Charges:"}),s.jsxs("span",{className:"font-semibold",children:["Rs. ",e.additionalCharge||0]})]}),s.jsxs("div",{className:"flex justify-between mt-2 pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-gray-700 font-semibold",children:"Total Amount:"}),s.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["Rs. ",e.totalCharge||e.maintenancePrice||(e.charge||e.hourlyCharge||200)+(e.materialsCost||e.materialCost||0)+(e.additionalCharge||0)]})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${i==="cash"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>u("cash"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6 h-6 border border-gray-300 rounded-full flex items-center justify-center mr-3",children:i==="cash"&&s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:"Cash Payment"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Pay directly to the service provider"})]})]})}),s.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${i==="esewa"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,onClick:()=>u("esewa"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6 h-6 border border-gray-300 rounded-full flex items-center justify-center mr-3",children:i==="esewa"&&s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"})}),s.jsxs("div",{className:"flex-1 flex items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"eSewa"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Pay online using eSewa"})]}),s.jsx("div",{className:"ml-auto",children:s.jsx("img",{src:MN,alt:"eSewa",className:"h-8",onError:f=>{f.target.onerror=null,f.target.src="https://esewa.com.np/common/images/esewa_logo.png"}})})]})]})})]}),s.jsx("button",{className:"w-full py-3 px-4 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",onClick:d,disabled:!i||t,children:t?"Processing...":i==="esewa"?"Pay with eSewa":i==="cash"?"Confirm Cash Payment":"Proceed to Payment"})]}):s.jsx("div",{className:"p-4 text-center",children:"No booking information available"})},AN=({booking:e})=>!e||!(["completed","completed-by-user","completed-by-provider"].includes(e.status)&&e.paymentStatus!=="completed")?null:s.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-center",children:"Payment Required"}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-6",children:s.jsx("p",{className:"text-yellow-800",children:"Your service has been completed. Please select a payment method to complete the booking."})}),s.jsx(ON,{booking:e})]});delete Bt.Icon.Default.prototype._getIconUrl;Bt.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const zN=new Bt.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),BN=new Bt.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),DN=({center:e})=>{const t=bh();return v.useEffect(()=>{e&&t.setView(e,13)},[e,t]),null},FN=({booking:e,onStartJob:t})=>{var g,b,k;const{user:n}=Pt(),[i,o]=v.useState(null),[l,u]=v.useState(null),d=v.useRef(null);v.useEffect(()=>{e&&(e.userLocation?typeof e.userLocation=="string"?o({address:e.userLocation,coordinates:null}):e.userLocation.lat&&e.userLocation.lng&&o({address:e.userLocationName||"User Location",coordinates:[e.userLocation.lat,e.userLocation.lng]}):e.location&&e.location.address&&o({address:e.location.address,coordinates:e.location.coordinates?[e.location.coordinates.lat,e.location.coordinates.lng]:null}),e.providerLocation&&u({address:e.providerLocationName||"Your Location",coordinates:[e.providerLocation.lat,e.providerLocation.lng]}))},[e]);const f=()=>{let N="";if(i?i.coordinates?N=`${i.coordinates[0]},${i.coordinates[1]}`:i.address&&(N=i.address):e.userLocation?typeof e.userLocation=="string"?N=e.userLocation:e.userLocation.lat&&e.userLocation.lng&&(N=`${e.userLocation.lat},${e.userLocation.lng}`):e.location&&(e.location.address?N=e.location.address:e.location.coordinates&&e.location.coordinates.lat&&(N=`${e.location.coordinates.lat},${e.location.coordinates.lng}`)),!N){Q.error("User location not available for navigation");return}const C=encodeURIComponent(N);window.open(`https://www.google.com/maps/dir/?api=1&destination=${C}`,"_blank")},x=i&&i.coordinates?i.coordinates:l&&l.coordinates?l.coordinates:[27.7172,85.3238];return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Booking Confirmed"}),s.jsxs("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-blue-100 rounded-full mr-2",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Your Location:"}),s.jsx("p",{className:"font-medium",children:(l==null?void 0:l.address)||(e==null?void 0:e.providerLocationName)||"Current Location"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-green-100 rounded-full mr-2",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"User Location:"}),s.jsx("p",{className:"font-medium",children:(i==null?void 0:i.address)||(e==null?void 0:e.userLocationName)||(e==null?void 0:e.userAddress)||"User Location"})]})]})]}),s.jsxs("div",{className:"mb-4 space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Service:"})," ",(e==null?void 0:e.service)||((g=e==null?void 0:e.details)==null?void 0:g.service)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",(e==null?void 0:e.userPhone)||((b=e==null?void 0:e.details)==null?void 0:b.userPhone)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Location:"})," ",(i==null?void 0:i.address)||(e==null?void 0:e.userLocationName)||(e==null?void 0:e.userAddress)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"User's Description:"})," ",(e==null?void 0:e.description)||((k=e==null?void 0:e.details)==null?void 0:k.description)]})]}),s.jsx("div",{className:"mb-5 rounded overflow-hidden h-64 border border-gray-300",children:s.jsxs(Fi,{center:x,zoom:13,style:{height:"100%",width:"100%"},ref:d,children:[s.jsx(Ui,{attribution:' <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(DN,{center:x}),i&&i.coordinates&&s.jsx(Jn,{position:i.coordinates,icon:BN,children:s.jsxs(Lr,{children:["User Location: ",i.address]})}),l&&l.coordinates&&s.jsx(Jn,{position:l.coordinates,icon:zN,children:s.jsxs(Lr,{children:["Your Location: ",l.address]})})]})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 bg-indigo-600 text-white py-3 rounded-md hover:bg-indigo-700 transition-colors",onClick:f,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),"Open in Google Maps"]}),s.jsx("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-md hover:bg-green-700 transition-colors",onClick:t,children:"Start Job"})]}),n.role==="user"&&s.jsx(AN,{booking:e})]})},UN="https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",$N="https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png";let HN=Bt.icon({iconUrl:UN,shadowUrl:$N,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});Bt.Marker.prototype.options.icon=HN;const jh=(e,t="normal")=>{const n=t==="large"?1.3:t==="small"?.8:1;return new Bt.Icon({iconUrl:`https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${e}.png`,shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25*n,41*n],iconAnchor:[12*n,41*n],popupAnchor:[1,-34],shadowSize:[41*n,41*n]})},WN=jh("red"),ZN=jh("blue","large"),VN=jh("gray","small"),Es={lat:27.7172,lng:85.3238};function Wv({position:e,zoom:t}){const n=bh();return v.useEffect(()=>{e&&n.setView(e,t)},[n,e,t]),null}Wv.propTypes={position:De.object,zoom:De.number};const Zv=({bookingDetails:e,showDirections:t=!1,serviceProviders:n=[],onPositionUpdate:i=null,setBookingDetails:o,bookingState:l,showOnlyUserLocation:u=!1})=>{const[d,f]=v.useState(()=>{const te=localStorage.getItem("userCurrentPosition");return te?JSON.parse(te):Es}),[m,x]=v.useState(()=>{const te=localStorage.getItem("activeServiceProviderLocation");return te?JSON.parse(te):null}),[g,b]=v.useState([]),[k,N]=v.useState(!1),[C,P]=v.useState(t),[_,w]=v.useState([]),[j,S]=v.useState(!1),[O,$]=v.useState(null),[M,T]=v.useState(null),[q,F]=v.useState(!1),[K,J]=v.useState(null),[fe,Re]=v.useState("idle"),[pe,ae]=v.useState([]),[H,A]=v.useState(!1),[G,U]=v.useState(!1),ee=v.useRef(null),ge=v.useRef(null),Me=v.useRef(null);v.useRef(0);const ke=v.useRef(0),ve=v.useRef(null);v.useRef(!0);const{socket:se}=v.useContext(is)||{},{user:ue}=Pt()||{},Ge=v.useRef(null),Jt=v.useCallback((te,W,Y,ne)=>{const R=(Y-te)*Math.PI/180,D=(ne-W)*Math.PI/180,re=Math.sin(R/2)*Math.sin(R/2)+Math.cos(te*Math.PI/180)*Math.cos(Y*Math.PI/180)*Math.sin(D/2)*Math.sin(D/2);return(6371*(2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re)))).toFixed(1)},[]),_t=(te,W="info")=>{const Y={id:Date.now(),message:te,type:W,timestamp:new Date().toLocaleTimeString()};w(ne=>[Y,...ne].slice(0,5)),setTimeout(()=>{w(ne=>ne.filter(we=>we.id!==Y.id))},5e3)},ft=()=>s.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:_.map(te=>s.jsxs("div",{className:`p-4 rounded-lg shadow-lg ${te.type==="error"?"bg-red-100":te.type==="success"?"bg-green-100":"bg-blue-100"}`,children:[s.jsx("p",{children:te.message}),s.jsx("p",{className:"text-xs text-gray-500",children:te.timestamp})]},te.id))}),[mt,wt]=v.useState(""),[Et,xe]=v.useState(""),Dt=v.useRef({}),ln=v.useMemo(()=>({"27.7172,85.3238":"Kathmandu, Nepal","27.6933,85.3424":"Patan, Lalitpur, Nepal","27.6710,85.4298":"Bhaktapur, Nepal","27.7030,85.3143":"Kirtipur, Nepal","27.7500,85.3500":"Budhanilkantha, Nepal"}),[]),Gt=v.useCallback(async(te,W)=>{const Y=`${parseFloat(te).toFixed(4)},${parseFloat(W).toFixed(4)}`;if(Dt.current[Y])return Dt.current[Y];for(const[we,R]of Object.entries(ln)){const[D,re]=we.split(",").map(Number);if(Math.abs(D-te)<.01&&Math.abs(re-W)<.01)return Dt.current[Y]=R,R}let ne=`${te.toFixed(4)}, ${W.toFixed(4)}`;return te>27.6&&te<27.8&&W>85.2&&W<85.5&&(ne+=" (Kathmandu Valley)"),Dt.current[Y]=ne,ne},[ln]),_n=v.useCallback(async te=>{try{const W={lat:te.coords.latitude,lng:te.coords.longitude};f(W),localStorage.setItem("userCurrentPosition",JSON.stringify(W)),(ue==null?void 0:ue.role)==="serviceProvider"&&se&&se.connected&&(console.log("Emitting location update to server"),se.emit("update-location",{userId:ue._id,location:W,timestamp:new Date().getTime()}),localStorage.setItem("serviceProviderPosition",JSON.stringify(W))),J(new Date().toLocaleTimeString()),i&&i(W),ke.current=0}catch(W){console.error("Error updating position:",W)}},[ue,se,i,Jt]),wn=v.useCallback(te=>{console.warn("Geolocation error:",te.message),N(!1)},[]);v.useEffect(()=>{(l==="accepted"||l==="confirmed"||l==="ongoing")&&U(!0)},[l]),v.useEffect(()=>{let te=!0;return G&&((()=>{!navigator.geolocation||!te||(N(!0),navigator.geolocation.getCurrentPosition(Y=>{te&&(_n(Y),Me.current=navigator.geolocation.watchPosition(_n,wn,{enableHighAccuracy:!0,maximumAge:1e4,timeout:15e3}))},wn,{enableHighAccuracy:!0,timeout:2e4,maximumAge:3e4}))})(),U(!1)),()=>{te=!1,Me.current&&(navigator.geolocation.clearWatch(Me.current),Me.current=null)}},[G,_n,wn]),v.useEffect(()=>{let te=!0;const Y=setTimeout(async()=>{if(d)try{const ne=await Gt(d.lat,d.lng);te&&ne!==mt&&wt(ne)}catch(ne){console.error("Error getting user location name:",ne)}if(m)try{const ne=await Gt(m.lat,m.lng);te&&ne!==Et&&xe(ne)}catch(ne){console.error("Error getting provider location name:",ne)}},1e3);return()=>{te=!1,clearTimeout(Y)}},[d,m,Gt,mt,Et]),v.useEffect(()=>{if(!se||!ue)return;const te=W=>{try{if(!W||!W.location||typeof W.location.lat!="number"||typeof W.location.lng!="number")return;if(W.userId&&(ue.role==="user"||ue.role==="admin")){const Y={lat:W.location.lat,lng:W.location.lng};if(ve.current&&Jt(ve.current.lat,ve.current.lng,Y.lat,Y.lng)<.01)return;x(Y),ve.current=Y,localStorage.setItem("activeServiceProviderLocation",JSON.stringify(Y))}}catch(Y){console.error("Error handling location update:",Y)}};return se.on("location-update",te),()=>{se.off("location-update",te)}},[se,ue,Jt]),v.useEffect(()=>{if(!C&&!H&&l!=="confirmed"&&l!=="ongoing"||!d||!m)return;const te=async()=>{try{const Y=(await oe.get(`https://router.project-osrm.org/route/v1/driving/${d.lng},${d.lat};${m.lng},${m.lat}?overview=full&geometries=geojson`)).data;if(Y.routes&&Y.routes.length>0){const ne=Y.routes[0].geometry.coordinates.map(we=>({lat:we[1],lng:we[0]}));if(b(ne),Y.routes[0].distance){const we=(Y.routes[0].distance/1e3).toFixed(1);T(we);const R=Math.ceil(Y.routes[0].distance/1e3*(60/30));$(R)}if(ne.length>0&&Ge.current){const we=Bt.latLngBounds(ne.map(R=>[R.lat,R.lng]));Ge.current.fitBounds(we,{padding:[50,50]})}}}catch(W){console.error("Error fetching route:",W),b([d,m])}};return ge.current&&clearTimeout(ge.current),ge.current=setTimeout(te,3e3),()=>{ge.current&&clearTimeout(ge.current)}},[C,H,m,d,ue,l]);const Ft=({title:te,location:W,distance:Y,extraInfo:ne})=>s.jsxs("div",{className:"min-w-[200px]",children:[s.jsx("h3",{className:"font-bold text-lg mb-1",children:te}),W&&s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:W}),Y&&s.jsxs("p",{className:"text-sm",children:["Distance: ",Y," km"]}),ne&&s.jsx("div",{className:"mt-2",children:ne})]});Ft.propTypes={title:De.string.isRequired,location:De.string,distance:De.string,extraInfo:De.node},Ft.defaultProps={location:"",distance:"",extraInfo:null};const bn=()=>{S(!1),se.emit("booking-accepted",{bookingId:e._id,serviceProviderId:ue._id}),A(!0),P(!0),U(!0),_t("Booking accepted successfully!","success")},jn=()=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full shadow-xl",children:[s.jsxs("div",{className:"flex items-start mb-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"New Booking Request"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["From: ",e==null?void 0:e.userName]})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Service:"}),s.jsx("span",{className:"font-medium",children:e==null?void 0:e.serviceType})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:(e==null?void 0:e.userPhone)||"Not available"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Location:"}),s.jsx("span",{className:"font-medium text-right",children:mt||"Loading..."})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Distance:"}),s.jsxs("span",{className:"font-medium",children:[Jt(d.lat,d.lng,(m==null?void 0:m.lat)||d.lat,(m==null?void 0:m.lng)||d.lng)," ","km"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"ETA:"}),s.jsxs("span",{className:"font-medium",children:[Math.ceil(Jt(d.lat,d.lng,(m==null?void 0:m.lat)||d.lat,(m==null?void 0:m.lng)||d.lng)*3)," ","mins"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Requested at:"}),s.jsx("span",{className:"font-medium",children:new Date().toLocaleTimeString()})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Decline"}),s.jsxs("button",{onClick:bn,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Accept"]})]})]})});return v.useEffect(()=>{if(!se)return;const te=W=>{A(!0),P(!0),Re("active"),_t("Your booking has been accepted! Service provider is on the way.","success")};return se.on("booking-accepted-confirmation",te),()=>{se.off("booking-accepted-confirmation",te)}},[se]),v.useEffect(()=>{if(!(!se||!(ue!=null&&ue.isServiceProvider)))return se.on("booking-request",te=>{typeof o=="function"&&o(te),S(!0),_t(`New booking request from ${te.userName}`,"info")}),()=>{se.off("booking-request")}},[se,ue,o]),v.useEffect(()=>{Ge.current&&setTimeout(()=>{Ge.current.invalidateSize()},300)},[]),v.useEffect(()=>{const te=()=>{Ge.current&&Ge.current.invalidateSize()};return window.addEventListener("resize",te),()=>{window.removeEventListener("resize",te)}},[]),s.jsxs("div",{className:"relative w-full h-full flex flex-col",children:[s.jsx(ft,{}),j&&s.jsx(jn,{}),s.jsxs("div",{className:"relative flex-grow w-full h-full",style:{minHeight:"300px"},children:[k&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading map..."})]})}),s.jsxs(Fi,{center:{lat:(d==null?void 0:d.lat)||Es.lat,lng:(d==null?void 0:d.lng)||Es.lng},zoom:15,style:{width:"100%",height:"100%"},className:"z-10 absolute inset-0",whenCreated:te=>{Ge.current=te,setTimeout(()=>{te.invalidateSize()},250)},children:[s.jsx(Ui,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(Wv,{position:{lat:(d==null?void 0:d.lat)||Es.lat,lng:(d==null?void 0:d.lng)||Es.lng},zoom:15}),s.jsx(Jn,{position:{lat:d.lat,lng:d.lng},icon:WN,children:s.jsx(Lr,{children:s.jsx(Ft,{title:(ue==null?void 0:ue.name)||"You",location:mt,extraInfo:s.jsxs("div",{children:[s.jsxs("p",{children:["Role:"," ",(ue==null?void 0:ue.role)==="serviceProvider"?"Service Provider":"User"]}),(ue==null?void 0:ue.phone)&&s.jsxs("p",{children:["Phone: ",ue.phone]})]})})})}),!u&&(ue==null?void 0:ue.role)!=="serviceProvider"&&pe.map((te,W)=>s.jsx(Jn,{position:{lat:te.lat,lng:te.lng},icon:VN,opacity:.5-W*.1},`history-${W}`)),!u&&m&&e&&s.jsx(Jn,{position:{lat:m.lat,lng:m.lng},icon:ZN,ref:ee,className:q?"animated-marker":"",children:s.jsx(Lr,{children:s.jsx(Ft,{title:(e==null?void 0:e.providerName)||"Service Provider",location:Et,distance:M,extraInfo:s.jsxs("div",{children:[(e==null?void 0:e.providerPhone)&&s.jsxs("p",{children:["Phone: ",e.providerPhone]}),s.jsxs("p",{children:["ETA: ",O||"..."," mins"]}),s.jsxs("p",{children:["Status: ",q?"Moving":"Stationary"]})]})})})}),!u&&(ue==null?void 0:ue.role)!=="serviceProvider"&&(C||H)&&g.length>0&&s.jsx(TN,{positions:g.map(te=>[te.lat,te.lng]),color:"#0066CC",weight:5,opacity:.8,dashArray:"15, 10",className:"animated-dash"})]})]})]})};Zv.propTypes={bookingDetails:De.object,showDirections:De.bool,serviceProviders:De.array,onPositionUpdate:De.func,setBookingDetails:De.func,bookingState:De.string,showOnlyUserLocation:De.bool};const qN=({onClose:e})=>{const[t,n]=v.useState(0),[i,o]=v.useState(""),[l,u]=v.useState(""),[d,f]=v.useState(""),[m,x]=v.useState("Service Provider"),[g,b]=v.useState(!1),[k,N]=v.useState(!1);v.useEffect(()=>{const _=localStorage.getItem("reviewProviderId"),w=localStorage.getItem("reviewProviderName"),j=localStorage.getItem("reviewBookingId");_&&f(_),w&&x(w),j&&u(j)},[]);const C=async()=>{var _,w;if(t===0){Q.warning("Please select a rating");return}if(!i.trim()){Q.warning("Please provide your review before submitting");return}if(!d){Q.error("Missing service provider information");return}try{b(!0);const j={providerId:d,providerName:m,rating:t,comment:i,bookingId:l};console.log("Submitting review data:",j),(await oe.post("/api/reviews",j,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.success&&(N(!0),localStorage.removeItem("showReviewForm"),localStorage.removeItem("reviewBookingId"),localStorage.removeItem("reviewProviderId"),localStorage.removeItem("reviewProviderName"),setTimeout(()=>{e&&e()},3e3))}catch(j){console.error("Error submitting review:",j),Q.error(((w=(_=j.response)==null?void 0:_.data)==null?void 0:w.message)||"Failed to submit review")}finally{b(!1)}},P=()=>{localStorage.removeItem("showReviewForm"),localStorage.removeItem("reviewBookingId"),localStorage.removeItem("reviewProviderId"),localStorage.removeItem("reviewProviderName"),Q.info("You can always leave a review later from your profile"),e&&e()};return k?s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-lg mx-auto",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center animate-bounce",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thank You!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your review has been submitted successfully."}),s.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(_=>s.jsx("svg",{className:`w-6 h-6 ${_<=t?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},_))}),s.jsxs("p",{className:"text-sm text-gray-500 italic",children:['"',i,'"']}),s.jsx("div",{className:"mt-6",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to dashboard..."})})]})}):s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-lg mx-auto",children:s.jsxs("div",{className:"text-center relative",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Payment Successful"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Please rate your experience with ",m]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium mb-2",children:"Rating"}),s.jsx("div",{className:"flex justify-center space-x-4",children:[1,2,3,4,5].map(_=>s.jsx("button",{type:"button",onClick:()=>n(_),className:`transform transition-all duration-200 focus:outline-none ${_<=t?"text-yellow-400 scale-110":"text-gray-300 hover:text-yellow-400 hover:scale-110"}`,children:s.jsx("span",{className:"text-3xl",children:""})},_))}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t===0?"Select a rating":`You rated ${t} star${t!==1?"s":""}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-medium mb-2",children:"Your Review"}),s.jsx("textarea",{className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-gray-700 resize-none",rows:"4",value:i,onChange:_=>o(_.target.value),placeholder:"Share your experience..."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:P,className:"flex-1 bg-gray-100 text-gray-800 py-2 rounded-lg hover:bg-gray-200 transition-all flex items-center justify-center text-sm font-medium",children:[s.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Skip"]}),s.jsx("button",{onClick:C,disabled:t===0||g,className:`flex-1 py-2 rounded-lg transition-all flex items-center justify-center text-sm font-medium ${t>0&&!g?"bg-blue-500 text-white hover:bg-blue-600 shadow-sm hover:shadow-md":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:g?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Submit Review"]})})]})]})]})})};De.func.isRequired,De.bool.isRequired;De.string.isRequired,De.string.isRequired,De.string,De.func,De.bool;const KN=()=>{const e=Je(),t=Kt(),[n,i]=v.useState(0),[o,l]=v.useState(0),[u,d]=v.useState(0),[f]=v.useState(4),[m,x]=v.useState(!0),[g,b]=v.useState({lat:27.7031,lng:85.324}),[k,N]=v.useState(!0),[C,P]=v.useState("Loading location..."),[_,w]=v.useState("today"),[j,S]=v.useState(!1),O=async(F,K)=>{try{const fe=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${F}&lon=${K}&zoom=18&addressdetails=1`)).json();return fe&&fe.display_name?fe.display_name:"Current Location"}catch(J){return console.error("Error fetching location name:",J),"Current Location"}};v.useEffect(()=>{(async()=>{try{const K=await oe.get("http://localhost:8000/api/users/counts");i(K.data.userCount),l(K.data.serviceProviderCount),d(K.data.totalCount),x(!1)}catch(K){console.error("Error fetching counts:",K),x(!1)}})()},[]),v.useEffect(()=>{new URLSearchParams(t.search).get("showReview")==="true"&&S(!0)},[t.search]),v.useEffect(()=>{localStorage.getItem("showReviewForm")==="true"&&S(!0)},[]);const $=async F=>{b(F),N(!1);const K=await O(F.lat,F.lng);P(K)},M={today:[{label:"Total On Demand Jobs",value:3,color:"text-blue-500"},{label:"Inprocess Jobs",value:1,color:"text-amber-500"},{label:"Cancelled Jobs",value:0,color:"text-rose-500"}],total:[{label:"Total On Demand Jobs",value:6,color:"text-blue-500"},{label:"Inprocess Jobs",value:2,color:"text-amber-500"},{label:"Cancelled Jobs",value:1,color:"text-rose-500"}]},T=F=>{e(F)},q=[{title:"Total Users",value:m?"...":n,icon:s.jsx(Mv,{className:"text-blue-500",size:24}),path:"/admin/users"},{title:"Service Providers",value:m?"...":o,icon:s.jsx(hN,{className:"text-green-500",size:24}),path:"/admin/service-providers"},{title:"Total Services",value:f,icon:s.jsx(mN,{className:"text-purple-500",size:24}),path:"/admin/services"},{title:"Total Members",value:m?"...":u,icon:s.jsx(uN,{className:"text-orange-500",size:24}),path:"/admin/members"}];return s.jsxs("div",{className:"p-4 space-y-6",children:[j&&s.jsx(qN,{onClose:()=>S(!1)}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:q.map((F,K)=>s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-500 text-sm",children:F.title}),s.jsx("p",{className:"text-2xl font-semibold mt-2",children:F.value})]}),F.icon]}),s.jsx("button",{onClick:()=>T(F.path),className:"mt-4 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details "})]},K))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-blue-200 overflow-hidden",children:[s.jsx("div",{className:"bg-blue-50 p-4 text-blue-700 border-b border-blue-200 flex justify-between items-center",children:s.jsxs("h2",{className:"font-semibold flex items-center",children:[s.jsx(cN,{className:"mr-2"})," Live Location Tracking"]})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Current location:"}),s.jsx("span",{className:"font-medium text-gray-700 text-sm",children:k?"Detecting your location...":C})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[g.lat.toFixed(4),", ",g.lng.toFixed(4)]})]}),s.jsx("div",{className:"h-[400px] rounded border border-gray-200 relative",children:s.jsx(Zv,{onPositionUpdate:$,showOnlyUserLocation:!0,bookingState:"idle",className:"h-full"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"font-semibold",children:"On Demand Services"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>w("today"),className:`px-3 py-1 rounded text-sm ${_==="today"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:"Today"}),s.jsx("button",{onClick:()=>w("total"),className:`px-3 py-1 rounded text-sm ${_==="total"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:"Total"})]})]}),s.jsx("div",{className:"space-y-4",children:M[_].map((F,K)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-gray-600",children:F.label}),s.jsx("span",{className:`font-semibold ${F.color}`,children:F.value})]},K))})]})]})]})},sp=()=>{const e=Je(),{user:t}=Pt(),[n,i]=v.useState([]),[o,l]=v.useState([]),[u,d]=v.useState(null),[f,m]=v.useState(!1),[x,g]=v.useState(""),[b,k]=v.useState("all"),[N,C]=v.useState([]);v.useEffect(()=>{(async()=>{m(!0);try{const O=await oe.get("http://localhost:8000/api/services",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(O.data.success){const $=O.data.services.map(M=>({_id:M._id,name:M.ser_name,serviceImage:M.serviceImage?`http://localhost:8000/public/servicesPhotoUpload/${M.serviceImage}`:null}));i($),C($)}}catch(O){console.error("Error fetching services:",O)}finally{m(!1)}})()},[]),v.useEffect(()=>{if(b==="all")i(N);else{const S=N.filter(O=>O._id===b);i(S)}},[b,N]),v.useEffect(()=>{(async()=>{if(u){m(!0);try{const O=await oe.get(`http://localhost:8000/api/users/serviceProviders${u?`?service=${u.name}`:""}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});O.data.success&&l(O.data.serviceProviders)}catch(O){console.error("Error fetching service providers:",O)}finally{m(!1)}}})()},[u]);const P=S=>{e("/dashboard/menu/maps",{state:{selectedService:S.name}})},_=()=>{d(null),l([])},w=()=>{e("/dashboard/menu/maps",{state:{selectedService:u.name}})},j=o.filter(S=>S.name.toLowerCase().includes(x.toLowerCase()));return f?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:u?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:_,className:"bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded-lg flex items-center gap-2",children:[s.jsx("span",{children:""})," Back to Services"]}),s.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[u.name," Service Providers"]})]}),s.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[s.jsx("input",{type:"text",placeholder:"Search providers...",value:x,onChange:S=>g(S.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-64"}),s.jsx("button",{onClick:w,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg whitespace-nowrap",children:"View All on Map"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(S=>s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[S.profileImage?s.jsx("img",{src:`http://localhost:8000/public/registerImage/${S.profileImage}`,alt:S.name,className:"w-16 h-16 rounded-full object-cover"}):s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl text-gray-600",children:S.name[0]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:S.name}),s.jsx("p",{className:"text-gray-600",children:S.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",S.phoneNo]}),s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Experience:"})," ",S.question||"Not specified"]})]}),s.jsx("button",{onClick:()=>e(`/dashboard/menu/serviceProvider/view/${S._id}`),className:"mt-4 w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:"View Profile"})]})},S._id))}),j.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No service providers found for this service."})})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Available Services"}),s.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[(t==null?void 0:t.role)==="admin"&&s.jsx("button",{onClick:()=>e("/dashboard/menu/services/add-services"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg",children:"Add Service"}),s.jsxs("select",{value:b,onChange:S=>k(S.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Services"}),N.map(S=>s.jsx("option",{value:S._id,children:S.name},S._id))]}),s.jsx("button",{onClick:()=>e("/dashboard/menu/maps"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:"View All Service Providers"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map(S=>s.jsxs("div",{onClick:()=>P(S),className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer transform hover:scale-105 transition-transform",children:[S.serviceImage?s.jsx("img",{src:S.serviceImage,alt:S.name,className:"w-full h-48 object-cover"}):s.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"No Image"})}),s.jsx("div",{className:"p-4",children:s.jsx("h3",{className:"text-lg font-semibold text-center text-gray-800",children:S.name})})]},S._id))}),n.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No services available."})})]})})},JN=()=>{const{user:e}=Pt(),[t,n]=v.useState(!0),[i,o]=v.useState(!1),[l,u]=v.useState(null),[d,f]=v.useState(""),[m,x]=v.useState(!1),[g,b]=v.useState(!0),[k,N]=v.useState(!1),[C,P]=v.useState([]),[_,w]=v.useState([]),[j,S]=v.useState("general"),O=v.useRef(null),$=v.useRef(null);v.useEffect(()=>{const pe=ae=>{O.current&&!O.current.contains(ae.target)&&N(!1)};return document.addEventListener("mousedown",pe),()=>document.removeEventListener("mousedown",pe)},[]);const[M,T]=v.useState({name:"",email:"",phoneNo:"",dob:"",gender:"",role:"",services:[],question:"",profileImage:""}),q=async()=>{try{const pe=await oe.get("http://localhost:8000/api/services",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});pe.data.success&&P(pe.data.services)}catch(pe){console.error("Error fetching services:",pe)}};v.useEffect(()=>{F(),(e==null?void 0:e.role)==="serviceProvider"&&q()},[e]);const F=async()=>{if(!(!e||!e._id)){n(!0);try{const pe=await oe.get("http://localhost:8000/api/users/currentUser",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(pe.data.success){const ae=pe.data.user;let H=[];ae.services&&Array.isArray(ae.services)&&(H=ae.services.map(A=>typeof A=="object"?A._id:A),w(H)),T({name:ae.name||"",email:ae.email||"",phoneNo:ae.phoneNo||"",dob:ae.dob?new Date(ae.dob).toISOString().split("T")[0]:"",gender:ae.gender||"",role:ae.role||"",services:H,question:ae.question||"",profileImage:ae.profileImage||""})}}catch(pe){console.error("Error fetching user data:",pe),u("Failed to load user data. Please try again."),Q.error("Failed to load user data")}finally{n(!1)}}},K=pe=>{const{name:ae,value:H}=pe.target;T(A=>({...A,[ae]:H}))},J=()=>{$.current.click()},fe=async pe=>{const ae=pe.target.files[0];if(!ae)return;const H=new FormData;H.append("profileImage",ae);try{o(!0);const A=e.role==="serviceProvider"?`http://localhost:8000/api/users/serviceProvider/upload/${e._id}`:`http://localhost:8000/api/users/upload/${e._id}`,G=await oe.post(A,H,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}});G.data.success&&(T(U=>({...U,profileImage:G.data.filename})),x(!1),Q.success("Profile image updated successfully"))}catch(A){console.error("Error uploading profile image:",A),Q.error("Failed to upload profile image")}finally{o(!1)}},Re=async pe=>{var ae,H;pe.preventDefault(),o(!0),u(null),f("");try{const A={name:M.name,email:M.email,phoneNo:M.phoneNo,dob:M.dob,gender:M.gender,role:M.role};M.role==="serviceProvider"&&(A.services=_,A.question=M.question);const G=M.role==="serviceProvider"?`http://localhost:8000/api/users/serviceProvider/${e._id}`:`http://localhost:8000/api/users/gharUsers/${e._id}`;(await oe.put(G,A,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.success&&(f("Profile updated successfully!"),Q.success("Profile updated successfully!"))}catch(A){console.error("Error updating profile:",A),u(((H=(ae=A.response)==null?void 0:ae.data)==null?void 0:H.error)||"Failed to update profile. Please try again."),Q.error("Failed to update profile")}finally{o(!1)}};return t&&!M.name?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s.jsx("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-800 border-b pb-2",children:"Account Settings"}),s.jsxs("div",{className:"flex border-b mb-6",children:[s.jsx("button",{className:`py-2 px-4 font-medium ${j==="general"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>S("general"),children:"General"}),s.jsx("button",{className:`py-2 px-4 font-medium ${j==="professional"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>S("professional"),disabled:M.role!=="serviceProvider",children:"Professional"}),s.jsx("button",{className:`py-2 px-4 font-medium ${j==="security"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>S("security"),children:"Security"})]}),s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-100 cursor-pointer hover:opacity-90 transition-opacity",onClick:J,children:[M.profileImage&&!m?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:`http://localhost:8000/public/registerImage/${M.profileImage}`,alt:M.name||"Profile",className:`w-full h-full object-cover ${g?"hidden":""}`,onError:()=>{x(!0),b(!1)},onLoad:()=>b(!1)}),g&&s.jsx("div",{className:"w-full h-full bg-gray-200 animate-pulse"})]}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 opacity-0 hover:opacity-100 transition-opacity text-white",children:s.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),s.jsx("input",{type:"file",ref:$,className:"hidden",accept:"image/*",onChange:fe}),s.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:"Click to change profile photo"})]})}),l&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),d&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:d}),s.jsxs("form",{onSubmit:Re,children:[j==="general"&&s.jsx("div",{children:s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",value:M.name,onChange:K,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:M.email,onChange:K,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phoneNo",value:M.phoneNo,onChange:K,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),s.jsx("input",{type:"date",name:"dob",value:M.dob,onChange:K,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),s.jsxs("select",{name:"gender",value:M.gender,onChange:K,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",disabled:!0,children:"Select gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),s.jsx("input",{type:"text",value:M.role==="serviceProvider"?"Service Provider":M.role,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100",disabled:!0})]})]})]})}),j==="professional"&&M.role==="serviceProvider"&&s.jsx("div",{children:s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Professional Information"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Services Offered"}),s.jsxs("div",{className:"border border-gray-300 rounded-md p-3 max-h-40 overflow-y-auto bg-gray-50",children:[C.length>0?C.filter(pe=>_.includes(pe._id)).map(pe=>s.jsx("div",{className:"py-1 px-2",children:pe.ser_name},pe._id)):s.jsx("p",{className:"text-gray-500",children:"No services available"}),_.length===0&&s.jsx("div",{className:"text-gray-400",children:"No services selected"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience / Qualifications"}),s.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 min-h-[48px]",children:M.question||s.jsx("span",{className:"text-gray-400",children:"No experience/qualifications provided"})})]})]})]})}),j==="security"&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Security Settings"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Change Password"}),s.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",onClick:()=>Q.info("Password change functionality coming soon"),children:"Change Password"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"Account Actions"}),s.jsx("div",{className:"flex space-x-4",children:s.jsx("button",{type:"button",className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors",onClick:()=>Q.error("Account deletion is not available at this time"),children:"Delete Account"})})]})]})]}),s.jsxs("div",{className:"flex justify-end mt-6",children:[s.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 mr-2 hover:bg-gray-50 transition-colors",onClick:()=>{F(),u(null),f("")},children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors disabled:opacity-50",disabled:i,children:i?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})]})})})})},GN=()=>{const e=Je(),[t,n]=v.useState(""),[i,o]=v.useState(""),[l,u]=v.useState(""),[d,f]=v.useState(!1),{login:m}=Pt(),x=async g=>{var b,k;g.preventDefault(),f(!0);try{const N=await oe.post("http://localhost:8000/api/auth/login",{email:t,password:i});N.data.success&&(localStorage.setItem("token",N.data.token),m(N.data.user),N.data.user.role==="serviceProvider"&&!N.data.user.approved?e("/pending-approval"):N.data.user.role==="admin"?e("/dashboard"):N.data.user.role==="user"?e("/dashboard/menu/services"):N.data.user.role==="serviceProvider"&&e("/dashboard/menu/maps"))}catch(N){Q.error(((k=(b=N.response)==null?void 0:b.data)==null?void 0:k.error)||"Failed to login. Try again."),N.response&&!N.response.data.success?u(N.response.data.error||"Login failed"):u("Server Error")}finally{f(!1)}};return s.jsxs("div",{className:"relative flex flex-col md:flex-row h-screen bg-gradient-to-r from-sky-500 to-blue-600 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-blue-300 opacity-30 rounded-full transform -translate-x-1/4"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-1/2 h-full bg-blue-300 opacity-30 rounded-full transform translate-x-1/4"}),s.jsx("div",{className:"relative z-10 flex-1 flex justify-center items-center text-white p-10",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:"Welcome to Ghar Ko Sathi!"}),s.jsx("p",{className:"text-lg mb-2",children:"Log in to access reliable home repair services."}),s.jsx("p",{className:"text-lg",children:"Your trusted partner for home maintenance!"})]})}),s.jsx("div",{className:"relative z-10 flex-1 flex justify-center items-center p-5",children:s.jsxs("form",{className:"w-full max-w-lg p-8 bg-white border border-gray-300 rounded-lg shadow-lg transform transition-transform",onSubmit:x,children:[s.jsx("h2",{className:"text-4xl font-bold text-center mb-6 text-blue-700",children:"Log In"}),l&&s.jsx("p",{className:"text-red-500 mb-4",children:l}),s.jsx("label",{className:"block mb-2 text-lg font-semibold",htmlFor:"email",children:"Email:"}),s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg mb-4 focus-within:border-blue-500",children:[s.jsx(aN,{className:"ml-3 text-gray-400"}),s.jsx("input",{className:"w-full p-3 rounded-lg focus:outline-none",type:"email",id:"email",autoComplete:"off",placeholder:"Enter your email",value:t,onChange:g=>n(g.target.value),required:!0})]}),s.jsx("label",{className:"block mb-2 text-lg font-semibold",htmlFor:"password",children:"Password:"}),s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg mb-6 focus-within:border-blue-500",children:[s.jsx(lN,{className:"ml-3 text-gray-400"}),s.jsx("input",{className:"w-full p-3 rounded-lg focus:outline-none",type:"password",id:"password",placeholder:"Enter your password",value:i,onChange:g=>o(g.target.value),required:!0})]}),s.jsx("button",{className:`w-full p-3 ${d?"bg-green-400":"bg-green-600 hover:bg-green-700"} text-white rounded-lg transition duration-200 shadow-md hover:shadow-lg`,type:"submit",disabled:d,children:d?"Logging in...":"Log In"}),s.jsxs("p",{className:"mt-8 text-center text-sm",children:["Don't have an account?"," ",s.jsx(ii,{to:"/signupAccount",className:"text-blue-600 hover:underline",children:"Sign Up"})]})]})})]})},Ls=({children:e})=>{const{user:t,loading:n}=Pt(),i=Kt();return n?s.jsx("div",{children:"Loading..."}):t?t.role==="serviceProvider"&&t.approved===!1&&!i.pathname.includes("/pending-approval")?s.jsx(kr,{to:"/pending-approval"}):e:s.jsx(kr,{to:"/"})},$n=({requiredRole:e,requireApproval:t=!1,children:n})=>{const{user:i,loading:o}=Pt();return o?s.jsx("div",{children:"Loading..."}):i?t&&i.role==="serviceProvider"&&i.approved===!1?s.jsx(kr,{to:"/pending-approval"}):e.includes(i.role)?n:s.jsx(kr,{to:"/unauthorized"}):s.jsx(kr,{to:"/"})},YN=()=>{const e=Je(),[t,n]=v.useState({ser_name:"",image:null}),[i,o]=v.useState(null),[l,u]=v.useState(!1),d=k=>{const{name:N,value:C,files:P}=k.target;if(N==="image"&&P.length>0){const _=P[0];n({...t,image:_}),o(URL.createObjectURL(_))}else n({...t,[N]:C})},f=k=>{k.preventDefault(),u(!0)},m=()=>{u(!1)},x=k=>{k.preventDefault(),u(!1);const N=k.dataTransfer.files[0];N&&(n({...t,image:N}),o(URL.createObjectURL(N)))},g=()=>{n({...t,image:null}),o(null)},b=async k=>{var C,P,_;k.preventDefault();const N=new FormData;N.append("ser_name",t.ser_name),t.image&&N.append("image",t.image);try{const w=await oe.post("http://localhost:8000/api/services/add",N,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}});(C=w.data)!=null&&C.success?e("/dashboard/menu/services"):alert(w.data.error||"Failed to add service.")}catch(w){console.error(w),alert(((_=(P=w.response)==null?void 0:P.data)==null?void 0:_.error)||"An unexpected error occurred.")}};return s.jsx("div",{className:"p-6 h-full w-full flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Add New Service"}),s.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ser_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Name"}),s.jsx("input",{id:"ser_name",name:"ser_name",type:"text",placeholder:"Enter service name",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:d,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Image"}),s.jsx("div",{className:`w-full h-40 border-2 ${l?"border-blue-500":"border-gray-300"} rounded-lg flex flex-col justify-center items-center gap-2 bg-gray-50 hover:bg-gray-100 transition-colors`,onDragOver:f,onDragLeave:m,onDrop:x,children:i?s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx("img",{src:i,alt:"Selected",className:"object-contain h-full w-full rounded-lg"}),s.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold hover:bg-red-600",onClick:g,children:"Change"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Drag & Drop an image here or click to select"}),s.jsx("input",{id:"image",type:"file",name:"image",className:"hidden",onChange:d,accept:"image/*"}),s.jsx("label",{htmlFor:"image",className:"bg-blue-500 text-white px-4 py-2 rounded-lg cursor-pointer hover:bg-blue-600",children:"Browse"})]})})]}),s.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add Service"})]})]})})},QN=()=>{const e=Je(),[t,n]=v.useState(1),[i,o]=v.useState({name:"",email:"",dob:"",gender:"",phoneNo:"",password:"",role:"user",profileImage:null,citizenshipImage:null}),l=m=>{const{name:x,value:g,files:b}=m.target;o(b?k=>({...k,[x]:b[0]}):k=>({...k,[x]:g}))},u=async m=>{m.preventDefault();try{if(!i.phoneNo.trim())throw new Error("Phone number is required");if(!i.password||i.password.trim()==="")throw new Error("Password is required");if(i.password.length<6)throw new Error("Password must be at least 6 characters long");const x=new FormData;for(const b in i)x.append(b,i[b]);(await oe.post("http://localhost:8000/api/auth/registerUser",x,{headers:{"Content-Type":"multipart/form-data"}})).status===201&&(Zn.success("User Registration successful!"),e("/"))}catch(x){console.error("Registration error:",x),x.response&&x.response.data&&x.response.data.error?Zn.error(x.response.data.error):Zn.error("An unexpected error occurred during registration.")}},d=()=>{try{if(!i.name.trim())throw new Error("Name is required");if(!i.email.trim())throw new Error("Email is required");if(!i.dob)throw new Error("Date of Birth is required");if(!i.gender)throw new Error("Please select your gender");n(2)}catch(m){Zn.error(m.message)}},f=()=>{n(1)};return s.jsxs("div",{className:"relative flex flex-col md:flex-row h-screen bg-gradient-to-r from-sky-500 to-blue-600 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-blue-300 opacity-30 rounded-full transform -translate-x-1/4"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-1/2 h-full bg-blue-300 opacity-30 rounded-full transform translate-x-1/4"}),s.jsx("div",{className:"relative z-10 flex-1 flex justify-center items-center p-5",children:s.jsxs("form",{className:"w-full max-w-lg p-8 bg-white border border-gray-300 rounded-lg shadow-lg transform transition-transform",onSubmit:u,children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-blue-700",children:"Sign Up as User"}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t===1?"bg-blue-600 text-white":"bg-gray-300"}`,children:"1"}),s.jsx("div",{className:"w-16 h-1 bg-gray-300"}),s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t===2?"bg-blue-600 text-white":"bg-gray-300"}`,children:"2"})]})}),t===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Personal Information"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",name:"name",value:i.name,onChange:l,placeholder:"Type Your Name",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:i.email,onChange:l,placeholder:"Type Your Email",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),s.jsx("input",{type:"date",name:"dob",value:i.dob,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),s.jsxs("select",{name:"gender",value:i.gender,onChange:l,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select Gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsx("button",{type:"button",onClick:d,className:"w-full bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Next"})]}),t===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Account Information"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),s.jsx("input",{type:"text",name:"phoneNo",value:i.phoneNo,onChange:l,placeholder:"Type Your Number",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",name:"password",value:i.password,onChange:l,placeholder:"**********",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Profile Image"}),s.jsx("input",{type:"file",name:"profileImage",onChange:l,accept:"image/*",className:"w-full px-4 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Citizenship Image"}),s.jsx("input",{type:"file",name:"citizenshipImage",onChange:l,accept:"image/*",className:"w-full px-4 py-2 border rounded-lg"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"button",onClick:f,className:"w-1/2 bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Back"}),s.jsx("button",{type:"submit",className:"w-1/2 bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Sign Up"})]})]}),s.jsxs("p",{className:"mt-8 text-center text-sm",children:["Have an account?"," ",s.jsx(ii,{to:"/",className:"text-blue-600 hover:underline",children:"Login"})]})]})}),s.jsx("div",{className:"relative z-10 flex-1 flex justify-center items-center text-white p-10",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:"Join Ghar Ko Sathi Today!"}),s.jsx("p",{className:"text-lg mb-2",children:"Sign up to access reliable home repair services."}),s.jsx("p",{className:"text-lg",children:"Your trusted partner for home maintenance!"})]})})]})},XN="/assets/software-application-FKP9l8hs.png",e3="/assets/maintenance-BinvMh0l.png",t3=()=>s.jsxs("div",{className:"relative flex flex-col md:flex-row h-screen bg-gradient-to-r from-sky-500 to-blue-600 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-[60%] h-full bg-blue-300 opacity-30 rounded-full transform -translate-x-1/4"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-[60%] h-full bg-blue-300 opacity-30 rounded-full transform translate-x-1/4"}),s.jsx("div",{className:"relative z-10 flex-1 flex justify-center items-center text-white p-10",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:"Welcome to Ghar Ko Sathi!"}),s.jsx("p",{className:"text-lg mb-6",children:"Sign up to access reliable home repair services."}),s.jsx("p",{className:"text-lg",children:"Your trusted partner for home maintenance!"})]})}),s.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center items-center p-5",children:[s.jsx("h3",{className:"font-bold text-4xl text-white mb-6",children:"Sign up as"}),s.jsxs("div",{className:"w-full max-w-lg flex justify-between gap-8",children:[s.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg shadow-lg p-6 text-center flex flex-col items-center transform transition-all duration-300 hover:shadow-xl hover:scale-105 w-1/2",children:[s.jsx("div",{className:"rounded-lg h-32 overflow-hidden mb-6 flex items-center justify-center bg-blue-50 p-3 w-full",children:s.jsx("img",{alt:"User",className:"object-contain h-24 w-24 transition-transform duration-500 hover:scale-110",src:XN})}),s.jsx("h2",{className:"text-2xl font-bold mb-3 text-blue-600",children:"User"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 h-10",children:"Find and hire skilled professionals for your home needs"}),s.jsx(ii,{to:"/signupUser",className:"text-white bg-blue-500 py-2 px-5 rounded-lg focus:outline-none hover:bg-blue-600 transition-colors w-full hover:shadow-md",children:"Sign Up"})]}),s.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg shadow-lg p-6 text-center flex flex-col items-center transform transition-all duration-300 hover:shadow-xl hover:scale-105 w-1/2",children:[s.jsx("div",{className:"rounded-lg h-32 overflow-hidden mb-6 flex items-center justify-center bg-blue-50 p-3 w-full",children:s.jsx("img",{alt:"Service Provider",className:"object-contain h-24 w-24 transition-transform duration-500 hover:scale-110",src:e3})}),s.jsx("h2",{className:"text-2xl font-bold mb-3 text-blue-600",children:"Service Provider"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 h-10",children:"Offer your services and grow your business"}),s.jsx(ii,{to:"/signupServiceProvider",className:"text-white bg-blue-500 py-2 px-5 rounded-lg focus:outline-none hover:bg-blue-600 transition-colors w-full hover:shadow-md",children:"Sign Up"})]})]})]})]}),Vv=async()=>{var e,t;try{const n=await oe.get("http://localhost:8000/api/services",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return n.data.success?n.data.services:(console.error("Failed to fetch services:",n.data.message),[])}catch(n){return console.error("Error fetching services:",n),alert(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Error occurred while fetching services."),[]}},n3=`
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }
`,qv=document.createElement("style");qv.innerText=n3;document.head.appendChild(qv);const r3=()=>{const e=Je(),[t,n]=v.useState([]),[i,o]=v.useState(1),[l,u]=v.useState({name:"",email:"",dob:"",gender:"",phoneNo:"",password:"",services:[],role:"serviceProvider",profileImage:null,citizenshipImage:null,certificationImage:null,question:""});v.useEffect(()=>{(async()=>{try{const b=await Vv();n(b||[])}catch(b){console.error("Error fetching services:",b)}})()},[]);const d=g=>{const{name:b,value:k,files:N}=g.target;if(N)u(C=>({...C,[b]:N[0]}));else if(b==="services"){const C=Array.from(g.target.selectedOptions).map(P=>P.value);u(P=>({...P,services:C}))}else u(C=>({...C,[b]:k}))},f=async g=>{g.preventDefault();try{if(!l.services.length)throw new Error("Please select at least one service");if(!l.question.trim())throw new Error("Service description is required");const b=new FormData;Object.keys(l).forEach(N=>{N==="services"?l.services.forEach(C=>{b.append("services[]",C)}):N.includes("Image")?l[N]&&b.append(N,l[N]):b.append(N,l[N])}),(await oe.post("http://localhost:8000/api/auth/registerServiceProvider",b,{headers:{"Content-Type":"multipart/form-data"}})).status===201&&(Zn.success("Registration successful! Admin will notify you soon!"),e("/"))}catch(b){console.error("Registration error:",b),b.response&&b.response.data&&b.response.data.error?Zn.error(b.response.data.error):b.message?Zn.error(b.message):Zn.error("An unexpected error occurred during registration.")}},m=()=>{try{if(!l.name.trim())throw new Error("Name is required");if(!l.email.trim())throw new Error("Email is required");if(!l.dob)throw new Error("Date of Birth is required");if(!l.gender)throw new Error("Please select your gender");if(!l.phoneNo.trim())throw new Error("Phone number is required");if(!l.password||l.password.trim()==="")throw new Error("Password is required");if(l.password.length<6)throw new Error("Password must be at least 6 characters long");o(2)}catch(g){Zn.error(g.message)}},x=()=>{o(1)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-r from-sky-500 to-blue-600 py-8 px-4 sm:px-6 lg:px-8 overflow-y-auto",children:[s.jsx("div",{className:"fixed top-0 left-0 w-[60%] h-full bg-blue-300 opacity-30 rounded-full transform -translate-x-1/4 -z-10"}),s.jsx("div",{className:"fixed bottom-0 right-0 w-[60%] h-full bg-blue-300 opacity-30 rounded-full transform translate-x-1/4 -z-10"}),s.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-8 items-start",children:[s.jsxs("div",{className:"w-full max-w-lg mx-auto",children:[s.jsxs("form",{className:"bg-white shadow-xl rounded-xl p-8 mb-8 overflow-y-auto",onSubmit:f,children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-blue-700",children:"Sign Up as Service Provider"}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i===1?"bg-blue-600 text-white":"bg-gray-300"}`,children:"1"}),s.jsx("div",{className:"w-16 h-1 bg-gray-300"}),s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i===2?"bg-blue-600 text-white":"bg-gray-300"}`,children:"2"})]})}),s.jsxs("div",{className:"max-h-[calc(100vh-300px)] overflow-y-auto px-2 custom-scrollbar",children:[i===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4 sticky top-0 bg-white py-2",children:"Personal Information"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",name:"name",value:l.name,onChange:d,placeholder:"Type Your Name",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:d,placeholder:"Type Your Email",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),s.jsx("input",{type:"date",name:"dob",value:l.dob,onChange:d,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),s.jsxs("select",{name:"gender",value:l.gender,onChange:d,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select Gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),s.jsx("input",{type:"text",name:"phoneNo",value:l.phoneNo,onChange:d,placeholder:"Type Your Number",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",name:"password",value:l.password,onChange:d,placeholder:"**********",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),i===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4 sticky top-0 bg-white py-2",children:"Service Information"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Services"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{name:"services",value:l.services,onChange:d,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",multiple:!0,size:5,children:t.length>0?t.map(g=>s.jsx("option",{value:g._id,className:"py-2 px-4 hover:bg-blue-50",children:g.ser_name},g._id)):s.jsx("option",{value:"",disabled:!0,children:"No services available"})}),s.jsxs("p",{className:"mt-2 text-sm text-gray-500 flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Hold Ctrl (Windows) or Command (Mac) to select multiple services"]})]})]}),s.jsx("div",{className:"space-y-6",children:["profile","citizenship","certification"].map(g=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 capitalize mb-2",children:[g," Image ",g!=="certification"&&"*"]}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{type:"file",name:`${g}Image`,onChange:d,accept:"image/*",className:"sr-only"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})}),l[`${g}Image`]&&s.jsxs("p",{className:"mt-2 text-sm text-green-600",children:[" File selected: ",l[`${g}Image`].name]})]},g))}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe about the Service you provide...."}),s.jsx("textarea",{name:"question",value:l.question,onChange:d,placeholder:"Type Your Answer",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-white pt-4 mt-6 border-t",children:i===2?s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"button",onClick:x,className:"w-1/2 bg-gray-300 text-gray-800 font-semibold py-2.5 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Back"}),s.jsx("button",{type:"submit",className:"w-1/2 bg-blue-500 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Sign Up"})]}):s.jsx("button",{type:"button",onClick:m,className:"w-full bg-blue-500 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Next"})})]}),s.jsxs("p",{className:"text-center text-sm text-white",children:["Have an account?"," ",s.jsx(ii,{to:"/",className:"font-semibold hover:text-blue-200 transition-colors",children:"Login"})]})]}),s.jsx("div",{className:"hidden md:block text-white p-10",children:s.jsxs("div",{className:"sticky top-10",children:[s.jsx("h1",{className:"text-5xl font-extrabold mb-4",children:"Join Ghar Ko Sathi Today!"}),s.jsx("p",{className:"text-lg mb-2",children:"Sign up to access reliable home repair services."}),s.jsx("p",{className:"text-lg",children:"Your trusted partner for home maintenance!"})]})})]})]})},i3=()=>{const e=Je(),[t,n]=v.useState([]),[i,o]=v.useState(!1),l=async()=>{var f,m;o(!0);try{const x=await oe.get("http://localhost:8000/api/users/gharUsers",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(x.data.success){const g=x.data.users.map(b=>({_id:b._id,name:b.name,mobile:b.phoneNo||"N/A",email:b.email||"N/A",type:b.role||"User",status:"Active",profileImage:b.profileImage?`http://localhost:8000/public/registerImage/${b.profileImage}`:null,gender:b.gender||"N/A"}));n(g)}}catch(x){alert(((m=(f=x.response)==null?void 0:f.data)==null?void 0:m.error)||"Error occurred while fetching users.")}finally{o(!1)}};v.useEffect(()=>{l()},[]);const u=async f=>{var m,x;if(window.confirm("Are you sure you want to delete this user?"))try{(await oe.delete(`http://localhost:8000/api/users/gharUsers/${f}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.success&&(alert("User deleted successfully!"),l())}catch(g){alert(((x=(m=g.response)==null?void 0:m.data)==null?void 0:x.error)||"Error occurred while deleting the user.")}},d=t.filter(f=>f.type!=="admin");return s.jsx("div",{className:"p-4 h-full",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md h-full flex flex-col",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Users"})}),i?s.jsx("p",{children:"Loading..."}):d.length>0?s.jsxs("table",{className:"w-full bg-white rounded-lg shadow mt-6",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-200 text-center",children:[s.jsx("th",{className:"p-4",children:"Photo"}),s.jsx("th",{className:"p-4",children:"Name"}),s.jsx("th",{className:"p-4",children:"Mobile"}),s.jsx("th",{className:"p-4",children:"Email"}),s.jsx("th",{className:"p-4",children:"Type"}),s.jsx("th",{className:"p-4",children:"Gender"}),s.jsx("th",{className:"p-4",children:"Action"})]})}),s.jsx("tbody",{children:d.map((f,m)=>s.jsxs("tr",{className:"border-t text-center",children:[s.jsx("td",{className:"p-4 flex justify-center items-center",children:f.profileImage?s.jsx("img",{src:f.profileImage,alt:"Profile",className:"w-10 h-10 rounded-lg"}):s.jsx("span",{children:"No Image"})}),s.jsx("td",{className:"p-4",children:f.name}),s.jsx("td",{className:"p-4",children:f.mobile}),s.jsx("td",{className:"p-4",children:f.email}),s.jsx("td",{className:"p-4",children:f.type}),s.jsx("td",{className:"p-4",children:f.gender}),s.jsxs("td",{children:[s.jsx("button",{onClick:()=>e(`/dashboard/menu/users/view/${f._id}`),className:"mr-2 rounded-md border border-[#2e4f31] text-[#2e4f31] py-1 px-3 text-center font-medium hover:bg-[#2e4f31] hover:text-white duration-200",children:s.jsx(Iv,{})}),s.jsx("button",{onClick:()=>e(`/dashboard/menu/users/edit/${f._id}`),className:"mr-2 rounded-md border border-[#3C50E0] text-[#3C50E0] py-1 px-3 text-center font-medium hover:bg-[#3C50E0] hover:text-white duration-200",children:s.jsx(Rv,{})}),f.type!=="admin"&&s.jsx("button",{onClick:()=>u(f._id),className:"mr-2 rounded-md border border-[#c13d3d] text-[#c13d3d] py-1 px-3 text-center font-medium hover:bg-[#c13d3d] hover:text-white duration-200",children:s.jsx(Ov,{})})]})]},m))})]}):s.jsx("p",{children:"No users found."})]})})},s3=()=>{const e=Je(),[t,n]=v.useState([]),[i,o]=v.useState(!1),[l,u]=v.useState(""),[d,f]=v.useState(""),[m,x]=v.useState(""),g=async()=>{var P,_;o(!0);try{const w=await oe.get("http://localhost:8000/api/users/serviceProvider",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(w.data.success){const j=w.data.serviceProviders.map(S=>({_id:S._id,name:S.name,mobile:S.phoneNo||"N/A",email:S.email||"N/A",type:S.role||"Service Provider",approved:S.approved!==void 0?S.approved:!1,profileImage:S.profileImage?`http://localhost:8000/public/registerImage/${S.profileImage}`:null}));n(j)}}catch(w){Ae.error(((_=(P=w.response)==null?void 0:P.data)==null?void 0:_.error)||"Error occurred while fetching service providers.")}finally{o(!1)}};v.useEffect(()=>{g()},[]);const b=async P=>{var _,w;if(window.confirm("Are you sure you want to delete this user?"))try{(await oe.delete(`http://localhost:8000/api/users/serviceProvider/${P}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.success&&(Ae.success("User deleted successfully!"),g())}catch(j){Ae.error(((w=(_=j.response)==null?void 0:_.data)==null?void 0:w.error)||"Error occurred while deleting the user.")}},k=async(P,_)=>{var w,j;try{(await oe.put(`http://localhost:8000/api/users/serviceProvider/approve/${P}`,{approved:_},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.success&&(Ae.success(`Provider ${_?"approved":"rejected"} successfully!`),g())}catch(S){Ae.error(((j=(w=S.response)==null?void 0:w.data)==null?void 0:j.error)||`Error ${_?"approving":"rejecting"} provider.`)}},N=t.filter(P=>{const _=P.approved?"Approved":"Pending",w=l?_===l:!0,j=d?P.type===d:!0,S=m!==""?m==="approved"?P.approved:!P.approved:!0;return w&&j&&S}),C=P=>{x(m===P?"":P)};return s.jsx("div",{className:"p-4 h-full",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md h-full flex flex-col",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Service Provider Users"})}),s.jsxs("div",{className:"flex flex-wrap gap-6 my-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2 font-medium",htmlFor:"statusFilter",children:"Filter by Status:"}),s.jsxs("select",{id:"statusFilter",value:l,onChange:P=>u(P.target.value),className:"rounded-md border border-stroke py-2 px-3 text-black",children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"Approved",children:"Approved"}),s.jsx("option",{value:"Pending",children:"Pending"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2 font-medium",htmlFor:"typeFilter",children:"Filter by Type:"}),s.jsxs("select",{id:"typeFilter",value:d,onChange:P=>f(P.target.value),className:"rounded-md border border-stroke py-2 px-3 text-black",children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"Service Provider",children:"Service Provider"}),s.jsx("option",{value:"User",children:"User"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-2 font-medium",children:"Filter by Approval:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>C("approved"),className:`px-4 py-2 rounded-md font-medium transition-colors duration-200 ${m==="approved"?"bg-green-600 text-white":"bg-white text-green-600 border border-green-600 hover:bg-green-50"}`,children:"Approved"}),s.jsx("button",{onClick:()=>C("pending"),className:`px-4 py-2 rounded-md font-medium transition-colors duration-200 ${m==="pending"?"bg-yellow-600 text-white":"bg-white text-yellow-600 border border-yellow-600 hover:bg-yellow-50"}`,children:"Pending"}),s.jsx("button",{onClick:()=>x(""),className:`px-4 py-2 rounded-md font-medium transition-colors duration-200 ${m===""?"bg-gray-600 text-white":"bg-white text-gray-600 border border-gray-600 hover:bg-gray-50"}`,children:"All"})]})]})]}),i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("p",{className:"text-xl",children:"Loading..."})}):N.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full bg-white rounded-lg shadow mt-6",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-200 text-center",children:[s.jsx("th",{className:"p-4",children:"Photo"}),s.jsx("th",{className:"p-4",children:"Name"}),s.jsx("th",{className:"p-4",children:"Mobile"}),s.jsx("th",{className:"p-4",children:"Email"}),s.jsx("th",{className:"p-4",children:"Type"}),s.jsx("th",{className:"p-4",children:"Status"}),s.jsx("th",{className:"p-4",children:"Action"}),s.jsx("th",{className:"p-4",children:"Approval"})]})}),s.jsx("tbody",{children:N.map((P,_)=>s.jsxs("tr",{className:"border-t text-center",children:[s.jsx("td",{className:"p-4 flex justify-center items-center",children:P.profileImage?s.jsx("img",{src:P.profileImage,alt:"Profile",className:"w-10 h-10 rounded-lg object-cover"}):s.jsx("span",{children:"No Image"})}),s.jsx("td",{className:"p-4",children:P.name}),s.jsx("td",{className:"p-4",children:P.mobile}),s.jsx("td",{className:"p-4",children:P.email}),s.jsx("td",{className:"p-4",children:P.type}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`inline-flex items-center justify-center w-20 h-8 rounded ${P.approved?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:P.approved?"Approved":"Pending"})}),s.jsxs("td",{className:"p-4",children:[s.jsx("button",{onClick:()=>e(`/dashboard/menu/serviceProvider/view/${P._id}`),className:"mr-2 rounded-md border border-[#2e4f31] text-[#2e4f31] py-1 px-3 text-center font-medium hover:bg-[#2e4f31] hover:text-white duration-200",title:"View Details",children:s.jsx(Iv,{})}),s.jsx("button",{onClick:()=>e(`/dashboard/menu/serviceProvider/edit/${P._id}`),className:"mr-2 rounded-md border border-[#3C50E0] text-[#3C50E0] py-1 px-3 text-center font-medium hover:bg-[#3C50E0] hover:text-white duration-200",title:"Edit Provider",children:s.jsx(Rv,{})}),s.jsx("button",{onClick:()=>b(P._id),className:"mr-2 rounded-md border border-[#c13d3d] text-[#c13d3d] py-1 px-3 text-center font-medium hover:bg-[#c13d3d] hover:text-white duration-200",title:"Delete Provider",children:s.jsx(Ov,{})})]}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("label",{className:"inline-flex items-center cursor-pointer",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:P.approved,onChange:()=>k(P._id,!P.approved)}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})})})})]},_))})]})}):s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("p",{className:"text-xl",children:"No service providers found."})})]})})},o3=()=>{const[e,t]=v.useState(null),{id:n}=yo(),i=Je(),[o,l]=v.useState(!1),[u,d]=v.useState("");v.useEffect(()=>{(async()=>{var g,b;try{const k=await oe.get(`http://localhost:8000/api/users/serviceProvider/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});k.data.success&&t(k.data.provider)}catch(k){alert(((b=(g=k.response)==null?void 0:g.data)==null?void 0:b.error)||"Error occurred while fetching data.")}})()},[n]);const f=x=>{d(x),l(!0)},m=()=>{l(!1),d("")};return e?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Service Provider Details"}),s.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Name:"})," ",e.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," ",e.email]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," ",e.phoneNo]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Role:"})," ",e.role]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Gender:"})," ",e.gender]}),s.jsxs("div",{children:[s.jsx("strong",{children:"DOB:"})," ",new Date(e.dob).toLocaleDateString()]})]}),s.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Services Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Services:"})," ",Array.isArray(e.services)?e.services.map((x,g)=>typeof x=="object"&&x!==null&&x.ser_name?x.ser_name:typeof x=="string"?x:"").filter(Boolean).join(", "):e.services||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Question:"})," ",e.question]})]}),s.jsxs("div",{className:"flex flex-row gap-4 justify-around",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Profile Image"}),e.profileImage&&s.jsx("div",{children:s.jsx("img",{src:`http://localhost:8000/public/registerImage/${e.profileImage}`,alt:"Profile",className:"w-32 h-32 object-cover rounded-md cursor-pointer hover:scale-105 transition-transform",onClick:()=>f(`http://localhost:8000/public/registerImage/${e.profileImage}`)})})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Citizenship"}),e.citizenshipImage&&s.jsx("div",{children:s.jsx("img",{src:`http://localhost:8000/public/registerImage/${e.citizenshipImage}`,alt:"Citizenship",className:"w-32 h-32 object-cover rounded-md cursor-pointer hover:scale-105 transition-transform",onClick:()=>f(`http://localhost:8000/public/registerImage/${e.citizenshipImage}`)})})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Service Certification"}),e.certificationImage&&s.jsx("div",{children:s.jsx("img",{src:`http://localhost:8000/public/registerImage/${e.certificationImage}`,alt:"Certification",className:"w-32 h-32 object-cover rounded-md cursor-pointer hover:scale-105 transition-transform",onClick:()=>f(`http://localhost:8000/public/registerImage/${e.certificationImage}`)})})]})]}),s.jsx("button",{onClick:()=>i(`/dashboard/menu/serviceProvider/edit/${e._id}`),className:"bg-blue-500 text-white px-6 py-2 rounded mt-6 block mx-auto",children:"Edit"})]}),o&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:u,alt:"Preview",className:"max-w-[90vw] max-h-[80vh] rounded-lg shadow-lg border-4 border-white"}),s.jsx("button",{onClick:m,className:"absolute top-2 right-2 bg-white rounded-full px-3 py-1 text-black text-lg font-bold shadow hover:bg-gray-200",children:""})]})})]}):s.jsx("p",{className:"text-center text-lg font-semibold",children:"Loading..."})},a3=()=>{const{id:e}=yo(),t=Je(),[n,i]=v.useState({name:"",email:"",phoneNo:"",dob:"",role:"serviceProvider",gender:"",services:[],question:""}),[o,l]=v.useState(!0),[u,d]=v.useState([]);v.useEffect(()=>{const m=async()=>{try{const g=await oe.get(`http://localhost:8000/api/users/serviceProvider/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});let b=g.data.provider.services;Array.isArray(b)?b=b.map(k=>typeof k=="object"&&k!==null?k._id:k):typeof b=="string"?b=[b]:b=[],i({...g.data.provider,services:b})}finally{l(!1)}},x=async()=>{const g=await Vv();d(g)};m(),x()},[e]);const f=async m=>{m.preventDefault();try{await oe.put(`http://localhost:8000/api/users/serviceProvider/${e}`,n,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),Ae.success("Provider updated successfully!"),t("/dashboard/menu/serviceProvider")}catch{Ae.error("Error updating provider.")}};return o?s.jsx("p",{className:"text-center text-gray-700 text-lg",children:"Loading..."}):s.jsxs("div",{className:"max-w-lg mx-auto mt-10 bg-white p-6 shadow-md rounded-lg",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-4 text-gray-800",children:"Edit Service Provider"}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700",children:"Name"}),s.jsx("input",{type:"text",placeholder:"Name",value:n.name,onChange:m=>i({...n,name:m.target.value}),className:"w-full p-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700",children:"Email"}),s.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:m=>i({...n,email:m.target.value}),className:"w-full p-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700",children:"Phone No"}),s.jsx("input",{type:"text",placeholder:"Phone No",value:n.phoneNo,onChange:m=>i({...n,phoneNo:m.target.value}),className:"w-full p-2 border rounded"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),s.jsx("input",{type:"date",name:"dob",value:n.dob?new Date(n.dob).toISOString().split("T")[0]:"",onChange:m=>i({...n,dob:m.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 p-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700",children:"Role"}),s.jsxs("select",{value:n.role,onChange:m=>i({...n,role:m.target.value}),className:"w-full p-2 border rounded",children:[s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"serviceProvider",children:"Service Provider"}),s.jsx("option",{value:"user",children:"User"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700",children:"Gender"}),s.jsxs("select",{value:n.gender,onChange:m=>i({...n,gender:m.target.value}),className:"w-full p-2 border rounded",children:[s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700",children:"Services"}),s.jsxs("div",{className:"w-full p-2 border rounded bg-gray-50",children:[u.filter(m=>n.services.includes(m._id)).map(m=>s.jsx("div",{className:"py-1 px-2",children:m.ser_name},m._id)),n.services.length===0&&s.jsx("div",{className:"text-gray-400",children:"No services selected"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700",children:"Security Question"}),s.jsx("input",{type:"text",placeholder:"Security Question",value:n.question,onChange:m=>i({...n,question:m.target.value}),className:"w-full p-2 border rounded"})]}),s.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700",children:"Save Changes"})]})]})},l3=()=>{const[e,t]=v.useState(null),{id:n}=yo(),i=Je(),[o,l]=v.useState(!1),[u,d]=v.useState("");v.useEffect(()=>{(async()=>{var g,b;try{const k=await oe.get(`http://localhost:8000/api/users/gharUsers/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});k.data.success&&t(k.data.user)}catch(k){alert(((b=(g=k.response)==null?void 0:g.data)==null?void 0:b.error)||"Error occurred while fetching data.")}})()},[n]);const f=x=>{d(x),l(!0)},m=()=>{l(!1),d("")};return e?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"User Details"}),s.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Name:"})," ",e.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," ",e.email]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," ",e.phoneNo]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Role:"})," ",e.role]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Gender:"})," ",e.gender]}),s.jsxs("div",{children:[s.jsx("strong",{children:"DOB:"})," ",new Date(e.dob).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex flex-row gap-4 justify-around",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Profile Image"}),e.profileImage&&s.jsx("img",{src:`http://localhost:8000/public/registerImage/${e.profileImage}`,alt:"Profile",className:"w-32 h-32 object-cover rounded-md cursor-pointer hover:scale-105 transition-transform",onClick:()=>f(`http://localhost:8000/public/registerImage/${e.profileImage}`)})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-4",children:"Citizenship"}),e.citizenshipImage&&s.jsx("img",{src:`http://localhost:8000/public/registerImage/${e.citizenshipImage}`,alt:"Citizenship",className:"w-32 h-32 object-cover rounded-md cursor-pointer hover:scale-105 transition-transform",onClick:()=>f(`http://localhost:8000/public/registerImage/${e.citizenshipImage}`)})]})]}),s.jsx("button",{onClick:()=>i(`/dashboard/menu/users/edit/${e._id}`),className:"bg-blue-500 text-white px-6 py-2 rounded mt-6 block mx-auto",children:"Edit"})]}),o&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:u,alt:"Preview",className:"max-w-[90vw] max-h-[80vh] rounded-lg shadow-lg border-4 border-white"}),s.jsx("button",{onClick:m,className:"absolute top-2 right-2 bg-white rounded-full px-3 py-1 text-black text-lg font-bold shadow hover:bg-gray-200",children:""})]})})]}):s.jsx("p",{className:"text-center text-lg font-semibold",children:"Loading..."})},c3=()=>{const[e,t]=v.useState({name:"",email:"",phoneNo:"",role:"",gender:"",dob:""}),{id:n}=yo(),i=Je();v.useEffect(()=>{(async()=>{var d,f;try{const m=await oe.get(`http://localhost:8000/api/users/gharUsers/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});m.data.success&&t(m.data.user)}catch(m){alert(((f=(d=m.response)==null?void 0:d.data)==null?void 0:f.error)||"Error fetching user data.")}})()},[n]);const o=u=>{t({...e,[u.target.name]:u.target.value})},l=async u=>{var d,f;u.preventDefault();try{(await oe.put(`http://localhost:8000/api/users/gharUsers/${n}`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.success&&(alert("User updated successfully!"),i(`/dashboard/menu/users/view/${n}`))}catch(m){alert(((f=(d=m.response)==null?void 0:d.data)==null?void 0:f.error)||"Error updating user.")}};return s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Edit User"}),s.jsxs("form",{onSubmit:l,className:"bg-white shadow-md rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium",children:"Name"}),s.jsx("input",{type:"text",name:"name",value:e.name,onChange:o,className:"w-full p-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:e.email,onChange:o,className:"w-full p-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium",children:"Phone"}),s.jsx("input",{type:"text",name:"phoneNo",value:e.phoneNo,onChange:o,className:"w-full p-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium",children:"Role"}),s.jsx("input",{type:"text",name:"role",value:e.role,onChange:o,className:"w-full p-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium",children:"Gender"}),s.jsxs("select",{name:"gender",value:e.gender,onChange:o,className:"w-full p-2 border rounded",children:[s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),s.jsx("input",{type:"date",name:"dob",value:e.dob?new Date(e.dob).toISOString().split("T")[0]:"",onChange:u=>t({...e,dob:u.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 p-2"})]})]}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-2 rounded",children:"Save"}),s.jsx("button",{type:"button",onClick:()=>i(`/dashboard/menu/users/view/${n}`),className:"bg-gray-500 text-white px-6 py-2 rounded",children:"Cancel"})]})]})]})},u3=()=>{const e=Je(),t=()=>{e("/")};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:s.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-md text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx("svg",{className:"mx-auto h-24 w-24 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Account Under Review"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your service provider account is currently pending approval from an administrator. This process may take up to 2-3 hours."}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Once your account is approved, you'll have full access to all service provider features. Thank you for your patience!"}),s.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors",children:"Go Back"}),s.jsx("div",{className:"border-t mt-6 pt-6",children:s.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact support at gharkosathi@gmail.com"})})]})})},Kv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Jv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let d3=Bt.icon({iconUrl:Kv,shadowUrl:Jv});Bt.Marker.prototype.options.icon=d3;const Ta=({providerPosition:e,userPosition:t,bookingState:n})=>{const i=Hv({locationfound(o){n==="idle"&&i.getCenter().distanceTo(o.latlng)>50&&i.flyTo(o.latlng,i.getZoom())}});return v.useEffect(()=>{if((n==="idle"||n==="accepted"||n==="confirmed"||n==="ongoing")&&i.locate({enableHighAccuracy:!0,watch:!0,timeout:5e3}),(n==="accepted"||n==="confirmed"||n==="ongoing")&&e&&t){const o=Bt.latLngBounds([e,t]);i.fitBounds(o,{padding:[50,50]})}else e&&n==="idle"&&i.setView(e,i.getZoom()||13);return()=>{i.stopLocate()}},[i,n,e,t]),s.jsxs(s.Fragment,{children:[e&&s.jsx(Jn,{position:e,children:s.jsx(Lr,{children:"Your Location"})}),(n==="accepted"||n==="confirmed"||n==="ongoing")&&t&&s.jsx(Jn,{position:t,children:s.jsx(Lr,{children:"User Location"})})]})};Ta.propTypes={providerPosition:De.object,userPosition:De.object,bookingState:De.string};const op=()=>{var bn,jn,te;const{user:e}=Pt(),{socket:t}=v.useContext(is),n=Je(),[i,o]=v.useState("available"),[l,u]=v.useState(null),[d,f]=v.useState("idle"),[m,x]=v.useState([]),[g,b]=v.useState([]),[k,N]=v.useState(!0),[C,P]=v.useState("Loading..."),[_,w]=v.useState(()=>{const W=localStorage.getItem("serviceProviderPosition");return W?JSON.parse(W):null}),[j,S]=v.useState({lat:27.7172,lng:85.324}),[O,$]=v.useState(null),[M,T]=v.useState(null),[q,F]=v.useState("");v.useState("");const[K,J]=v.useState(null),[fe,Re]=v.useState(0),[pe,ae]=v.useState([]),[H,A]=v.useState(""),[G,U]=v.useState(0);v.useState(null),v.useRef(null);const[ee,ge]=v.useState(0),[Me,ke]=v.useState("details"),ve=v.useCallback((W,Y,ne,we)=>{if(!W||!Y||!ne||!we)return 0;const R=6371,D=(ne-W)*Math.PI/180,re=(we-Y)*Math.PI/180,me=Math.sin(D/2)*Math.sin(D/2)+Math.cos(W*Math.PI/180)*Math.cos(ne*Math.PI/180)*Math.sin(re/2)*Math.sin(re/2),de=2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me));return(R*de).toFixed(1)},[]),se=v.useCallback(W=>Math.ceil(W*(60/30)),[]);v.useEffect(()=>{if(!t)return;const W=de=>{const ce={...de,details:{...de.details,userLocationName:de.details.userLocationName||C||"Current Location"}};b(st=>[...st,ce])},Y=de=>{f("accepted"),u(de)},ne=de=>{f("confirmed"),u(de)},we=de=>{f("confirmed"),u(de)},R=de=>{f("ongoing"),u(de)},D=de=>{f("user-completed"),u(de)},re=de=>{f("completed"),u(de),x(ce=>[{id:de.bookingId,customer:{name:de.details.userName||"Unknown User"},service:de.details.service,issue:de.details.issue,requestTime:new Date(de.details.requestTime).toLocaleTimeString(),status:"completed",earnings:75,date:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},...ce])},me=de=>{f("reviewed"),u(de)};return t.on("newBookingRequest",W),t.on("bookingConfirmed",Y),t.on("bookingConfirmedByUser",ne),t.on("problemDescriptionReceived",we),t.on("jobStartedSuccess",R),t.on("userCompletedJob",D),t.on("jobCompleted",re),t.on("reviewReceived",me),()=>{t.off("newBookingRequest",W),t.off("bookingConfirmed",Y),t.off("bookingConfirmedByUser",ne),t.off("problemDescriptionReceived",we),t.off("jobStartedSuccess",R),t.off("userCompletedJob",D),t.off("jobCompleted",re),t.off("reviewReceived",me)}},[t]);const ue=()=>{N(!k)},Ge=W=>{const Y=W.userLocation||W.details.userLocation;Y?S(Y):console.warn("User location not found in booking request."),navigator.geolocation.getCurrentPosition(ne=>{const we={lat:ne.coords.latitude,lng:ne.coords.longitude};localStorage.setItem("serviceProviderPosition",JSON.stringify(we)),w(we),u({...W,userLocationName:W.details.userLocationName||"Current Location",userLocation:Y,providerLocation:we}),f("reviewing")},ne=>{console.error("Error getting provider location:",ne),u({...W,userLocationName:W.details.userLocationName||"Current Location",userLocation:Y}),f("reviewing")},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},Jt=()=>{if(l&&t){if(l.userLocation&&(S(l.userLocation),_)){const W=ve(_.lat,_.lng,l.userLocation.lat,l.userLocation.lng);T(W),$(se(W))}t.emit("acceptBooking",{bookingId:l.bookingId}),b(g.filter(W=>W.bookingId!==l.bookingId))}},_t=()=>{l&&t&&(t.emit("declineBooking",{bookingId:l.bookingId}),b(g.filter(W=>W.bookingId!==l.bookingId)),u(null),f("idle"))},ft=()=>{l&&t&&(J(new Date),t.emit("startJob",{bookingId:l.bookingId}))},mt=()=>{if(l&&t){if(K){const Y=new Date-K,ne=Math.max(1,Math.ceil(Y/(1e3*60*60)));Re(ne)}ke("details"),t.emit("completeJob",{bookingId:l.bookingId,completedBy:"provider"})}},wt=()=>{d==="reviewed"?n("/services"):(u(null),f("idle"))};v.useEffect(()=>{if(!_)return;const Y=setTimeout(async()=>{try{if(!_||!_.lat||!_.lng)return console.error("Invalid coordinates:",_),P("Unknown location"),"Unknown location";const ne=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${_.lat}&lon=${_.lng}&zoom=18&addressdetails=1`);if(!ne.ok){console.error(`Failed to fetch location name: ${ne.status}`);const D=`${_.lat.toFixed(4)}, ${_.lng.toFixed(4)}`;return P(D),D}const R=(await ne.json()).display_name||`${_.lat.toFixed(4)}, ${_.lng.toFixed(4)}`;return P(R),R}catch(ne){if(console.error("Error getting location name:",ne),_&&typeof _.lat=="number"&&typeof _.lng=="number"){const we=`${_.lat.toFixed(4)}, ${_.lng.toFixed(4)}`;return P(we),we}else return P("Unknown location"),"Unknown location"}},1e3);return()=>{clearTimeout(Y)}},[_]);const Et=()=>{if(H&&G){const W={name:H,cost:parseFloat(G)||0};ae([...pe,W]),A(""),U(0)}},xe=W=>{const Y=[...pe];Y.splice(W,1),ae(Y)},Dt=()=>pe.reduce((W,Y)=>W+Y.cost,0),ln=()=>{if(l&&t){const Y=fe*200,ne=Dt(),we=Y+ne+ee,R={jobDuration:fe,hourlyRate:200,hourlyCharge:Y,materials:pe,materialCost:ne,additionalCharge:ee,maintenancePrice:we,maintenanceNotes:q};console.log("Sending maintenance details:",R),t.emit("updateMaintenanceDetails",{bookingId:l.bookingId,...R}),u(D=>({...D,maintenanceDetails:R}))}},[Gt,_n]=v.useState(null),[wn,Ft]=v.useState(null);return v.useEffect(()=>{var W;if(_&&((W=l==null?void 0:l.details)!=null&&W.userLocation)){const Y=l.details.userLocation.lat,ne=l.details.userLocation.lng,we=ve(_.lat,_.lng,Y,ne);_n(we),we&&Ft(Math.round(we/30*60))}},[_,l,ve]),v.useEffect(()=>{if(!t||!e)return;const W=Y=>{try{if(!Y||!Y.location||typeof Y.location.lat!="number"||typeof Y.location.lng!="number")return;if(Y.userId===e._id){const ne={lat:Y.location.lat,lng:Y.location.lng};w(ne),localStorage.setItem("serviceProviderPosition",JSON.stringify(ne))}}catch(ne){console.error("Error handling location update:",ne)}};if(t.on("location-update",W),e.role==="serviceProvider"){const Y=navigator.geolocation.watchPosition(ne=>{const we={lat:ne.coords.latitude,lng:ne.coords.longitude};w(we),localStorage.setItem("serviceProviderPosition",JSON.stringify(we)),t&&t.connected&&t.emit("update-location",{userId:e._id,location:we,timestamp:new Date().getTime()})},ne=>{console.error("Error getting location:",ne)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});return()=>{navigator.geolocation.clearWatch(Y),t.off("location-update",W)}}return()=>{t.off("location-update",W)}},[t,e]),s.jsx("div",{className:"p-4 h-full",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md h-full flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-2xl",children:"Service Provider Dashboard"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2 text-sm",children:"Status:"}),s.jsx("button",{onClick:ue,className:`px-3 py-1 rounded-full text-sm ${k?"bg-green-500 text-white":"bg-gray-300 text-gray-700"}`,children:k?"Available":"Unavailable"})]})]}),s.jsx("div",{className:"flex border-b mb-4",children:s.jsx("button",{className:`py-2 px-4 font-medium ${i==="available"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>o("available"),children:"Available Jobs"})}),s.jsxs("div",{className:"flex flex-col h-full",children:[d==="idle"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"h-2/3 w-full rounded overflow-hidden mb-4",children:[s.jsx("div",{className:"p-3 bg-gray-50 mb-3 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[s.jsxs("div",{className:"flex items-center mb-2 sm:mb-0",children:[s.jsx("div",{className:"bg-blue-500 text-white p-2 rounded-full mr-2",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Your Current Location"}),s.jsx("p",{className:"text-sm font-medium",children:C||"Detecting location..."})]})]}),s.jsxs("div",{className:"flex items-center bg-gray-100 px-3 py-1.5 rounded-full",children:[s.jsx("div",{className:`h-3 w-3 rounded-full ${k?"bg-green-500":"bg-gray-400"} mr-2`}),s.jsx("span",{className:"text-sm font-medium",children:k?"Available for bookings":"Unavailable"})]})]})}),s.jsx("div",{className:"flex-1 relative",style:{height:"400px",minHeight:"200px"},children:s.jsxs(Fi,{center:_||[27.7172,85.324],zoom:15,style:{height:"100%",width:"100%"},children:[s.jsx(Ui,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(Ta,{providerPosition:_,userPosition:l==null?void 0:l.userLocation,bookingState:d})]})})]}),i==="available"&&s.jsx("div",{className:"h-1/3 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Available Requests"}),g.length>0?s.jsx("div",{className:"space-y-3",children:g.map(W=>s.jsx("div",{className:"bg-gray-100 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-base",children:W.details.userName||"Unknown User"}),s.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:[W.details.service," - ",W.details.issue]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-gray-600",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Time:"})," ",new Date(W.details.requestTime).toLocaleTimeString()]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:"User Location:"}),s.jsx("p",{className:"text-sm font-medium",children:W.details.userLocationName||"Location unavailable"})]}),W.details.description&&s.jsxs("p",{className:"col-span-2 mt-1 bg-white p-2 rounded",children:[s.jsx("span",{className:"font-medium block",children:"Description:"})," ",s.jsx("span",{className:"line-clamp-2",children:W.details.description})]})]})]}),s.jsx("div",{className:"mt-3 sm:mt-0 sm:ml-4 flex sm:flex-col justify-end",children:s.jsx("button",{onClick:()=>Ge(W),className:"bg-blue-600 text-white text-sm px-4 py-2 rounded hover:bg-blue-700 w-full",children:"View Details"})})]})},W.bookingId))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),s.jsx("p",{children:"No available requests at the moment"}),s.jsx("p",{className:"text-sm mt-1",children:"New requests will appear here"})]})]})})]}),d==="reviewing"&&l&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center p-4 pointer-events-auto",children:s.jsxs("div",{className:"w-full max-w-sm bg-white rounded-lg shadow-lg p-4 text-sm",children:[s.jsx("h3",{className:"text-lg font-bold mb-3",children:"Service Request"}),s.jsxs("div",{className:"bg-blue-50 p-2 rounded-lg mb-3 text-xs",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("div",{className:"bg-blue-500 text-white p-1 rounded-full mr-2",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Your Location:"}),s.jsx("p",{className:"text-sm font-medium",children:C||"Detecting location..."})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-500 text-white p-1 rounded-full mr-2",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600",children:"User Location:"}),s.jsx("p",{className:"text-sm font-medium",children:((bn=l==null?void 0:l.details)==null?void 0:bn.userLocationName)||(l==null?void 0:l.userLocationName)||"Location unavailable"})]})]})]}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Issue"}),s.jsx("p",{children:l.details.issue})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Service"}),s.jsx("p",{children:l.details.service})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Phone"}),s.jsx("p",{children:l.details.userPhone||l.userPhone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Location"}),s.jsx("p",{children:l.details.userLocationName||l.userLocationName})]}),l.details.description&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"User's Description"}),s.jsx("p",{className:"bg-gray-50 p-2 rounded text-xs",children:l.details.description})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("button",{onClick:_t,className:"py-2 border border-gray-300 rounded-lg hover:bg-gray-100",children:"Decline"}),s.jsx("button",{onClick:Jt,className:"py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Accept"})]})]})}),d==="accepted"&&l&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center p-4 pointer-events-auto",children:s.jsxs("div",{className:"w-full max-w-sm bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Job Accepted"}),((jn=l.details)==null?void 0:jn.userLocationName)&&s.jsxs("p",{className:"text-lg font-medium mb-4",children:["Location: ",l.details.userLocationName]}),s.jsx("div",{className:"h-48 mb-4 rounded-lg overflow-hidden border border-gray-200",children:s.jsxs(Fi,{center:j,zoom:13,className:"w-full h-full",children:[s.jsx(Ui,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(Ta,{providerPosition:_,userPosition:j,bookingState:d})]})}),s.jsxs("p",{className:"text-gray-700 mb-2",children:["Distance: ",M!==null?`${M} km`:"Calculating..."]}),s.jsxs("p",{className:"text-gray-700 mb-4",children:["ETA: ",O!==null?`${O} minutes`:"Calculating..."]}),s.jsx("button",{onClick:ft,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700",children:"Start Job"})]})}),d==="confirmed"&&l&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center p-4 pointer-events-auto",children:s.jsxs("div",{className:"w-full max-w-sm bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Booking Confirmed"}),((te=l.details)==null?void 0:te.userLocationName)&&s.jsxs("p",{className:"text-lg font-medium mb-4",children:["Location: ",l.details.userLocationName]}),s.jsx("div",{className:"h-48 mb-4 rounded-lg overflow-hidden border border-gray-200",children:s.jsxs(Fi,{center:j,zoom:13,className:"w-full h-full",children:[s.jsx(Ui,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(Ta,{providerPosition:_,userPosition:j,bookingState:d})]})}),s.jsxs("p",{className:"text-gray-700 mb-4",children:["Problem: ",l.details.issue]}),s.jsx("button",{onClick:ft,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700",children:"Start Job"})]})}),d==="ongoing"&&l&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center p-4 pointer-events-auto",children:s.jsx("div",{className:"w-full max-w-sm bg-white rounded-lg shadow-lg p-6",children:s.jsxs("div",{className:"flex-1 overflow-y-auto pr-4 -mr-4",children:[s.jsxs("div",{className:"border rounded-lg p-3 mb-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Maintenance Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Service Notes"}),s.jsx("textarea",{className:"w-full border rounded-lg p-2 text-sm",rows:"3",placeholder:"Enter details about the service performed",value:q,onChange:W=>F(W.target.value)})]}),s.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[s.jsx("p",{className:"text-sm font-medium",children:"Hourly Charge"}),s.jsxs("p",{className:"text-sm",children:[fe," ",fe===1?"hour":"hours","  Rs. 200 = Rs. ",fe*200]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Materials Used"}),s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsx("input",{type:"text",className:"flex-1 border rounded-lg p-2 text-sm",placeholder:"Material name",value:H,onChange:W=>A(W.target.value)}),s.jsx("input",{type:"number",className:"w-24 border rounded-lg p-2 text-sm",placeholder:"Cost",value:G,onChange:W=>U(parseFloat(W.target.value)||0)}),s.jsx("button",{onClick:Et,className:"bg-green-500 text-white px-2 rounded-lg hover:bg-green-600 text-sm",children:"Add"})]}),pe.length>0&&s.jsxs("div",{className:"mb-2 border rounded-lg p-2 bg-gray-50",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Added Materials:"}),s.jsxs("ul",{className:"space-y-1",children:[pe.map((W,Y)=>s.jsxs("li",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:W.name}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("span",{children:["Rs. ",W.cost]}),s.jsx("button",{onClick:()=>xe(Y),className:"text-red-500 hover:text-red-700",children:""})]})]},Y)),s.jsx("li",{className:"pt-1 border-t text-sm font-medium",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Material Cost:"}),s.jsxs("span",{children:["Rs. ",Dt()]})]})})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Additional Charges (Rs)"}),s.jsx("input",{type:"number",className:"w-full border rounded-lg p-2 text-sm",placeholder:"Enter additional charges if any",value:ee,onChange:W=>ge(parseFloat(W.target.value)||0)})]}),s.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[s.jsx("p",{className:"text-sm font-medium",children:"Total Price"}),s.jsxs("p",{className:"text-lg font-bold",children:["Rs. ",fe*200+Dt()+ee]})]}),s.jsx("button",{onClick:ln,className:"w-full bg-blue-500 text-white py-1 rounded-lg hover:bg-blue-600 text-sm",children:"Save Details"})]})]}),s.jsxs("button",{onClick:mt,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 flex items-center justify-center mt-4",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Complete Job"]})]})})}),d==="user-completed"&&l&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center p-4 pointer-events-auto",children:s.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"User Confirmed Completion"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The user has confirmed the job is complete."}),(l.maintenanceNotes||l.maintenancePrice)&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Service Details"}),l.maintenanceNotes&&s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"text-sm font-semibold",children:"Service Notes:"}),s.jsx("p",{className:"text-sm",children:l.maintenanceNotes})]}),l.maintenancePrice&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Price:"}),s.jsxs("p",{className:"text-lg font-bold",children:["Rs. ",l.maintenancePrice]})]})]}),s.jsx("button",{onClick:wt,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Back to Dashboard"})]})}),d==="completed"&&l&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center p-4 pointer-events-auto",children:s.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full mx-auto flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Job Completed Successfully!"}),s.jsx("p",{className:"text-gray-600",children:"Waiting for user review."})]}),(l.maintenanceNotes||l.maintenancePrice)&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Service Details"}),l.maintenanceNotes&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Service Notes:"}),s.jsx("p",{className:"text-sm text-gray-600",children:l.maintenanceNotes})]}),l.maintenancePrice&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Price:"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Rs. ",l.maintenancePrice]})]})]}),s.jsxs("button",{onClick:wt,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium flex items-center justify-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Back to Dashboard"]})]})}),d==="reviewed"&&l&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center p-4 pointer-events-auto",children:s.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-400 rounded-full mx-auto flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Review Received!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The user has submitted their feedback."})]}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-center mb-2",children:[1,2,3,4,5].map(W=>s.jsx("svg",{className:`w-6 h-6 ${W<=l.review.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},W))}),s.jsxs("p",{className:"text-center text-gray-700 font-medium",children:["Rating: ",l.review.rating," out of 5"]}),s.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Feedback:"}),s.jsxs("p",{className:"text-gray-600 italic",children:['"',l.review.comment,'"']})]})]})}),(l.maintenanceNotes||l.maintenancePrice)&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Service Details"}),l.maintenanceNotes&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Service Notes:"}),s.jsx("p",{className:"text-sm text-gray-600",children:l.maintenanceNotes})]}),l.maintenancePrice&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Price:"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Rs. ",l.maintenancePrice]})]})]}),s.jsxs("button",{onClick:wt,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium flex items-center justify-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Back to Dashboard"]})]})})]})]})})};let h3=Bt.icon({iconUrl:Kv,shadowUrl:Jv});Bt.Marker.prototype.options.icon=h3;const f3=({userPosition:e,providerPosition:t,bookingState:n,onUserLocationFound:i})=>{const o=Hv({locationfound(l){n==="idle"&&o.getCenter().distanceTo(l.latlng)>50&&o.flyTo(l.latlng,o.getZoom()),i&&i(l.latlng)}});return v.useEffect(()=>{if(n==="idle")o.locate({enableHighAccuracy:!0,watch:!0,timeout:5e3});else if(n==="accepted"||n==="confirmed"||n==="ongoing"){if(o.locate({enableHighAccuracy:!0,watch:!0,timeout:5e3}),e&&t){const l=Bt.latLngBounds([e,t]);o.fitBounds(l,{padding:[50,50]})}}else o.stopLocate();return()=>{o.stopLocate()}},[o,n,e,t]),s.jsxs(s.Fragment,{children:[e&&s.jsx(Jn,{position:e,children:s.jsx(Lr,{children:"Your Location"})}),(n==="accepted"||n==="confirmed"||n==="ongoing")&&t&&s.jsx(Jn,{position:t,children:s.jsx(Lr,{children:"Service Provider Location"})})]})},m3=()=>{var ln,Gt,_n,wn,Ft,bn,jn,te,W,Y,ne,we;const[e,t]=v.useState(null),[n,i]=v.useState("idle"),[o,l]=v.useState(null),[u,d]=v.useState([]),[f,m]=v.useState(null),[x,g]=v.useState(""),[b,k]=v.useState("All"),[N,C]=v.useState(""),[P,_]=v.useState(0),[w,j]=v.useState(""),[S,O]=v.useState(()=>{const R=localStorage.getItem("userCurrentPosition");return R?JSON.parse(R):{lat:27.7172,lng:85.3238}}),[$,M]=v.useState(null),[T,q]=v.useState(null),[F,K]=v.useState(null),[J,fe]=v.useState("map"),[Re,pe]=v.useState([]),{user:ae}=Pt(),{socket:H}=v.useContext(is),G=((ln=Kt().state)==null?void 0:ln.selectedService)||null,[U,ee]=v.useState(!1);v.useEffect(()=>{if(H)return H.on("bookingAccepted",R=>{console.log("Booking accepted:",R),Q.success(`${R.providerName||"Service provider"} has accepted your booking request!`,{duration:5e3,icon:"",style:{borderRadius:"10px",background:"#4BB543",color:"#fff"}}),i("accepted"),l(R)}),H.on("bookingDeclined",R=>{console.log("Booking declined:",R),i("idle"),l(null),m(R.message||"Booking was declined by the service provider")}),H.on("bookingError",R=>{console.error("Booking error:",R),i("idle"),l(null),m(R.message||"An error occurred with your booking")}),H.on("bookingConfirmedByUser",R=>{console.log("Booking confirmed by user:",R),i("confirmed"),l(R)}),H.on("jobStarted",R=>{console.log("Job started:",R),i("ongoing"),l({...R,jobStartTime:Date.now()})}),H.on("providerCompletedJob",R=>{console.log("Provider completed job:",R);const D=Date.now(),re=Math.ceil((D-R.jobStartTime)/(1e3*60*60));i("provider-completed"),l({...R,jobEndTime:D,durationHours:re})}),H.on("jobCompleted",R=>{if(console.log("Job completed:",R),R.maintenanceDetails){const D={...R.maintenanceDetails};D.hourlyCharge=parseFloat(D.hourlyCharge)||200,D.additionalCharge=parseFloat(D.additionalCharge)||0,D.materials&&D.materials.length>0?(D.materials=D.materials.map(re=>({...re,cost:parseFloat(re.cost)||0})),D.materialCost=D.materials.reduce((re,me)=>re+(parseFloat(me.cost)||0),0)):D.materialCost=parseFloat(D.materialCost)||0,D.maintenancePrice?D.maintenancePrice=parseFloat(D.maintenancePrice)||0:D.maintenancePrice=D.hourlyCharge+D.materialCost+D.additionalCharge,R.maintenanceDetails=D}Q.success("Service has been completed successfully!",{duration:5e3,icon:"",style:{borderRadius:"10px",background:"#4BB543",color:"#fff"}}),i("completed"),l(R)}),H.on("paymentSuccess",R=>{console.log("Payment success:",R),i("paid"),g(R.message||"Payment successful")}),H.on("reviewSubmitted",R=>{console.log("Review submitted:",R),i("reviewed"),g(R.message||"Review submitted successfully")}),H.on("location-update",R=>{if(console.log("Location update:",R),R&&R.location){const D={...R.location,locationName:R.locationName||null};K(D),R.eta&&M(R.eta),R.distance&&q(R.distance),D.locationName||Et(D.lat,D.lng).then(re=>{K(me=>({...me,locationName:re}))}).catch(re=>console.error("Error getting provider location name:",re))}}),H.on("maintenanceDetailsUpdated",R=>{if(console.log("Maintenance details updated:",R),!R||!R.maintenanceDetails){console.error("Missing maintenance details in update");return}const D={...R.maintenanceDetails};D.hourlyCharge=parseFloat(D.hourlyCharge)||200,D.additionalCharge=parseFloat(D.additionalCharge)||0,D.materials&&D.materials.length>0?(D.materials=D.materials.map(ir=>({...ir,cost:parseFloat(ir.cost)||0})),D.materialCost=D.materials.reduce((ir,os)=>ir+(parseFloat(os.cost)||0),0)):D.materialCost?D.materialCost=parseFloat(D.materialCost)||0:D.materialCost=0,D.maintenancePrice?D.maintenancePrice=parseFloat(D.maintenancePrice)||0:D.maintenancePrice=D.hourlyCharge+D.materialCost+D.additionalCharge,console.log("Fixed maintenance details:",D);const re=JSON.parse(JSON.stringify(o||{})),me={...re,details:{...re.details||{},maintenanceDetails:D},maintenanceDetails:D};console.log("Updated booking details:",me),l(me);const{hourlyCharge:de,materialCost:ce,additionalCharge:st,maintenancePrice:An}=D,Lt=An||de+ce+st;Q.info(`Service details updated: Total Rs. ${Lt}`)}),H.on("bookingCancelled",R=>{console.log("Booking cancelled:",R),Q.info(R.message,{duration:5e3,icon:"",style:{borderRadius:"10px",background:"#FF4B4B",color:"#fff"}}),R.reason&&Q.info(`Reason: ${R.reason}`,{duration:5e3,style:{borderRadius:"10px",background:"#4A5568",color:"#fff"}}),i("idle"),l(null)}),H.on("bookingCancellationConfirmed",R=>{console.log("Booking cancellation confirmed:",R),Q.success(R.message,{duration:5e3,icon:"",style:{borderRadius:"10px",background:"#48BB78",color:"#fff"}}),i("idle"),l(null)}),()=>{H.off("bookingAccepted"),H.off("bookingDeclined"),H.off("bookingError"),H.off("bookingConfirmedByUser"),H.off("jobStarted"),H.off("providerCompletedJob"),H.off("jobCompleted"),H.off("paymentSuccess"),H.off("reviewSubmitted"),H.off("location-update"),H.off("maintenanceDetailsUpdated"),H.off("bookingCancelled"),H.off("bookingCancellationConfirmed")}},[H]);const ge=async()=>{var R,D;try{const re=G?`http://localhost:8000/api/users/serviceProvider?service=${G}`:"http://localhost:8000/api/users/serviceProvider",me=await oe.get(re,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(me.data.success){const de=me.data.serviceProviders.map((ce,st)=>{const ir=(Math.random()-.5)*.05,os=(Math.random()-.5)*.05;return{id:ce._id,name:ce.name||"Unknown Provider",phone:ce.phoneNo||"N/A",email:ce.email||"N/A",services:Array.isArray(ce.services)?ce.services.map(ui=>typeof ui=="object"?ui.ser_name:ui).join(", "):typeof ce.services=="string"?ce.services:"General Services",realTimeLocation:{lat:27.7172+ir,lng:85.324+os},position:{x:20+st*15%60,y:25+st*10%50},hourlyRate:200,profileImage:ce.profileImage||null,image:ce.profileImage?`http://localhost:8000/public/registerImage/${ce.profileImage}`:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 24 24' fill='none' stroke='%23e5e7eb' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E",rating:ce.rating||(4+Math.random()).toFixed(1),completedJobs:ce.completedJobs||Math.floor(Math.random()*200)+50,status:ce.approved?"Active":"Pending",experience:ce.question||"Experienced Professional",gender:ce.gender||"Not Specified",dob:ce.dob?new Date(ce.dob).toLocaleDateString():"Not Specified"}});d(de),console.log("Loaded service providers:",de)}}catch(re){console.error("Error fetching service providers:",re),m(((D=(R=re.response)==null?void 0:R.data)==null?void 0:D.error)||"Failed to fetch service providers")}};v.useEffect(()=>{ge()},[G]);const Me=u.filter(R=>b==="All"?!0:b==="Available"?R.status==="Active":!1),ke=R=>{n==="idle"&&t(R)},ve=()=>{if(e&&N)try{Q.success("Service booking request sent successfully!",{duration:5e3,icon:"",style:{borderRadius:"10px",background:"#4BB543",color:"#fff"}}),i("waiting"),navigator.geolocation.getCurrentPosition(async R=>{const D={lat:R.coords.latitude,lng:R.coords.longitude};localStorage.setItem("userCurrentPosition",JSON.stringify(D)),O(D);let re=ft;if(!re)try{re=await Et(D.lat,D.lng)}catch(de){console.error("Error getting location name:",de),re=`${D.lat.toFixed(4)}, ${D.lng.toFixed(4)}`}const me={userId:ae._id,userName:ae.name,userPhone:ae.phoneNo,providerId:e.id,service:e.services,issue:"Repair Needed",description:N,userLocation:D,userLocationName:re,providerLocation:e.realTimeLocation||null};console.log("Sending booking request:",me),H?(H.emit("sendBookingRequest",me),l(me)):(console.error("Socket not available for booking request"),m("Connection error. Please try again."),i("idle"))},R=>{console.error("Geolocation error:",R);const D={userId:ae._id,userName:ae.name,userPhone:ae.phoneNo,providerId:e.id,service:e.services,issue:"Repair Needed",description:N,userLocation:S,userLocationName:ft||"Current Location",providerLocation:e.realTimeLocation||null};console.log("Sending booking request with last known position:",D),H?(H.emit("sendBookingRequest",D),l(D)):(console.error("Socket not available for booking request"),m("Connection error. Please try again."),i("idle"))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}catch(R){console.error("Error sending booking request:",R),m("Failed to send booking request. Please try again."),i("idle")}else m("Please select a service provider and provide a description")},se=()=>{o&&H&&H.emit("confirmBooking",{bookingId:o.bookingId})},ue=()=>{o&&H&&H.emit("completeJob",{bookingId:o.bookingId,completedBy:"user"})},Ge=async R=>{if(!o||!H){m("Booking details not available");return}ee(!0);try{console.log("Full booking details:",JSON.stringify(o)),console.log("Maintenance details for payment:",{hourlyCharge:xe("hourlyCharge",200),materialCost:xe("materialCost",0),additionalCharge:xe("additionalCharge",0),materials:xe("materials",[]),calculatedTotal:xe("hourlyCharge",200)+xe("materialCost",0)+xe("additionalCharge",0)});let D=0;const re=xe("materials",[]);re&&re.length>0?D=re.reduce((ce,st)=>ce+(parseFloat(st.cost)||0),0):D=xe("materialCost",0);const me={jobDuration:xe("jobDuration",1),hourlyRate:xe("hourlyRate",200),hourlyCharge:xe("hourlyCharge",200),materials:re,materialCost:D,additionalCharge:parseFloat(xe("additionalCharge",0)),maintenancePrice:xe("maintenancePrice")||xe("hourlyCharge",200)+D+parseFloat(xe("additionalCharge",0))};console.log("Saving booking to database with maintenance details:",me),H.emit("saveBookingForPayment",{bookingId:o.bookingId,paymentMethod:R,maintenanceDetails:me});const de=await new Promise((ce,st)=>{const An=setTimeout(()=>{st(new Error("Timeout waiting for booking to save"))},8e3);H.once("bookingSaved",Lt=>{clearTimeout(An),console.log("Booking saved successfully:",Lt),ce(Lt)}),H.once("bookingSaveError",Lt=>{clearTimeout(An),console.error("Error saving booking:",Lt),st(new Error(Lt.message||"Failed to save booking"))})});if(console.log("Booking saved with MongoDB ID:",de.mongoId),R==="cash"){const ce=await Qr.markAsCashPayment(de.mongoId);console.log("Cash payment response:",ce),Q.success("Cash payment confirmed"),i("paid")}else if(R==="esewa")try{console.log("Initiating eSewa payment with MongoDB ID:",de.mongoId);const ce=await Qr.initiateEsewaPayment(de.mongoId);if(ce.success)Qr.submitEsewaForm(ce.paymentUrl,ce.formData),Q.info("Processing payment with eSewa. Please complete the payment process.");else throw new Error(ce.message||"Failed to initiate eSewa payment")}catch(ce){console.error("eSewa payment error:",ce),Q.error(ce.message||"Payment processing failed"),m(ce.message||"Failed to initiate eSewa payment")}}catch(D){console.error("Payment error:",D),m("Payment failed. Please try again: "+D.message),Q.error("Payment failed: "+D.message)}finally{ee(!1)}},Jt=()=>{o&&P>0&&H&&(H.emit("submitReview",{bookingId:o.bookingId,rating:P,comment:w}),_(0),j(""))},_t=v.useCallback(async()=>{if(o!=null&&o.bookingId)try{await La.cancelBooking(o.bookingId,"Cancelled by user","user"),Q.info("You cancelled the service provider booking",{duration:5e3,icon:"",style:{borderRadius:"10px",background:"#FF4B4B",color:"#fff"}}),i("cancelled"),await new Promise(R=>setTimeout(R,2e3))}catch(R){console.error("Error cancelling booking:",R),Q.error("Failed to cancel booking")}t(null),i("idle"),l(null),C(""),_(0),j(""),m(null),g(null),K(null),M(null),q(null),O(null)},[o]),[ft,mt]=v.useState(""),wt=v.useRef({}),Et=v.useCallback(async(R,D)=>{const re=`${parseFloat(R).toFixed(4)},${parseFloat(D).toFixed(4)}`;if(wt.current[re])return wt.current[re];try{const me=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${R}&lon=${D}&zoom=18&addressdetails=1`);if(!me.ok)throw new Error(`Failed to fetch location name: ${me.status}`);const ce=(await me.json()).display_name||`${R.toFixed(4)}, ${D.toFixed(4)}`;return wt.current[re]=ce,ce}catch(me){console.error("Error getting location name from API:",me);const de=`${R.toFixed(4)}, ${D.toFixed(4)}`;return wt.current[re]=de,de}},[wt]);v.useEffect(()=>{let R=!0;if(S){const re=setTimeout(async()=>{try{const me=await Et(S.lat,S.lng);R&&mt(me)}catch{R&&!ft&&mt(`${S.lat.toFixed(4)}, ${S.lng.toFixed(4)}`)}},1e3);return()=>{R=!1,clearTimeout(re)}}},[S,Et,ft]),v.useEffect(()=>{pe([{id:"booking123",provider:{name:"Ramesh Sharma",service:"Plumbing"},date:"May 15, 2023",status:"completed",cost:450},{id:"booking456",provider:{name:"Suresh Kumar",service:"Electrician"},date:"Apr 28, 2023",status:"completed",cost:350},{id:"booking789",provider:{name:"Kamal Thapa",service:"Carpenter"},date:"Mar 12, 2023",status:"completed",cost:600}])},[]);const xe=(R,D=0)=>{var me;let re;if(o!=null&&o.maintenanceDetails&&o.maintenanceDetails[R]!==void 0)re=o.maintenanceDetails[R];else if((me=o==null?void 0:o.details)!=null&&me.maintenanceDetails&&o.details.maintenanceDetails[R]!==void 0)re=o.details.maintenanceDetails[R];else if(R==="materialCost"){const de=xe("materials",[]);if(de&&de.length>0)return de.reduce((ce,st)=>ce+(parseFloat(st.cost)||0),0);re=D}else re=D;return["hourlyCharge","hourlyRate","materialCost","additionalCharge","maintenancePrice","jobDuration"].includes(R)?parseFloat(re)||D:re},Dt=v.useCallback(async R=>{O(R),localStorage.setItem("userCurrentPosition",JSON.stringify(R));const D=await Et(R.lat,R.lng);mt(D)},[Et]);return s.jsx("div",{className:"h-screen flex flex-col",children:s.jsx("div",{className:"p-4 h-full",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md h-full flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-2xl",children:"User Dashboard"}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-gray-600 text-sm",children:(ae==null?void 0:ae.name)||"User"})})]}),s.jsx("div",{className:"flex border-b mb-4",children:s.jsx("button",{className:`py-2 px-4 font-medium ${J==="map"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,onClick:()=>fe("map"),children:"Find Services"})}),s.jsx("div",{className:"flex-1 flex flex-col gap-4",children:J==="map"&&s.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"lg:w-2/3 overflow-hidden bg-white shadow-md rounded-lg",children:[f&&s.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:s.jsx("p",{children:f})}),x&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 z-50",children:s.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-6 py-4 rounded-lg max-w-md",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("h3",{className:"font-semibold",children:"Success"})]}),s.jsx("p",{className:"mb-4",children:x}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>g(null),className:"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Dismiss"})})]})}),F&&(n==="accepted"||n==="confirmed"||n==="ongoing")&&s.jsxs("div",{className:"p-3 bg-blue-50 mb-3 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-500 text-white p-2 rounded-full mr-2",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),s.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"})]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Service Provider Location"}),s.jsx("p",{className:"text-sm font-medium",children:F.locationName||`${F.lat.toFixed(4)}, ${F.lng.toFixed(4)}`})]})]}),T&&s.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-blue-100",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-500 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),s.jsxs("span",{className:"text-sm",children:["Distance: ",s.jsxs("strong",{children:[T," km"]})]})]}),$&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-500 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),s.jsxs("span",{className:"text-sm",children:["ETA: ",s.jsxs("strong",{children:[$," mins"]})]})]})]})]}),ft&&J==="map"&&s.jsxs("div",{className:"p-3 bg-gray-50 mb-3 rounded-lg shadow-sm",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Your Current Location"}),s.jsx("p",{className:"text-sm font-medium",children:ft})]}),s.jsx("div",{className:"flex-1 relative h-[400px] rounded-lg overflow-hidden border border-gray-200",children:s.jsxs(Fi,{center:S||[27.7172,85.324],zoom:15,style:{height:"100%",width:"100%"},whenCreated:R=>{},children:[s.jsx(Ui,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(f3,{userPosition:S,providerPosition:F,bookingState:n,onUserLocationFound:Dt})]})})]}),s.jsxs("div",{className:"w-full lg:w-1/3 flex flex-col gap-4 overflow-hidden",children:[n==="idle"&&!e&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 max-h-[calc(100vh-240px)] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white z-10 pb-2 mb-4 border-b",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Available Service Providers"}),s.jsx("div",{className:"flex gap-2",children:["All","Available"].map(R=>s.jsx("button",{onClick:()=>k(R),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${b===R?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R},R))})]}),Me.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-500",children:[s.jsx("svg",{className:"h-16 w-16 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-lg text-center",children:"No service providers available."})]}):s.jsx("div",{className:"space-y-4",children:Me.filter(R=>R.status==="Active").map(R=>s.jsxs("div",{className:"bg-white border border-gray-200 hover:border-blue-300 rounded-lg p-3 hover:shadow-md transition-all cursor-pointer",onClick:()=>ke(R),children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs("div",{className:"relative w-16 h-16 flex-shrink-0",children:[s.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full rounded-lg object-cover border-2 border-blue-100 bg-gray-100",onError:D=>{D.target.onerror=null,D.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 24 24' fill='none' stroke='%23e5e7eb' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E"}}),s.jsx("div",{className:"absolute -bottom-1 -right-1",children:s.jsx("span",{className:"bg-green-500 text-white text-xs px-1.5 py-0.5 rounded-full shadow-sm",children:"Active"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-0.5 truncate",children:R.name}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("div",{className:"flex items-center text-yellow-400",children:[...Array(5)].map((D,re)=>s.jsx("span",{className:`text-sm ${re<Math.floor(R.rating)?"text-yellow-400":"text-gray-300"}`,children:""},re))}),s.jsx("span",{className:"text-sm font-medium text-gray-700 ml-1",children:R.rating}),s.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",R.completedJobs," jobs)"]})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("p",{className:"text-sm text-gray-600 truncate",children:[s.jsx("span",{className:"font-medium",children:"Services:"})," ",R.services]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",R.phone]})]})]})]}),s.jsxs("button",{className:"w-full mt-2 bg-blue-500 hover:bg-blue-600 text-white py-1.5 px-4 rounded-lg transition-all flex items-center justify-center text-sm font-medium shadow-sm hover:shadow-md",onClick:D=>{D.stopPropagation(),ke(R)},children:[s.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Book Now"]})]},R.id))})]}),e&&n==="idle"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-fade-in max-h-[calc(100vh-240px)] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-24 h-24 rounded-lg object-cover border-2 border-blue-500",onError:R=>{R.target.onerror=null,R.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 24 24' fill='none' stroke='%23e5e7eb' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E"}}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"flex items-center text-yellow-400",children:[...Array(5)].map((R,D)=>s.jsx("span",{className:`text-lg ${D<Math.floor(e.rating)?"text-yellow-400":"text-gray-300"}`,children:""},D))}),s.jsx("span",{className:"text-lg font-medium text-gray-700 ml-2",children:e.rating}),s.jsxs("span",{className:"text-gray-600 ml-2 text-lg",children:["(",e.completedJobs," jobs)"]})]})]})]}),s.jsxs("div",{className:"space-y-4 mb-6 bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Services:"}),s.jsx("span",{className:"text-gray-900",children:e.services})]}),s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Rate:"}),s.jsxs("span",{className:"text-gray-900",children:["Rs ",e.hourlyRate,"/hour"]})]}),s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),s.jsx("span",{className:"text-green-600 font-medium",children:e.status})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-lg font-medium text-gray-700 mb-2",children:"Describe your problem"}),s.jsx("textarea",{className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-gray-700 text-lg",placeholder:"Please describe your issue in detail...",rows:"4",value:N,onChange:R=>C(R.target.value)})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:_t,className:"flex-1 bg-gray-100 text-gray-800 py-3 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center text-lg font-medium",children:[s.jsx("svg",{className:"h-6 w-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),s.jsxs("button",{onClick:ve,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:!N,children:[s.jsx("svg",{className:"h-6 w-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Book Now"]})]})]}),n!=="idle"&&o&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-fade-in max-h-[calc(100vh-2rem)] overflow-y-auto",children:[n==="waiting"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-pulse mb-4",children:s.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),s.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Waiting for ",e.name," to Accept"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your request has been sent and is waiting for confirmation."}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-4 text-left",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"flex justify-between",children:[s.jsx("span",{className:"font-semibold",children:"Services:"}),s.jsx("span",{children:e.services})]}),s.jsxs("p",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"font-semibold",children:"Description:"}),s.jsx("span",{className:"text-right max-w-[200px]",children:N})]}),s.jsxs("p",{className:"flex justify-between",children:[s.jsx("span",{className:"font-semibold",children:"Location:"}),s.jsx("span",{children:ft})]})]})}),n==="cancelled"&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Booking Cancelled"}),s.jsx("div",{className:"mt-1 text-sm text-red-700",children:"You have cancelled your service request."})]})]})}),s.jsxs("button",{onClick:_t,className:"w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center",children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel Request"]})]}),n==="accepted"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500 flex items-center justify-center animate-bounce",children:s.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),s.jsx("h3",{className:"text-xl font-bold text-center",children:"Booking Accepted!"}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:"font-medium",children:e.name}),s.jsx("p",{className:"text-gray-600",children:e.services})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:_t,className:"flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center",children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),s.jsxs("button",{onClick:se,className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirm"]})]})]}),n==="confirmed"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-500 flex items-center justify-center animate-pulse",children:s.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})}),s.jsx("h3",{className:"text-xl font-bold text-center",children:"Service Starting Soon"}),s.jsx("p",{className:"text-gray-600 text-center mb-4",children:"The service provider will begin shortly."}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:((Gt=o.details)==null?void 0:Gt.providerImage)||"https://via.placeholder.com/50",alt:(_n=o.details)==null?void 0:_n.providerName,className:"w-12 h-12 rounded-full mr-3 object-cover border-2 border-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:(wn=o.details)==null?void 0:wn.providerName}),s.jsx("p",{className:"text-sm text-gray-600",children:(Ft=o.details)==null?void 0:Ft.providerServices})]})]}),s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Description:"})," ",o.description]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",((bn=o.details)==null?void 0:bn.providerPhone)||"Not provided"]}),F&&s.jsxs("div",{className:"bg-green-50 p-3 rounded mt-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Provider Location:"}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"En Route"})]}),s.jsx("p",{className:"text-xs",children:F.locationName||`${F.lat.toFixed(4)}, ${F.lng.toFixed(4)}`}),T&&s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"font-medium",children:"Distance:"})," ",T," km"]}),$&&s.jsxs("p",{className:"text-xs font-medium text-blue-800",children:["ETA: ",$," mins"]})]})]})]})]})]}),n==="ongoing"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-yellow-500 flex items-center justify-center",children:s.jsx("svg",{className:"h-8 w-8 text-white animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),s.jsx("h3",{className:"text-xl font-bold text-center",children:"Service in Progress"}),s.jsx("p",{className:"text-gray-600 text-center mb-4",children:"The service provider is currently working on your request."}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-lg",children:(jn=o.details)==null?void 0:jn.providerName}),s.jsx("p",{className:"text-gray-600",children:(te=o.details)==null?void 0:te.providerServices})]})})]}),n==="provider-completed"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500 flex items-center justify-center animate-bounce",children:s.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),s.jsx("h3",{className:"text-xl font-bold text-center",children:"Service Completed"}),s.jsx("p",{className:"text-gray-600 text-center mb-4",children:"The service provider has marked this job as complete. Please confirm."}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-lg",children:(W=o.details)==null?void 0:W.providerName}),s.jsx("p",{className:"text-gray-600 mb-3",children:(Y=o.details)==null?void 0:Y.providerServices})]}),s.jsxs("div",{className:"space-y-2 pb-3 border-b border-gray-200",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Duration:"})," ",o.jobDuration||o.durationHours||1," hour",(o.jobDuration||o.durationHours)>1?"s":""]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Service:"})," ",((ne=o.details)==null?void 0:ne.service)||((we=o.details)==null?void 0:we.providerServices)]})]}),s.jsx("div",{className:"flex items-center justify-center mt-4",children:s.jsx("p",{className:"text-center text-gray-700",children:"Is the service completed to your satisfaction?"})})]}),s.jsxs("button",{onClick:ue,className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center font-medium",children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirm Completion"]})]}),n==="completed"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-500 flex items-center justify-center animate-pulse",children:s.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),s.jsx("h3",{className:"text-xl font-bold text-center",children:"Payment Details"}),s.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Please review and proceed with payment."}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[console.log("Debug payment details:",{hourlyCharge:xe("hourlyCharge",200),materialCost:xe("materialCost",0),additionalCharge:xe("additionalCharge",0),materials:xe("materials",[]),maintenancePrice:xe("maintenancePrice"),totalCalculated:xe("hourlyCharge",200)+xe("materialCost",0)+xe("additionalCharge",0)}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Service Duration:"}),s.jsxs("span",{children:[xe("jobDuration",1)," hour"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Hourly Rate:"}),s.jsxs("span",{children:["Rs. ",xe("hourlyRate",200),"/hour"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Service Charge:"}),s.jsxs("span",{children:["Rs. ",xe("hourlyCharge",200)]})]})]}),(()=>{const R=xe("materials",[]);let D=0;return R&&R.length>0?D=R.reduce((re,me)=>re+(parseFloat(me.cost)||0),0):D=xe("materialCost",0),s.jsxs("div",{className:"border-t pt-2",children:[s.jsx("p",{className:"font-medium mb-2",children:"Materials Used:"}),R.length>0?s.jsx("div",{className:"space-y-1",children:R.map((re,me)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:re.name}),s.jsxs("span",{children:["Rs. ",re.cost]})]},me))}):s.jsx("div",{className:"text-sm text-gray-500",children:"No materials added"}),s.jsxs("div",{className:"flex justify-between font-medium pt-1 border-t mt-2",children:[s.jsx("span",{children:"Total Material Cost:"}),s.jsxs("span",{children:["Rs. ",D]})]})]})})(),s.jsxs("div",{className:"border-t pt-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Additional Charges:"}),s.jsxs("span",{children:["Rs. ",xe("additionalCharge",0)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 mt-2 border-t",children:[s.jsx("span",{children:"Total Amount:"}),s.jsxs("span",{children:["Rs. ",(()=>{const R=xe("maintenancePrice");if(R)return R;const D=xe("hourlyCharge",200),re=xe("materials",[]);let me=0;re&&re.length>0?me=re.reduce((st,An)=>st+(parseFloat(An.cost)||0),0):me=xe("materialCost",0);const de=parseFloat(xe("additionalCharge",0)),ce=D+me+de;return console.log("Calculated detailed total:",{hourlyCharge:D,materialCost:me,additionalCharge:de,total:ce}),ce})()]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-center",children:"Select Payment Method"}),s.jsx("button",{onClick:()=>Ge("cash"),className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center font-medium disabled:opacity-70 disabled:cursor-not-allowed",disabled:U,children:U?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Pay with Cash"]})}),s.jsx("button",{onClick:()=>Ge("esewa"),className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center font-medium disabled:opacity-70 disabled:cursor-not-allowed",disabled:U,children:U?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Pay with eSewa"]})})]})]}),n==="paid"&&s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500 flex items-center justify-center animate-bounce",children:s.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Payment Successful"}),s.jsx("p",{className:"text-base text-gray-600 mt-1",children:"Please rate your experience"})]}),s.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium mb-2",children:"Rating"}),s.jsx("div",{className:"flex justify-center space-x-3",children:[1,2,3,4,5].map(R=>s.jsx("button",{onClick:()=>_(R),className:`transform transition-all duration-200 ${R<=P?"text-yellow-400 scale-110":"text-gray-300 hover:text-yellow-400 hover:scale-110"}`,children:s.jsx("span",{className:"text-3xl",children:""})},R))}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:P===0?"Select a rating":`You rated ${P} star${P!==1?"s":""}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-medium mb-2",children:"Your Review"}),s.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-gray-700 text-sm resize-none",rows:"3",placeholder:"Share your experience...",value:w,onChange:R=>j(R.target.value)})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:_t,className:"flex-1 bg-gray-100 text-gray-800 py-2 rounded-lg hover:bg-gray-200 transition-all flex items-center justify-center text-sm font-medium",children:[s.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Skip"]}),s.jsxs("button",{onClick:Jt,disabled:P===0,className:`flex-1 py-2 rounded-lg transition-all flex items-center justify-center text-sm font-medium ${P>0?"bg-blue-500 text-white hover:bg-blue-600 shadow-sm hover:shadow-md":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:[s.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Submit Review"]})]})]})]})}),n==="reviewed"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500 flex items-center justify-center animate-bounce",children:s.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),s.jsx("h3",{className:"text-xl font-bold text-center",children:"Thank You!"}),s.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Your review has been submitted successfully."}),s.jsxs("button",{onClick:_t,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Back to Map"]})]})]})]})]})})]})})})},p3=()=>s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Security Policy"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Our Commitment to Security"}),s.jsx("p",{className:"text-gray-600",children:"At Ghar-ko-Sathi, we are committed to ensuring the security of your personal information and providing a safe platform for connecting users with service providers. This security policy outlines the measures we take to protect your data and maintain a secure environment."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Data Protection"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[s.jsx("li",{children:"All personal data is encrypted during transmission using industry-standard SSL/TLS protocols."}),s.jsx("li",{children:"We implement secure storage practices with regular security audits."}),s.jsx("li",{children:"Access to user data is strictly limited to authorized personnel only."}),s.jsx("li",{children:"We regularly update our systems to protect against known vulnerabilities."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Account Security"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[s.jsx("li",{children:"We use secure authentication methods to protect user accounts."}),s.jsx("li",{children:"Passwords are stored using strong one-way hashing algorithms."}),s.jsx("li",{children:"We implement measures to prevent unauthorized access attempts."}),s.jsx("li",{children:"Users are encouraged to create strong, unique passwords and not share account credentials."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Service Provider Verification"}),s.jsx("p",{className:"text-gray-600",children:"To ensure the safety of our users, we implement a verification process for service providers that includes:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600 mt-2",children:[s.jsx("li",{children:"Identity verification through official documentation."}),s.jsx("li",{children:"Background checks where applicable and legally permitted."}),s.jsx("li",{children:"Verification of professional qualifications and licenses."}),s.jsx("li",{children:"Regular review of service provider ratings and user feedback."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Payment Security"}),s.jsx("p",{className:"text-gray-600",children:"Our payment processing system is designed with security as a priority:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600 mt-2",children:[s.jsx("li",{children:"We use trusted third-party payment processors that comply with PCI DSS standards."}),s.jsx("li",{children:"Payment information is encrypted and not stored on our servers."}),s.jsx("li",{children:"We implement fraud detection measures to protect against unauthorized transactions."})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Reporting Security Issues"}),s.jsxs("p",{className:"text-gray-600",children:["If you discover a security vulnerability or have concerns about the security of our platform, please contact us immediately at ",s.jsx("span",{className:"text-blue-600",children:"security@gharko-sathi.com"}),". We take all security reports seriously and will investigate promptly."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Security Updates"}),s.jsx("p",{className:"text-gray-600",children:"This security policy may be updated periodically to reflect changes in our practices or to address new security challenges. We encourage you to review this policy regularly to stay informed about how we protect your information."})]})]})]})}),g3=()=>s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Privacy Policy"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Introduction"}),s.jsx("p",{className:"text-gray-600",children:"At Ghar-ko-Sathi, we respect your privacy and are committed to protecting your personal data. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our platform. Please read this policy carefully to understand our practices regarding your personal data."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Information We Collect"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"We collect several types of information from and about users of our platform, including:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Personal Information:"})," Name, email address, phone number, postal address, and other identifiers you provide when registering or updating your account."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Profile Information:"})," Information you provide in your user profile, including profile pictures, skills, qualifications, and work experience (for service providers)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Transaction Information:"})," Details about bookings, services requested or provided, payment information, and service ratings."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Location Information:"})," Geographic location data when you use our mapping features or enable location services."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Usage Information:"})," Information about how you use our platform, including log data, device information, and cookies."]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"How We Use Your Information"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"We use the information we collect for various purposes, including:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[s.jsx("li",{children:"Providing, maintaining, and improving our services"}),s.jsx("li",{children:"Processing transactions and sending related information"}),s.jsx("li",{children:"Connecting users with appropriate service providers"}),s.jsx("li",{children:"Verifying service provider identities and qualifications"}),s.jsx("li",{children:"Communicating with you about your account, services, or support requests"}),s.jsx("li",{children:"Sending promotional communications (with your consent)"}),s.jsx("li",{children:"Analyzing usage patterns to enhance user experience"}),s.jsx("li",{children:"Ensuring platform security and preventing fraud"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Information Sharing and Disclosure"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"We may share your information in the following circumstances:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Between Users and Service Providers:"})," When you book a service, relevant information is shared with the service provider to facilitate the service."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Service Providers and Partners:"})," We may share information with third-party vendors who provide services on our behalf, such as payment processing, data analysis, and customer service."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," We may disclose information if required by law, regulation, or legal process."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets, your information may be transferred as a business asset."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"With Your Consent:"})," We may share information with third parties when you have given us your consent to do so."]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Data Security"}),s.jsx("p",{className:"text-gray-600",children:"We implement appropriate security measures to protect your personal information from unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the Internet or electronic storage is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Your Privacy Rights"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Depending on your location, you may have certain rights regarding your personal information, including:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-600",children:[s.jsx("li",{children:"Accessing and reviewing your personal information"}),s.jsx("li",{children:"Correcting inaccurate information"}),s.jsx("li",{children:"Deleting your personal information"}),s.jsx("li",{children:"Restricting or objecting to certain processing activities"}),s.jsx("li",{children:"Data portability"}),s.jsx("li",{children:"Withdrawing consent"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"To exercise these rights, please contact us using the information provided at the end of this policy."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Children's Privacy"}),s.jsx("p",{className:"text-gray-600",children:"Our services are not intended for individuals under the age of 18. We do not knowingly collect personal information from children. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Changes to This Privacy Policy"}),s.jsx("p",{className:"text-gray-600",children:"We may update this Privacy Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any material changes by posting the updated policy on this page with a new effective date."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Contact Us"}),s.jsx("p",{className:"text-gray-600",children:"If you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us at:"}),s.jsx("p",{className:"text-blue-600 mt-2",children:"privacy@gharko-sathi.com"})]})]})]})}),$r=oe.create({baseURL:"http://localhost:8000"});$r.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const v3=()=>{const{user:e}=Pt(),t=Tv(),[n,i]=v.useState([]),[o,l]=v.useState(null),[u,d]=v.useState([]),[f,m]=v.useState(""),[x,g]=v.useState(!1),[b,k]=v.useState(""),N=v.useRef(null),[C,P]=v.useState({});v.useEffect(()=>{if(!(!t||!e))return t.on("newMessage",T=>{if(o&&T.conversation===o._id)d(q=>[...q,T]),t.emit("markAsRead",{conversationId:o._id,userId:e._id});else if(P(q=>({...q,[T.conversation]:(q[T.conversation]||0)+1})),T.sender!==e._id){const q=T.senderType==="admin"?"Admin":T.senderType==="user"?"User":"Service Provider";Q.info(`New message from ${q}: ${T.content.substring(0,30)}${T.content.length>30?"...":""}`,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}}),t.on("newConversation",T=>{i(q=>[T,...q]),e.role!=="admin"&&(e.role==="user"&&T.user===e._id||e.role==="serviceProvider"&&T.serviceProvider===e._id)&&l(T),Q.info("New conversation started",{position:"top-right",autoClose:3e3})}),()=>{t.off("newMessage"),t.off("newConversation")}},[t,o,e]),v.useEffect(()=>{t&&e&&t.emit("register",{userId:e._id,role:e.role})},[t,e]),v.useEffect(()=>{const T=async()=>{try{g(!0),console.log("Fetching conversations from:",`${$r.defaults.baseURL}/api/chat/conversations`);const q=await $r.get("/api/chat/conversations"),F=Array.isArray(q.data)?q.data:[];i(F),(e==null?void 0:e.role)!=="admin"&&F.length===0?S():(e==null?void 0:e.role)!=="admin"&&F.length>0&&l(F[0]);const K={};F.forEach(J=>{K[J._id]=J.unreadCount||0}),P(K),g(!1)}catch(q){console.error("Error fetching conversations:",q),Q.error("Failed to load conversations"),g(!1),i([])}};if(e){T();const q=setInterval(T,3e4);return()=>clearInterval(q)}},[e]),v.useEffect(()=>{if(o){const T=async()=>{try{g(!0);const F=await $r.get(`/api/chat/messages/${o._id}`);d(Array.isArray(F.data)?F.data:[]),P(K=>({...K,[o._id]:0})),t&&t.emit("markAsRead",{conversationId:o._id,userId:e._id}),g(!1)}catch(F){console.error("Error fetching messages:",F),Q.error("Failed to load messages"),g(!1),d([])}};T();const q=setInterval(T,1e4);return()=>clearInterval(q)}},[o,t,e]),v.useEffect(()=>{var T;(T=N.current)==null||T.scrollIntoView({behavior:"smooth"})},[u]);const _=Array.isArray(n)?n.filter(T=>{var F,K,J,fe;return T?((e==null?void 0:e.role)==="admin"?`${((F=T.user)==null?void 0:F.name)||""} ${((K=T.serviceProvider)==null?void 0:K.name)||""}`:((J=T.user)==null?void 0:J.name)||((fe=T.serviceProvider)==null?void 0:fe.name)||"").toLowerCase().includes(b.toLowerCase()):!1}):[],w=async T=>{if(T.preventDefault(),!(!f.trim()||!o))try{const q={conversationId:o._id,content:f},F={_id:Date.now().toString(),conversation:o._id,sender:e._id,senderType:e.role,content:f,createdAt:new Date().toISOString(),isRead:!1,isOptimistic:!0};d(K=>[...K,F]),m(""),t&&t.connected?t.emit("sendMessage",q,K=>{K&&K.error&&(console.error("Socket message error:",K.error),Q.error("Failed to send message via socket"),j(q,F))}):j(q,F)}catch(q){console.error("Error preparing message:",q),Q.error("Failed to prepare message"),d(F=>F.filter(K=>!K.isOptimistic))}},j=async(T,q)=>{try{const F=await $r.post("/api/chat/messages",T);d(K=>K.map(J=>J._id===q._id?F.data:J))}catch(F){console.error("Error sending message via API:",F),Q.error("Failed to send message"),d(K=>K.filter(J=>J._id!==q._id))}},S=async()=>{try{console.log("Creating conversation with API URL:",`${$r.defaults.baseURL}/api/chat/conversations`);const T=await $r.post("/api/chat/conversations",{});return t||(i(q=>[T.data,...q]),l(T.data)),T.data}catch(T){return console.error("Error creating conversation:",T),Q.error("Failed to create conversation"),null}},O=T=>new Date(T).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),$=T=>new Date(T).toLocaleDateString(),M=T=>{var q,F;return T?(e==null?void 0:e.role)==="admin"?((q=T.user)==null?void 0:q.name)||((F=T.serviceProvider)==null?void 0:F.name)||"Unnamed":(e==null?void 0:e.role)==="user"||(e==null?void 0:e.role)==="serviceProvider"?"Chat with Admin Support":"Unnamed":"Unnamed"};return e?e.role==="user"||e.role==="serviceProvider"?s.jsxs("div",{className:"flex flex-col h-[calc(100vh-6rem)] bg-gray-100",children:[s.jsxs("div",{className:"p-4 border-b bg-white",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Chat with Admin Support"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Need help? Our admin team is here to assist you."})]}),s.jsx("div",{className:"flex-grow p-4 overflow-y-auto bg-gray-50",children:x&&!u.length?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):o?u.length>0?s.jsxs("div",{className:"space-y-3",children:[u.map(T=>s.jsx("div",{className:`flex ${T.sender===e._id?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${T.sender===e._id?"bg-blue-500 text-white":"bg-white border"} ${T.isOptimistic?"opacity-70":""}`,children:[s.jsx("div",{children:T.content}),s.jsxs("div",{className:`text-xs mt-1 flex items-center justify-between ${T.sender===e._id?"text-blue-100":"text-gray-500"}`,children:[s.jsx("span",{children:O(T.createdAt)}),T.isOptimistic&&s.jsx("span",{className:"ml-2",children:"Sending..."})]})]})},T._id)),s.jsx("div",{ref:N})]}):s.jsx("div",{className:"flex justify-center items-center h-full text-gray-500",children:"No messages yet. Start the conversation with our admin team!"}):s.jsxs("div",{className:"flex flex-col justify-center items-center h-full",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"Start a conversation with admin support"}),s.jsx("button",{onClick:S,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Start New Conversation"})]})}),o&&s.jsx("div",{className:"p-4 border-t bg-white",children:s.jsxs("form",{onSubmit:w,className:"flex",children:[s.jsx("input",{type:"text",value:f,onChange:T=>m(T.target.value),placeholder:"Type a message to admin support...",className:"flex-grow p-2 border rounded-l focus:outline-none focus:ring-2 focus:ring-blue-300"}),s.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 rounded-r hover:bg-blue-600",children:"Send"})]})})]}):s.jsxs("div",{className:"flex h-[calc(100vh-6rem)] bg-gray-100",children:[s.jsxs("div",{className:"w-1/4 bg-white border-r overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Support Conversations"}),s.jsx("div",{className:"mt-2",children:s.jsx("input",{type:"text",placeholder:"Search conversations...",className:"w-full p-2 border rounded",value:b,onChange:T=>k(T.target.value)})})]}),s.jsx("div",{className:"overflow-y-auto flex-grow",children:x&&_.length===0?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):_.length>0?_.map(T=>s.jsxs("div",{className:`p-3 border-b cursor-pointer hover:bg-gray-100 transition ${(o==null?void 0:o._id)===T._id?"bg-blue-50":""}`,onClick:()=>l(T),children:[s.jsxs("div",{className:"font-semibold flex justify-between",children:[s.jsx("span",{children:M(T)}),C[T._id]>0&&s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-red-500 rounded-full",children:C[T._id]})]}),s.jsxs("div",{className:"text-sm text-gray-500 flex justify-between",children:[s.jsx("span",{className:"truncate",children:T.lastMessage||"No messages yet"}),s.jsx("span",{children:T.updatedAt?$(T.updatedAt):""})]})]},T._id)):s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No support conversations found"})})]}),s.jsx("div",{className:"w-3/4 flex flex-col",children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border-b bg-white",children:[s.jsx("h3",{className:"text-lg font-semibold",children:M(o)}),s.jsx("p",{className:"text-sm text-gray-500",children:o.user?"User Support":"Service Provider Support"})]}),s.jsx("div",{className:"flex-grow p-4 overflow-y-auto bg-gray-50",children:x&&!u.length?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):u.length>0?s.jsxs("div",{className:"space-y-3",children:[u.map(T=>s.jsx("div",{className:`flex ${T.sender===e._id?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${T.sender===e._id?"bg-blue-500 text-white":"bg-white border"} ${T.isOptimistic?"opacity-70":""}`,children:[s.jsx("div",{children:T.content}),s.jsxs("div",{className:`text-xs mt-1 flex items-center justify-between ${T.sender===e._id?"text-blue-100":"text-gray-500"}`,children:[s.jsx("span",{children:O(T.createdAt)}),T.isOptimistic&&s.jsx("span",{className:"ml-2",children:"Sending..."})]})]})},T._id)),s.jsx("div",{ref:N})]}):s.jsx("div",{className:"flex justify-center items-center h-full text-gray-500",children:"No messages yet. Start the conversation!"})}),s.jsx("div",{className:"p-4 border-t bg-white",children:s.jsxs("form",{onSubmit:w,className:"flex",children:[s.jsx("input",{type:"text",value:f,onChange:T=>m(T.target.value),placeholder:"Type a message...",className:"flex-grow p-2 border rounded-l focus:outline-none focus:ring-2 focus:ring-blue-300"}),s.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 rounded-r hover:bg-blue-600",children:"Send"})]})})]}):s.jsx("div",{className:"flex justify-center items-center h-full text-gray-500",children:"Select a conversation to provide support"})})]}):s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{children:"Loading user information..."})})},x3=()=>{var b,k;const{bookingId:e}=yo(),t=Je(),n=Kt();Pt();const{socket:i}=v.useContext(is),[o,l]=v.useState(((b=n.state)==null?void 0:b.booking)||null),[u,d]=v.useState(!((k=n.state)!=null&&k.booking)),[f,m]=v.useState(null);v.useEffect(()=>{i&&La.initialize(i)},[i]),v.useEffect(()=>{!o&&e&&x()},[e,o]);const x=async()=>{try{d(!0);const N=await La.getBookingById(e);if(!N){m("Booking not found");return}l(N)}catch(N){console.error("Error fetching booking details:",N),m("Failed to load booking details")}finally{d(!1)}},g=async()=>{try{if(!o||!o.bookingId){Q.error("Invalid booking");return}await La.startJob(o.bookingId),Q.success("Job started successfully"),t("/provider/bookings",{state:{activeTab:"active"}})}catch(N){console.error("Error starting job:",N),Q.error("Failed to start job")}};return u?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?s.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen",children:[s.jsx("div",{className:"text-red-500 mb-4",children:f}),s.jsx("button",{onClick:()=>t("/provider/bookings"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go to Bookings"})]}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("button",{onClick:()=>t(-1),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]})}),s.jsx(FN,{booking:o,onStartJob:g})]})},Gv=({className:e})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"m9 12 2 2 4-4"})]});Gv.propTypes={className:De.string};const y3=()=>{const[e,t]=v.useState(!0),[n,i]=v.useState(null),[o,l]=v.useState(null),u=Kt(),d=Je(),m=new URLSearchParams(u.search).get("bookingId");v.useEffect(()=>{(async()=>{var N;if(!m){t(!1);return}try{console.log("Verifying payment for booking ID:",m);const C=await Qr.getPaymentStatus(m);console.log("Payment details:",C);try{const P=await oe.get(`/api/bookings/${m}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Booking details response:",P.data);const _=P.data.booking;l(_),localStorage.setItem("showReviewForm","true"),localStorage.setItem("reviewBookingId",m),(N=_==null?void 0:_.providerId)!=null&&N._id?(localStorage.setItem("reviewProviderId",_.providerId._id),localStorage.setItem("reviewProviderName",_.providerId.name||"Service Provider")):_!=null&&_.providerId&&(localStorage.setItem("reviewProviderId",_.providerId),localStorage.setItem("reviewProviderName","Service Provider")),d("/dashboard?showReview=true"),Q.success("Payment processed successfully!")}catch(P){console.error("Error fetching booking details after payment success:",P),Q.success("Payment processed, but could not fetch booking details for review."),d("/dashboard"),t(!1)}}catch(C){console.error("Error loading payment details:",C),i("Could not verify payment details. Please check your dashboard for booking status."),t(!1)}})()},[m,d]);const x=()=>{d("/dashboard")},g=()=>{d("/dashboard/menu/maps")},b=()=>{var k;localStorage.setItem("showReviewForm","true"),localStorage.setItem("reviewBookingId",m),(k=o==null?void 0:o.providerId)!=null&&k._id?(localStorage.setItem("reviewProviderId",o.providerId._id),localStorage.setItem("reviewProviderName",o.providerId.name||"Service Provider")):o!=null&&o.providerId&&(localStorage.setItem("reviewProviderId",o.providerId),localStorage.setItem("reviewProviderName","Service Provider")),d("/dashboard?showReview=true")};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Processing payment..."})]})}):n?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-yellow-500 text-5xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Payment Verification"}),s.jsx("p",{className:"text-gray-600 mb-8",children:n}),s.jsx("button",{onClick:x,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Go to Dashboard"})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 pt-20",children:s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Gv,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your payment has been processed successfully. Thank you for using our service!"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:b,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Write a Review"}),s.jsx("button",{onClick:x,className:"w-full px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"Go to Dashboard"}),s.jsx("button",{onClick:g,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Go to Map"})]})]})})})},_3=({className:e})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),s.jsx("path",{d:"M12 9v4"}),s.jsx("path",{d:"M12 17h.01"})]}),w3=()=>{const e=Kt(),t=Je(),i=new URLSearchParams(e.search).get("message")||"Your payment could not be processed",o=()=>{t(-1)},l=()=>{t("/")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 pt-20",children:s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(_3,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Payment Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:i}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-md mb-6 text-left",children:[s.jsx("h2",{className:"font-semibold text-lg mb-2",children:"What went wrong?"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:[s.jsx("li",{children:"The payment might have been cancelled"}),s.jsx("li",{children:"There could be an issue with the payment gateway"}),s.jsx("li",{children:"Your account may have insufficient funds"}),s.jsx("li",{children:"There might be a temporary technical issue"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[s.jsx("button",{onClick:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Try Again"}),s.jsx("button",{onClick:l,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"Go to Home"})]})]})})})},b3=()=>{const{user:e}=Pt();return s.jsxs(Ew,{children:[s.jsx(Te,{path:"/",element:s.jsx(GN,{})}),s.jsx(Te,{path:"/signupAccount",element:s.jsx(t3,{})}),s.jsx(Te,{path:"/signupUser",element:s.jsx(QN,{})}),s.jsx(Te,{path:"/signupServiceProvider",element:s.jsx(r3,{})}),s.jsx(Te,{path:"/pending-approval",element:s.jsx(Ls,{children:s.jsx(u3,{})})}),s.jsx(Te,{path:"/payments/success",element:s.jsx(Ls,{children:s.jsx(y3,{})})}),s.jsx(Te,{path:"/payments/error",element:s.jsx(Ls,{children:s.jsx(w3,{})})}),s.jsx(Te,{path:"/provider/booking/:bookingId",element:s.jsx(Ls,{children:s.jsx($n,{requiredRole:["serviceProvider"],requireApproval:!0,children:s.jsx(x3,{})})})}),s.jsxs(Te,{path:"/dashboard",element:s.jsx(Ls,{children:s.jsx(vN,{})}),children:[s.jsx(Te,{index:!0,element:(e==null?void 0:e.role)==="admin"?s.jsx(KN,{}):(e==null?void 0:e.role)==="user"?s.jsx(kr,{to:"/dashboard/menu/services",replace:!0}):(e==null?void 0:e.role)==="serviceProvider"?s.jsx(kr,{to:"/dashboard/menu/maps",replace:!0}):s.jsx(kr,{to:"/",replace:!0})}),s.jsxs(Te,{path:"menu",element:s.jsx(lr,{}),children:[s.jsx(Te,{path:"maps",element:(e==null?void 0:e.role)==="serviceProvider"?s.jsx($n,{requiredRole:["serviceProvider","admin"],requireApproval:!0,children:s.jsx(op,{})}):(e==null?void 0:e.role)==="user"?s.jsx($n,{requiredRole:["user","admin"],requireApproval:!0,children:s.jsx(m3,{})}):s.jsx($n,{requiredRole:["admin"],children:s.jsx(op,{})})}),s.jsxs(Te,{path:"services",element:s.jsx(lr,{}),children:[s.jsx(Te,{index:!0,element:(e==null?void 0:e.role)==="serviceProvider"?s.jsx($n,{requiredRole:["serviceProvider","admin"],requireApproval:!0,children:s.jsx(sp,{})}):s.jsx($n,{requiredRole:["user","admin"],children:s.jsx(sp,{})})}),s.jsx(Te,{path:"add-services",element:s.jsx($n,{requiredRole:["admin"],children:s.jsx(YN,{})})})]}),s.jsxs(Te,{path:"users",element:s.jsx($n,{requiredRole:["admin"],children:s.jsx(lr,{})}),children:[s.jsx(Te,{index:!0,element:s.jsx(i3,{})}),s.jsx(Te,{path:"view/:id",element:s.jsx(l3,{})}),s.jsx(Te,{path:"edit/:id",element:s.jsx(c3,{})})]}),s.jsxs(Te,{path:"serviceProvider",element:s.jsx($n,{requiredRole:["admin"],children:s.jsx(lr,{})}),children:[s.jsx(Te,{index:!0,element:s.jsx(s3,{})}),s.jsx(Te,{path:"view/:id",element:s.jsx(o3,{})}),s.jsx(Te,{path:"edit/:id",element:s.jsx(a3,{})})]})]}),s.jsx(Te,{path:"account",element:s.jsx(lr,{}),children:s.jsx(Te,{path:"settings",element:s.jsx(JN,{})})}),s.jsxs(Te,{path:"legal",element:s.jsx(lr,{}),children:[s.jsx(Te,{path:"security",element:s.jsx(p3,{})}),s.jsx(Te,{path:"privacy",element:s.jsx(g3,{})})]}),s.jsx(Te,{path:"contact",element:s.jsx(lr,{}),children:s.jsx(Te,{path:"chat",element:s.jsx(v3,{})})})]}),s.jsx(Te,{path:"*",element:s.jsx(I2,{})})]})};function j3(){return s.jsxs(Lv,{children:[s.jsx(qj,{position:"top-right",autoClose:3e3}),s.jsx(b3,{})]})}Xc.createRoot(document.getElementById("root")).render(s.jsx(Ne.StrictMode,{children:s.jsx(y4,{children:s.jsxs(zw,{children:[s.jsx(R2,{}),s.jsx(j3,{})]})})}));
//# sourceMappingURL=main-C5KK2spX.js.map
